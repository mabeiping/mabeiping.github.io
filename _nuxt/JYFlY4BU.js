import{j as e,w as l,o as a,a as u,b as o,q as t,y as s,c as n,s as r,l as d,d as m,t as i,r as p}from"./HXycOAlW.js";import{_ as c}from"./D1uvpjsy.js";import{P as b}from"./CCskhr4_.js";import{G as v}from"./0iwS8AcL.js";import"./CG87npSv.js";import{_ as g}from"./BCo6x5W8.js";import"./CP1Hj45X.js";import"./CPBe7JJp.js";import"./BadZoQ71.js";import"./Dyo0McTI.js";import"./DwtW3TPZ.js";const f={class:"space-y-6"},y={class:"bg-white p-4 rounded-lg shadow"},x={class:"space-y-3"},h={key:0,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},w={class:"grid grid-cols-2 gap-2"},k={key:1,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},j={class:"grid grid-cols-2 gap-2"},U={key:0,class:"mt-6"},V=["disabled"],_={key:0,class:"mr-2 animate-spin"},P={key:1,class:"mt-4"},C={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},D={class:"space-y-2 text-sm text-green-700"},F={key:0},Y={key:1},$={key:2},E=g({__name:"crop",setup(g){const E=p([]),L=p(null),R=p("auto"),T=p({top:0,bottom:0,left:0,right:0}),X=p({x:0,y:0,width:100,height:100}),q=p(""),z=p(!1),B=p(0),G=p(null),I=p(null),M=p(0),O=e=>{L.value=e.length>0?e[0]:null,G.value=""},S=e=>{G.value=e,L.value=null},Z=async()=>{if(L.value){z.value=!0,B.value=0,G.value=null,I.value=null,M.value=0;try{L.value,R.value,T.value,X.value,q.value;B.value=30,await new Promise(e=>setTimeout(e,2e3)),B.value=100,setTimeout(()=>{z.value=!1;const e=new Blob(["Mock data"],{type:"application/pdf"}),l=URL.createObjectURL(e);I.value=l;const a=`cropped_${Date.now()}.pdf`,u=document.createElement("a");u.href=l,u.download=a,document.body.appendChild(u),u.click(),document.body.removeChild(u),M.value=5},500)}catch(e){z.value=!1,G.value=e.message,e.message}}};return(p,g)=>(a(),e(c,{title:"PDF页面裁剪",description:"裁剪PDF文档的页面内容，去除不需要的边距和区域","download-button":!1,tips:["1. 点击'选择文件'按钮或拖拽PDF文件到上传区域","2. 等待文件上传完成","3. 裁剪设置：","   • 裁剪模式：选择裁剪方式（自动裁剪、手动裁剪）","   • 边距设置：设置上、下、左、右边距","   • 裁剪区域：指定裁剪区域的坐标和尺寸","4. 页面范围：","   • 裁剪所有页面或指定页面范围","5. 点击'开始裁剪'按钮","6. 等待处理完成后，文件会自动开始下载","⚠️ 重要警告：请勿上传包含重要秘密、敏感信息或机密数据的文件，以防信息泄露风险。"]},{default:l(()=>[u("div",f,[o(v,{multiple:!1,accept:".pdf",maxSize:104857600,modelValue:E.value,"onUpdate:modelValue":g[0]||(g[0]=e=>E.value=e),onFilesChanged:O,onError:S},null,8,["modelValue"]),u("div",y,[g[24]||(g[24]=u("h3",{class:"font-semibold mb-3"},"裁剪设置",-1)),u("div",x,[u("div",null,[g[12]||(g[12]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"裁剪模式",-1)),t(u("select",{"onUpdate:modelValue":g[1]||(g[1]=e=>R.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[11]||(g[11]=[u("option",{value:"auto"},"自动裁剪（去除空白边距）",-1),u("option",{value:"manual"},"手动裁剪（自定义边距）",-1),u("option",{value:"area"},"区域裁剪（指定裁剪区域）",-1)])],512),[[s,R.value]])]),"manual"===R.value?(a(),n("div",h,[g[17]||(g[17]=u("h4",{class:"font-medium text-sm mb-2"},"边距设置（毫米）",-1)),u("div",w,[u("div",null,[g[13]||(g[13]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"上边距",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[2]||(g[2]=e=>T.value.top=e),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,T.value.top,void 0,{number:!0}]])]),u("div",null,[g[14]||(g[14]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"下边距",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[3]||(g[3]=e=>T.value.bottom=e),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,T.value.bottom,void 0,{number:!0}]])]),u("div",null,[g[15]||(g[15]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"左边距",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[4]||(g[4]=e=>T.value.left=e),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,T.value.left,void 0,{number:!0}]])]),u("div",null,[g[16]||(g[16]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"右边距",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[5]||(g[5]=e=>T.value.right=e),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,T.value.right,void 0,{number:!0}]])])])])):d("",!0),"area"===R.value?(a(),n("div",k,[g[22]||(g[22]=u("h4",{class:"font-medium text-sm mb-2"},"裁剪区域设置（百分比）",-1)),u("div",j,[u("div",null,[g[18]||(g[18]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"起始X坐标",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[6]||(g[6]=e=>X.value.x=e),min:"0",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,X.value.x,void 0,{number:!0}]])]),u("div",null,[g[19]||(g[19]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"起始Y坐标",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[7]||(g[7]=e=>X.value.y=e),min:"0",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[r,X.value.y,void 0,{number:!0}]])]),u("div",null,[g[20]||(g[20]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"宽度",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[8]||(g[8]=e=>X.value.width=e),min:"1",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"},null,512),[[r,X.value.width,void 0,{number:!0}]])]),u("div",null,[g[21]||(g[21]=u("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"高度",-1)),t(u("input",{type:"number","onUpdate:modelValue":g[9]||(g[9]=e=>X.value.height=e),min:"1",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"},null,512),[[r,X.value.height,void 0,{number:!0}]])])])])):d("",!0),u("div",null,[g[23]||(g[23]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"页面范围",-1)),t(u("input",{type:"text","onUpdate:modelValue":g[10]||(g[10]=e=>q.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"留空裁剪所有页面，或输入页面范围（例如：1-3,5-7）"},null,512),[[r,q.value]])])])]),L.value?(a(),n("div",U,[u("button",{onClick:Z,disabled:z.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[z.value?(a(),n("span",_,"⏳")):d("",!0),m(" "+i(z.value?"处理中...":"开始裁剪"),1)],8,V)])):d("",!0),z.value?(a(),n("div",P,[o(b,{progress:B.value,label:`处理进度: ${B.value}%`,error:G.value},null,8,["progress","label","error"])])):d("",!0),I.value?(a(),n("div",C,[g[26]||(g[26]=u("h3",{class:"font-semibold text-green-700 mb-2"},"裁剪成功",-1)),u("div",D,[u("p",null,"成功裁剪："+i(M.value)+" 个页面",1),u("p",null,"裁剪模式："+i("auto"===R.value?"自动裁剪":"manual"===R.value?"手动裁剪":"区域裁剪"),1),"manual"===R.value?(a(),n("p",F,"边距设置：上 "+i(T.value.top)+"mm, 下 "+i(T.value.bottom)+"mm, 左 "+i(T.value.left)+"mm, 右 "+i(T.value.right)+"mm",1)):d("",!0),"area"===R.value?(a(),n("p",Y,"裁剪区域：X="+i(X.value.x)+"%, Y="+i(X.value.y)+"%, 宽="+i(X.value.width)+"%, 高="+i(X.value.height)+"%",1)):d("",!0),q.value?(a(),n("p",$,"页面范围："+i(q.value),1)):d("",!0),g[25]||(g[25]=u("p",null,"文件已自动开始下载",-1))])])):d("",!0)])]),_:1}))}},[["__scopeId","data-v-5aec146d"]]);export{E as default};
