import{_ as j}from"./DH2cvNJp.js";import{m as F,u as L,D as R,w as U,o as c,a as e,c as p,j as x,i as a,h as r,t as i,F as V,g as z,q as f,s as y,x as S,v as T}from"./Cyl4WCzq.js";import"./D9JWhQ1s.js";import"./D_fA1zd6.js";const A={class:"space-y-6"},D={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},E={key:0,class:"space-y-4"},I={class:"flex items-center justify-between"},N={class:"text-lg font-bold text-text-primary"},P={class:"space-y-2 max-h-64 overflow-y-auto"},$={class:"flex items-center gap-3"},H={class:"font-medium text-text-primary"},O={class:"text-sm text-text-secondary"},q=["onClick"],G={class:"grid grid-cols-2 gap-4"},K=["disabled"],J={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},Q={class:"space-y-1 text-sm text-green-700"},oe={__name:"text-batch-processor",setup(W){const v=a(null),s=a([]),d=a("replace"),m=a(""),u=a(!1),n=a(null),b=()=>{v.value?.click()},w=o=>{const t=Array.from(o.target.files);s.value=[...s.value,...t]},k=o=>{s.value.splice(o,1)},_=()=>{s.value=[],n.value=null},C=o=>{if(o===0)return"0 Bytes";const t=1024,g=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(o)/Math.log(t));return Math.round(o/Math.pow(t,l)*100)/100+" "+g[l]},M=async()=>{if(s.value.length===0){alert("请先选择文本文件");return}u.value=!0;try{await new Promise(o=>setTimeout(o,1500)),n.value={fileCount:s.value.length,operation:d.value}}catch(o){console.error("Processing error:",o),alert("处理失败，请重试")}finally{u.value=!1}},B=()=>{!n.value||s.value.length===0||s.value.forEach(o=>{const t=document.createElement("a");t.href=URL.createObjectURL(o),t.download=`processed_${o.name}`,t.click(),URL.revokeObjectURL(t.href)})};return F(),L({title:"批量处理 - 免费在线文本批量处理工具 - 办公工具箱",meta:[{name:"description",content:"免费在线文本批量处理工具，支持批量替换、删除、插入、大小写转换等操作。支持正则表达式，实时预览结果，无需安装，即传即用，保护数据隐私。"},{name:"keywords",content:"文本批量处理, 批量替换, 批量删除, 文本处理, 免费文本工具, 在线文本处理, 批量操作, 文本编辑工具, 正则批量处理, 文本批量操作"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"批量处理 - 免费在线文本批量处理工具 - 办公工具箱"},{property:"og:description",content:"免费在线文本批量处理工具，支持批量替换、删除、插入等操作"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/text/text-batch-processor"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/text/text-batch-processor"}]}),(o,t)=>{const g=j;return c(),R(g,{title:"批量处理",description:"批量处理文本文件"},{default:U(()=>[e("div",A,[e("div",D,[e("input",{ref_key:"fileInput",ref:v,type:"file",accept:".txt,.csv,.md",multiple:"",class:"hidden",onChange:w},null,544),e("div",{class:"space-y-4"},[t[2]||(t[2]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)),e("button",{onClick:b,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择文本文件 "),t[3]||(t[3]=e("p",{class:"text-sm text-text-secondary"},"支持多文件选择",-1))])]),r(s).length>0?(c(),p("div",E,[e("div",I,[e("h3",N,"已选择 "+i(r(s).length)+" 个文件",1),e("button",{onClick:_,class:"text-sm text-red-500 hover:text-red-600 transition-colors"}," 清空全部 ")]),e("div",P,[(c(!0),p(V,null,z(r(s),(l,h)=>(c(),p("div",{key:h,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",$,[t[4]||(t[4]=e("svg",{class:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("p",H,i(l.name),1),e("p",O,i(C(l.size)),1)])]),e("button",{onClick:X=>k(h),class:"text-red-500 hover:text-red-600 transition-colors"},[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,q)]))),128))]),e("div",G,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"批量操作",-1)),f(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>y(d)?d.value=l:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...t[6]||(t[6]=[e("option",{value:"replace"},"替换文本",-1),e("option",{value:"prepend"},"添加前缀",-1),e("option",{value:"append"},"添加后缀",-1),e("option",{value:"remove"},"删除行",-1),e("option",{value:"uppercase"},"转大写",-1),e("option",{value:"lowercase"},"转小写",-1),e("option",{value:"trim"},"去除空格",-1)])],512),[[S,r(d)]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"目标文本",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>y(m)?m.value=l:null),type:"text",placeholder:"输入要替换或添加的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[T,r(m)]])])]),e("button",{onClick:M,disabled:r(u)||r(s).length===0,class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},i(r(u)?"处理中...":"开始处理"),9,K)])):x("",!0),r(n)?(c(),p("div",J,[t[9]||(t[9]=e("h3",{class:"font-bold text-green-800 mb-2"},"处理完成！",-1)),e("div",Q,[e("p",null,"处理了 "+i(r(n).fileCount)+" 个文件",1),e("p",null,"操作类型："+i(r(n).operation),1)]),e("button",{onClick:B,class:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载处理后的文件 ")])):x("",!0)])]),_:1})}}};export{oe as default};
