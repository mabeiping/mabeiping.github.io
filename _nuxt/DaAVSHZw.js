import{_ as x,r,c as n,a as s,m as d,y as h,p as g,t as c,F as P,l as S,o as l}from"./CXV6dDrr.js";const I={class:"pdf-compress"},T={class:"container"},q={class:"upload-section"},L={class:"upload-content"},N={class:"upload-text"},E={class:"upload-title"},O={key:0,class:"options-section"},V={class:"compression-modes"},$=["onClick"],j={class:"mode-icon"},A={class:"mode-info"},G={class:"mode-name"},K={class:"mode-desc"},R={key:1,class:"file-info-section"},H={class:"info-card"},J={class:"info-item"},Q={class:"info-value"},U={class:"info-item"},W={class:"info-value"},X={key:0,class:"info-item success"},Y={class:"info-value"},Z={key:1,class:"info-item success"},ss={class:"info-value"},es={key:2,class:"action-section"},os=["disabled"],ts={key:0,class:"spinner"},as={key:1},ns={__name:"compress",setup(ls){const k=r(null),a=r(null),u=r("quality"),v=r(!1),p=r(!1),i=r(null),_=r(0),D=[{value:"quality",name:"é«˜è´¨é‡",description:"ä¿æŒå›¾ç‰‡è´¨é‡ï¼Œé€‚åˆæ‰“å°",icon:"ğŸ¯"},{value:"standard",name:"æ ‡å‡†",description:"å¹³è¡¡è´¨é‡å’Œå¤§å°",icon:"âš–ï¸"},{value:"size",name:"æœ€å°ä½“ç§¯",description:"æœ€å¤§ç¨‹åº¦å‡å°æ–‡ä»¶",icon:"ğŸ“‰"}],M=()=>{k.value.click()},b=o=>{v.value=!0},C=o=>{v.value=!1},F=o=>{v.value=!1;const e=o.dataTransfer.files;e.length>0&&e[0].type==="application/pdf"&&(a.value=e[0],i.value=null,_.value=0)},B=o=>{const e=o.target.files;e.length>0&&(a.value=e[0],i.value=null,_.value=0)},y=o=>{if(o===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],m=Math.floor(Math.log(o)/Math.log(e));return Math.round(o/Math.pow(e,m)*100)/100+" "+t[m]},f=(o,e="success")=>{const t=document.createElement("div");t.className=`toast toast-${e}`,t.textContent=o,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)},w=async()=>{if(!a.value){f("è¯·å…ˆé€‰æ‹© PDF æ–‡ä»¶","error");return}p.value=!0;try{await new Promise(t=>setTimeout(t,2e3));const o=a.value.size,e=u.value==="quality"?.7:u.value==="standard"?.5:.3;i.value=Math.round(o*e),_.value=Math.round((1-i.value/o)*100),f("å‹ç¼©å®Œæˆï¼")}catch{f("å‹ç¼©å¤±è´¥ï¼Œè¯·é‡è¯•","error")}finally{p.value=!1}},z=()=>{f("ä¸‹è½½åŠŸèƒ½æ¼”ç¤º")};return(o,e)=>(l(),n("div",I,[s("div",T,[e[7]||(e[7]=s("div",{class:"header"},[s("h1",{class:"title"},"PDF å‹ç¼©å·¥å…·"),s("p",{class:"subtitle"},"é«˜æ•ˆå‹ç¼© PDF æ–‡ä»¶ï¼Œå‡å°æ–‡ä»¶ä½“ç§¯")],-1)),s("div",q,[s("div",{class:g(["upload-area",{"drag-over":v.value,"has-file":a.value}]),onDragover:h(b,["prevent"]),onDragleave:h(C,["prevent"]),onDrop:h(F,["prevent"]),onClick:M},[s("input",{type:"file",ref_key:"fileInput",ref:k,accept:".pdf",onChange:B,style:{display:"none"}},null,544),s("div",L,[e[1]||(e[1]=s("svg",{class:"upload-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),s("div",N,[s("p",E,c(a.value?a.value.name:"ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼  PDF æ–‡ä»¶"),1),e[0]||(e[0]=s("p",{class:"upload-hint"},"æ”¯æŒæœ€å¤§ 100MB çš„ PDF æ–‡ä»¶",-1))])])],34)]),a.value?(l(),n("div",O,[e[2]||(e[2]=s("div",{class:"options-header"},[s("h2",{class:"options-title"},"å‹ç¼©æ¨¡å¼")],-1)),s("div",V,[(l(),n(P,null,S(D,t=>s("div",{key:t.value,class:g(["mode-card",{active:u.value===t.value}]),onClick:m=>u.value=t.value},[s("div",j,c(t.icon),1),s("div",A,[s("h3",G,c(t.name),1),s("p",K,c(t.description),1)])],10,$)),64))])])):d("",!0),a.value?(l(),n("div",R,[s("div",H,[s("div",J,[e[3]||(e[3]=s("span",{class:"info-label"},"æ–‡ä»¶å",-1)),s("span",Q,c(a.value.name),1)]),s("div",U,[e[4]||(e[4]=s("span",{class:"info-label"},"åŸå§‹å¤§å°",-1)),s("span",W,c(y(a.value.size)),1)]),i.value?(l(),n("div",X,[e[5]||(e[5]=s("span",{class:"info-label"},"å‹ç¼©åå¤§å°",-1)),s("span",Y,c(y(i.value)),1)])):d("",!0),i.value?(l(),n("div",Z,[e[6]||(e[6]=s("span",{class:"info-label"},"å‹ç¼©ç‡",-1)),s("span",ss,c(_.value)+"%",1)])):d("",!0)])])):d("",!0),a.value?(l(),n("div",es,[s("button",{class:"btn btn-primary",disabled:p.value,onClick:w},[p.value?(l(),n("span",ts)):(l(),n("span",as,"å¼€å§‹å‹ç¼©"))],8,os),i.value?(l(),n("button",{key:0,class:"btn btn-success",onClick:z}," ä¸‹è½½å‹ç¼©æ–‡ä»¶ ")):d("",!0)])):d("",!0)])]))}},cs=x(ns,[["__scopeId","data-v-893fbcdc"]]);export{cs as default};
