import{_ as z}from"./BQHxoWhy.js";import{e as O,u as R,h as N,w as U,o as p,a as e,c as v,i as C,j as a,p as E,f as o,y as f,k as _,l as M,m as $,v as A,t as c,F as I,r as P,d as y}from"./B8s1FeTi.js";import"./Bgh1zsjK.js";import"./B2vQDBnT.js";const H={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},W={class:"lg:col-span-2 space-y-6"},G={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},K={class:"space-y-4"},q={class:"grid grid-cols-2 gap-4"},J=["disabled"],Q=["disabled"],Y=["disabled"],Z={key:0,class:"space-y-4"},ee={class:"flex items-center justify-between"},te={class:"text-lg font-bold text-text-primary"},se={class:"space-y-2 max-h-64 overflow-y-auto"},le={class:"flex items-center gap-3"},oe={class:"font-medium text-text-primary"},re={class:"text-sm text-text-secondary"},ne=["onClick"],ae={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},ie={class:"space-y-1 text-sm text-green-700"},ge={__name:"text-batch-processor",setup(de){const w=a(null),s=a([]),u=a("replace"),h=a(""),m=a(!1),i=a(null),g=a(!1),k=()=>{w.value?.click()},D=()=>{g.value=!0},L=()=>{g.value=!1},B=l=>{g.value=!1;const t=Array.from(l.dataTransfer.files),r=t.filter(n=>{const d=[".txt",".csv",".md",".doc",".docx",".xls",".xlsx",".rtf"],x=n.name.toLowerCase();return d.some(b=>x.endsWith(b))});if(r.length===0){alert("请选择支持的文件格式（TXT、CSV、MD、DOC、DOCX、XLS、XLSX、RTF）");return}r.length<t.length&&alert(`已忽略 ${t.length-r.length} 个不支持的文件`),s.value=[...s.value,...r]},T=l=>{const t=Array.from(l.target.files),r=t.filter(n=>{const d=[".txt",".csv",".md",".doc",".docx",".xls",".xlsx",".rtf"],x=n.name.toLowerCase();return d.some(b=>x.endsWith(b))});if(r.length===0){alert("请选择支持的文件格式（TXT、CSV、MD、DOC、DOCX、XLS、XLSX、RTF）");return}r.length<t.length&&alert(`已忽略 ${t.length-r.length} 个不支持的文件`),s.value=[...s.value,...r]},X=l=>{s.value.splice(l,1)},F=()=>{s.value=[],i.value=null},S=l=>{if(l===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(l)/Math.log(t));return Math.round(l/Math.pow(t,n)*100)/100+" "+r[n]},j=async()=>{if(s.value.length===0){alert("请先选择文件");return}m.value=!0;try{await new Promise(l=>setTimeout(l,1500)),i.value={fileCount:s.value.length,operation:u.value}}catch(l){console.error("Processing error:",l),alert("处理失败，请重试")}finally{m.value=!1}},V=()=>{!i.value||s.value.length===0||s.value.forEach(l=>{const t=document.createElement("a");t.href=URL.createObjectURL(l),t.download=`processed_${l.name}`,t.click(),URL.revokeObjectURL(t.href)})};return O(),R({title:"批量处理 - 免费在线文本批量处理工具 - 办公工具箱",meta:[{name:"description",content:"免费在线文本批量处理工具，支持批量替换、删除、插入、大小写转换等操作。支持正则表达式，实时预览结果，无需安装，即传即用，保护数据隐私。"},{name:"keywords",content:"文本批量处理, 批量替换, 批量删除, 文本处理, 免费文本工具, 在线文本处理, 批量操作, 文本编辑工具, 正则批量处理, 文本批量操作"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"批量处理 - 免费在线文本批量处理工具 - 办公工具箱"},{property:"og:description",content:"免费在线文本批量处理工具，支持批量替换、删除、插入等操作"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/text/text-batch-processor"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/text/text-batch-processor"}]}),(l,t)=>{const r=z;return p(),N(r,{title:"批量处理",description:"批量处理文本文件"},{default:U(()=>[e("div",H,[e("div",W,[e("div",G,[e("input",{ref_key:"fileInput",ref:w,type:"file",accept:".txt,.csv,.md,.doc,.docx,.xls,.xlsx,.rtf",multiple:"",class:"hidden",onChange:T},null,544),e("div",{onClick:k,onDragover:f(D,["prevent"]),onDragleave:f(L,["prevent"]),onDrop:f(B,["prevent"]),class:E(["cursor-pointer space-y-4 transition-colors",o(g)?"border-2 border-primary bg-primary/5":""])},[t[2]||(t[2]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)),e("button",{onClick:f(k,["stop"]),class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择文件 "),t[3]||(t[3]=e("p",{class:"text-sm text-text-secondary"},"支持拖拽上传",-1)),t[4]||(t[4]=e("p",{class:"text-xs text-text-secondary"},"支持格式：TXT、CSV、MD、DOC、DOCX、XLS、XLSX、RTF",-1))],34)]),e("div",K,[t[8]||(t[8]=e("h3",{class:"text-lg font-bold text-text-primary"},"处理选项",-1)),e("div",q,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"批量操作",-1)),_(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>M(u)?u.value=n:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:o(s).length===0},[...t[5]||(t[5]=[e("option",{value:"replace"},"替换文本",-1),e("option",{value:"prepend"},"添加前缀",-1),e("option",{value:"append"},"添加后缀",-1),e("option",{value:"remove"},"删除行",-1),e("option",{value:"uppercase"},"转大写",-1),e("option",{value:"lowercase"},"转小写",-1),e("option",{value:"trim"},"去除空格",-1)])],8,J),[[$,o(u)]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"目标文本",-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>M(h)?h.value=n:null),type:"text",placeholder:"输入要替换或添加的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:o(s).length===0},null,8,Q),[[A,o(h)]])])]),e("button",{onClick:j,disabled:o(m)||o(s).length===0,class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},c(o(m)?"处理中...":o(s).length===0?"请先选择文件":"开始处理"),9,Y)]),o(s).length>0?(p(),v("div",Z,[e("div",ee,[e("h3",te,"已选择 "+c(o(s).length)+" 个文件",1),e("button",{onClick:F,class:"text-sm text-red-500 hover:text-red-600 transition-colors"}," 清空全部 ")]),e("div",se,[(p(!0),v(I,null,P(o(s),(n,d)=>(p(),v("div",{key:d,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",le,[t[9]||(t[9]=e("svg",{class:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("p",oe,c(n.name),1),e("p",re,c(S(n.size)),1)])]),e("button",{onClick:x=>X(d),class:"text-red-500 hover:text-red-600 transition-colors"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ne)]))),128))])])):C("",!0),o(i)?(p(),v("div",ae,[t[11]||(t[11]=e("h3",{class:"font-bold text-green-800 mb-2"},"处理完成！",-1)),e("div",ie,[e("p",null,"处理了 "+c(o(i).fileCount)+" 个文件",1),e("p",null,"操作类型："+c(o(i).operation),1)]),e("button",{onClick:V,class:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载处理后的文件 ")])):C("",!0)]),t[12]||(t[12]=e("div",{class:"space-y-4"},[e("div",{class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},[e("h3",{class:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),y(" 使用说明 ")]),e("div",{class:"space-y-3 text-sm text-blue-700"},[e("div",null,[e("h4",{class:"font-semibold mb-1"},"1. 上传文件"),e("p",null,"点击上传区域或拖拽文件到页面，支持选择多个文件")]),e("div",null,[e("h4",{class:"font-semibold mb-1"},"2. 选择操作"),e("p",null,"从下拉菜单中选择需要的批量操作类型")]),e("div",null,[e("h4",{class:"font-semibold mb-1"},"3. 配置参数"),e("p",null,"根据选择的操作类型，输入相应的目标文本或参数")]),e("div",null,[e("h4",{class:"font-semibold mb-1"},"4. 开始处理"),e("p",null,'点击"开始处理"按钮，系统将自动处理所有文件')]),e("div",null,[e("h4",{class:"font-semibold mb-1"},"5. 下载结果"),e("p",null,"处理完成后，点击下载按钮获取处理后的文件")])])]),e("div",{class:"bg-gray-50 rounded-xl p-4 border border-gray-200"},[e("h3",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),y(" 支持的操作 ")]),e("div",{class:"space-y-2 text-sm text-gray-700"},[e("div",{class:"flex items-start gap-2"},[e("span",{class:"font-semibold text-primary"},"替换文本："),e("span",null,"将文件中所有匹配的文本替换为新文本")]),e("div",{class:"flex items-start gap-2"},[e("span",{class:"font-semibold text-primary"},"添加前缀/后缀："),e("span",null,"在每行文本开头或结尾添加指定内容")]),e("div",{class:"flex items-start gap-2"},[e("span",{class:"font-semibold text-primary"},"删除行："),e("span",null,"删除包含指定文本的行")]),e("div",{class:"flex items-start gap-2"},[e("span",{class:"font-semibold text-primary"},"转大写/小写："),e("span",null,"将所有文本转换为大写或小写")]),e("div",{class:"flex items-start gap-2"},[e("span",{class:"font-semibold text-primary"},"去除空格："),e("span",null,"删除每行首尾的空白字符")])])]),e("div",{class:"bg-yellow-50 rounded-xl p-4 border border-yellow-200"},[e("h3",{class:"text-lg font-bold text-yellow-800 mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),y(" 注意事项 ")]),e("ul",{class:"space-y-2 text-sm text-yellow-700 list-disc list-inside"},[e("li",null,'处理后的文件会自动添加"processed_"前缀'),e("li",null,"大文件处理可能需要较长时间，请耐心等待"),e("li",null,"建议先备份原始文件，避免数据丢失"),e("li",null,"所有处理均在本地完成，不会上传到服务器")])])],-1))])]),_:1})}}};export{ge as default};
