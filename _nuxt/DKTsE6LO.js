import{_ as T}from"./Cbwpa6-V.js";import{u as q,z as B,w as M,o as c,a as e,q as i,i as l,j as x,v as p,x as F,t as d,l as m,c as y,F as $,h as j,B as g}from"./ht_AtOyM.js";import"./B-T4dYXf.js";import"./Cy7Cg-KN.js";const V={class:"space-y-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"space-y-4"},U=["disabled"],z={class:"space-y-4"},H={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},S={class:"p-4 bg-blue-50 rounded-lg"},E={class:"text-2xl font-bold text-blue-700"},A={class:"p-4 bg-green-50 rounded-lg"},N={class:"text-2xl font-bold text-green-700"},O={class:"p-4 bg-orange-50 rounded-lg"},P={class:"text-2xl font-bold text-orange-700"},R={class:"p-4 bg-purple-50 rounded-lg"},G={class:"text-2xl font-bold text-purple-700"},I={class:"space-y-4"},J={class:"space-y-3"},K={class:"flex items-center justify-between"},Q={class:"flex items-center gap-3"},W={class:"font-medium text-text-primary"},X={class:"text-sm text-text-secondary"},Y={class:"flex items-center gap-2"},Z=["onClick","disabled"],ee=["onClick"],te={class:"mt-3 flex items-center justify-between"},oe={class:"flex items-center gap-2"},se={class:"text-sm text-text-secondary"},le={class:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden"},re={class:"text-sm text-text-secondary"},ce={__name:"habit-tracker",setup(ne){const s=x({name:"",frequency:"daily",targetCount:7,color:"#3B82F6"}),n=x([{id:1,name:"早起",frequency:"daily",targetCount:7,color:"#3B82F6",progress:5,streak:12,completedToday:!1,frequencyText:"每天 7 次"},{id:2,name:"阅读",frequency:"daily",targetCount:1,color:"#10B981",progress:0,streak:5,completedToday:!1,frequencyText:"每天 1 次"},{id:3,name:"运动",frequency:"weekly",targetCount:3,color:"#F59E0B",progress:2,streak:8,completedToday:!1,frequencyText:"每周 3 次"}]),f=m(()=>n.value.filter(r=>r.completedToday).length),v=m(()=>{const r=n.value.reduce((a,o)=>a+o.progress,0),t=n.value.reduce((a,o)=>a+o.targetCount,0);return t>0?Math.round(r/t*100):0}),b=m(()=>Math.max(...n.value.map(r=>r.streak))),k=()=>{if(!s.value.name){alert("请输入习惯名称");return}n.value.push({...s.value,id:Date.now(),progress:0,streak:0,completedToday:!1,frequencyText:_(s.value.frequency,s.value.targetCount)}),s.value={name:"",frequency:"daily",targetCount:7,color:"#3B82F6"}},_=(r,t)=>`${{daily:"每天",weekly:"每周",monthly:"每月"}[r]} ${t} 次`,w=r=>{const t=n.value[r];t.completedToday||(t.progress=Math.min(t.progress+1,t.targetCount),t.completedToday=!0,t.progress>=t.targetCount?t.streak++:t.streak=0)},C=r=>{n.value.splice(r,1)};return q({title:"习惯追踪 - Office Tools",meta:[{name:"description",content:"追踪和管理日常习惯"}]}),(r,t)=>{const a=T;return c(),B(a,{title:"习惯追踪",description:"追踪和管理日常习惯"},{default:M(()=>[e("div",V,[e("div",D,[e("div",L,[t[9]||(t[9]=e("h3",{class:"text-lg font-bold text-text-primary"},"添加习惯",-1)),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"习惯名称",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).name=o),type:"text",placeholder:"输入习惯名称",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[p,l(s).name]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"目标频率",-1)),i(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(s).frequency=o),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...t[5]||(t[5]=[e("option",{value:"daily"},"每天",-1),e("option",{value:"weekly"},"每周",-1),e("option",{value:"monthly"},"每月",-1)])],512),[[F,l(s).frequency]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"目标次数",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).targetCount=o),type:"number",min:"1",placeholder:"例如：7",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[p,l(s).targetCount,void 0,{number:!0}]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"颜色",-1)),i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).color=o),type:"color",class:"w-full h-10 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[p,l(s).color]])]),e("button",{onClick:k,disabled:!l(s).name,class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"}," 添加习惯 ",8,U)]),e("div",z,[t[14]||(t[14]=e("h3",{class:"text-lg font-bold text-text-primary"},"今日概览",-1)),e("div",H,[e("div",S,[t[10]||(t[10]=e("p",{class:"text-sm text-blue-600 mb-1"},"总习惯数",-1)),e("p",E,d(l(n).length),1)]),e("div",A,[t[11]||(t[11]=e("p",{class:"text-sm text-green-600 mb-1"},"已完成",-1)),e("p",N,d(l(f)),1)]),e("div",O,[t[12]||(t[12]=e("p",{class:"text-sm text-orange-600 mb-1"},"完成率",-1)),e("p",P,d(l(v))+"%",1)]),e("div",R,[t[13]||(t[13]=e("p",{class:"text-sm text-purple-600 mb-1"},"连续天数",-1)),e("p",G,d(l(b))+" 天",1)])])])]),e("div",I,[t[17]||(t[17]=e("h3",{class:"text-lg font-bold text-text-primary"},"习惯列表",-1)),e("div",J,[(c(!0),y($,null,j(l(n),(o,u)=>(c(),y("div",{key:u,class:"p-4 bg-white rounded-lg border-2",style:g({borderColor:o.color})},[e("div",K,[e("div",Q,[e("div",{class:"w-4 h-4 rounded-full",style:g({backgroundColor:o.color})},null,4),e("div",null,[e("p",W,d(o.name),1),e("p",X,d(o.frequencyText),1)])]),e("div",Y,[e("button",{onClick:h=>w(u),disabled:o.completedToday,class:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"标记完成"},[...t[15]||(t[15]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Z),e("button",{onClick:h=>C(u),class:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"删除"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 01-1.995-1.858L5 7m5 4v6a2 2 0 002 2v6a2 2 0 002 2z"})],-1)])],8,ee)])]),e("div",te,[e("div",oe,[e("p",se,"今日进度："+d(o.progress)+"/"+d(o.targetCount),1),e("div",le,[e("div",{class:"h-full transition-all duration-300",style:g({width:`${o.progress/o.targetCount*100}%`,backgroundColor:o.color})},null,4)])]),e("p",re,"连续 "+d(o.streak)+" 天",1)])],4))),128))])])])]),_:1})}}};export{ce as default};
