import{_ as V}from"./BQHxoWhy.js";import{e as L,u as N,h as R,w as S,o as y,a as t,c as h,i as D,k as w,l as k,j as f,v as C,f as o,t as l,F,r as U,p as E}from"./B8s1FeTi.js";import"./Bgh1zsjK.js";import"./B2vQDBnT.js";const H={class:"space-y-6"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},q={class:"space-y-4"},A={class:"flex justify-between"},G={class:"text-sm text-text-secondary"},I={class:"space-y-4"},J={class:"flex justify-between"},K={class:"text-sm text-text-secondary"},Q=["disabled"],W={key:0,class:"space-y-4"},X={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Y={class:"p-4 bg-blue-50 rounded-lg"},Z={class:"text-2xl font-bold text-blue-700"},tt={class:"p-4 bg-green-50 rounded-lg"},et={class:"text-2xl font-bold text-green-700"},st={class:"p-4 bg-red-50 rounded-lg"},ot={class:"text-2xl font-bold text-red-700"},nt={class:"p-4 bg-purple-50 rounded-lg"},lt={class:"text-2xl font-bold text-purple-700"},rt={class:"space-y-4"},at={class:"space-y-2"},it={class:"flex items-center gap-2"},dt={class:"text-sm font-mono bg-red-100 text-red-700 px-2 py-1 rounded"},pt={class:"flex items-center gap-2"},ct={class:"text-sm font-mono bg-blue-100 text-blue-700 px-2 py-1 rounded"},xt={class:"flex items-center gap-2"},mt={class:"text-sm font-mono bg-green-100 text-green-700 px-2 py-1 rounded"},ut={class:"p-4 bg-gray-50 rounded-lg max-h-64 overflow-y-auto"},gt={class:"w-16 text-xs text-text-secondary"},_t={__name:"text-comparison",setup(yt){const i=f(""),d=f(""),g=f(!1),r=f(null),b=a=>{a===1&&(i.value=""),a===2&&(d.value=""),r.value=null},T=async()=>{if(!i.value||!d.value){alert("请输入两段文本进行比较");return}g.value=!0;try{await new Promise(s=>setTimeout(s,1e3));const a=i.value.split(""),e=d.value.split(""),p=new Set(a),n=new Set(e),x=[...p].filter(s=>n.has(s)).length,$=a.length+e.length-2*x,j=[...p].filter(s=>n.has(s)).join(""),z=[...p].filter(s=>!n.has(s)).join(""),B=[...n].filter(s=>!p.has(s)).join(""),M=Math.round(x/Math.max(a.length,e.length)*100),v=i.value.split(`
`),_=d.value.split(`
`),O=Math.max(v.length,_.length),m=[];for(let s=0;s<O;s++){const c=v[s]||"",u=_[s]||"";c===u?m.push({line:s+1,type:"same",text:c||"(空行)"}):!c&&u?m.push({line:s+1,type:"added",text:`+ ${u}`}):c&&!u?m.push({line:s+1,type:"removed",text:`- ${c}`}):m.push({line:s+1,type:"changed",text:`~ ${c} → ${u}`})}r.value={totalChars:a.length+e.length,sameChars:x,diffChars:$,similarity:M,text1Only:z,text2Only:B,commonText:j,diffs:m}}catch(a){console.error("Comparison error:",a),alert("比较失败，请重试")}finally{g.value=!1}};return L(),N({title:"文本比较 - 免费在线文本比较工具 - 办公工具箱",meta:[{name:"description",content:"免费在线文本比较工具，快速比较两段文本的差异。支持逐行比较、词级比较，高亮显示差异，无需安装，即传即用，保护数据隐私。"},{name:"keywords",content:"文本比较, 文本差异比较, 文本对比, 免费文本工具, 在线文本比较, 文本差异检测, 文本对比工具, 文本比较工具"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"文本比较 - 免费在线文本比较工具 - 办公工具箱"},{property:"og:description",content:"免费在线文本比较工具，快速比较两段文本的差异"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/text/text-comparison"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/text/text-comparison"}]}),(a,e)=>{const p=V;return y(),R(p,{title:"文本比较",description:"比较两段文本的差异"},{default:S(()=>[t("div",H,[t("div",P,[t("div",q,[e[4]||(e[4]=t("h3",{class:"text-lg font-bold text-text-primary"},"原文",-1)),w(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=n=>k(i)?i.value=n:null),placeholder:"输入第一段文本...",rows:"15",class:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none font-mono text-sm"},null,512),[[C,o(i)]]),t("div",A,[t("button",{onClick:e[1]||(e[1]=n=>b(1)),class:"text-sm text-text-secondary hover:text-primary transition-colors"}," 清空 "),t("span",G,l(o(i).length)+" 字符",1)])]),t("div",I,[e[5]||(e[5]=t("h3",{class:"text-lg font-bold text-text-primary"},"新文",-1)),w(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>k(d)?d.value=n:null),placeholder:"输入第二段文本...",rows:"15",class:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none font-mono text-sm"},null,512),[[C,o(d)]]),t("div",J,[t("button",{onClick:e[3]||(e[3]=n=>b(2)),class:"text-sm text-text-secondary hover:text-primary transition-colors"}," 清空 "),t("span",K,l(o(d).length)+" 字符",1)])])]),t("button",{onClick:T,disabled:o(g)||!o(i)||!o(d),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},l(o(g)?"比较中...":"开始比较"),9,Q),o(r)?(y(),h("div",W,[e[15]||(e[15]=t("h3",{class:"text-lg font-bold text-text-primary"},"比较结果",-1)),t("div",X,[t("div",Y,[e[6]||(e[6]=t("p",{class:"text-sm text-blue-600 mb-1"},"总字符数",-1)),t("p",Z,l(o(r).totalChars),1)]),t("div",tt,[e[7]||(e[7]=t("p",{class:"text-sm text-green-600 mb-1"},"相同字符",-1)),t("p",et,l(o(r).sameChars),1)]),t("div",st,[e[8]||(e[8]=t("p",{class:"text-sm text-red-600 mb-1"},"不同字符",-1)),t("p",ot,l(o(r).diffChars),1)]),t("div",nt,[e[9]||(e[9]=t("p",{class:"text-sm text-purple-600 mb-1"},"相似度",-1)),t("p",lt,l(o(r).similarity)+"%",1)])]),t("div",rt,[t("div",null,[e[13]||(e[13]=t("h4",{class:"font-bold text-text-primary mb-2"},"差异详情",-1)),t("div",at,[t("div",it,[e[10]||(e[10]=t("span",{class:"w-20 text-sm text-text-secondary"},"原文：",-1)),t("span",dt,l(o(r).text1Only),1)]),t("div",pt,[e[11]||(e[11]=t("span",{class:"w-20 text-sm text-text-secondary"},"新文：",-1)),t("span",ct,l(o(r).text2Only),1)]),t("div",xt,[e[12]||(e[12]=t("span",{class:"w-20 text-sm text-text-secondary"},"共同：",-1)),t("span",mt,l(o(r).commonText),1)])])]),t("div",null,[e[14]||(e[14]=t("h4",{class:"font-bold text-text-primary mb-2"},"差异位置",-1)),t("div",ut,[(y(!0),h(F,null,U(o(r).diffs,(n,x)=>(y(),h("div",{key:x,class:"flex items-center gap-2 py-1 border-b border-gray-200"},[t("span",gt,"行"+l(n.line),1),t("span",{class:E(["flex-1 text-sm font-mono px-2 py-1 rounded",n.type==="added"?"bg-green-100 text-green-700":n.type==="removed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"])},l(n.text),3)]))),128))])])])])):D("",!0)])]),_:1})}}};export{_t as default};
