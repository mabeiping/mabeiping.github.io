import{_ as z}from"./CQUG57wd.js";import{u as D,h as P,w as R,o as n,a as e,c,i as f,j as a,f as o,t as u,F as V,r as H,p as U,k as y,l as h,v as _,q as L}from"./vIjrQGDC.js";import"./CA1_4N2w.js";import"./CQENOYst.js";const j={class:"space-y-6"},$={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},T={class:"space-y-4"},A={key:0,class:"text-sm text-text-secondary"},I={class:"space-y-4"},O={class:"grid grid-cols-4 gap-2"},S=["onClick","disabled"],E={class:"text-center"},N={class:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},q=["d"],G={class:"text-sm font-medium"},K={class:"flex items-center gap-2"},J=["disabled"],Q=["disabled"],W={class:"flex items-center gap-4"},X={class:"flex items-center gap-2"},Y=["disabled"],Z={key:0,class:"flex items-center gap-2"},ee=["disabled"],te=["disabled"],oe={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},se={class:"space-y-1 text-sm text-green-700"},ce={__name:"rotate",setup(le){const x=a(null),s=a(null),i=a(90),p=a(null),m=a(!0),g=a(""),b=a(!1),d=a(null),k=[{value:0,label:"0°",icon:"M4 4v16h16V4H4z"},{value:90,label:"90°",icon:"M4 4v16h16V4H4z"},{value:180,label:"180°",icon:"M4 4v16h16V4H4z"},{value:270,label:"270°",icon:"M4 4v16h16V4H4z"}],w=()=>{x.value?.click()},F=l=>{const t=l.target.files[0];t&&t.type==="application/pdf"&&(s.value=t)},C=l=>{if(l===0)return"0 Bytes";const t=1024,v=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(l)/Math.log(t));return Math.round(l/Math.pow(t,r)*100)/100+" "+v[r]},M=async()=>{if(!s.value){alert("请先选择PDF文件");return}b.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),d.value={angle:i.value,size:s.value.size}}catch(l){console.error("Rotation error:",l),alert("旋转失败，请重试")}finally{b.value=!1}},B=()=>{if(!d.value||!s.value)return;const l=document.createElement("a");l.href=URL.createObjectURL(s.value),l.download=`rotated_${i.value}deg_${s.value.name}`,l.click(),URL.revokeObjectURL(l.href)};return D({title:"PDF旋转 - Office Tools",meta:[{name:"description",content:"旋转PDF页面方向"}]}),(l,t)=>{const v=z;return n(),P(v,{title:"PDF旋转",description:"旋转PDF页面方向"},{default:R(()=>[e("div",j,[e("div",$,[e("input",{ref_key:"fileInput",ref:x,type:"file",accept:".pdf",class:"hidden",onChange:F},null,544),e("div",T,[t[4]||(t[4]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),e("button",{onClick:w,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),o(s)?(n(),c("p",A,u(o(s).name),1)):f("",!0)])]),e("div",I,[t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-text-primary"},"旋转设置",-1)),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"旋转角度",-1)),e("div",O,[(n(),c(V,null,H(k,r=>e("button",{key:r.value,onClick:re=>i.value=r.value,class:U(["p-4 border-2 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",o(i)===r.value?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-primary/50"]),disabled:!o(s)},[e("div",E,[(n(),c("svg",N,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.icon},null,8,q)])),e("p",G,u(r.label),1)])],10,S)),64))])]),e("div",K,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>h(p)?p.value=r:null),type:"number",min:"0",max:"360",placeholder:"自定义角度",class:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!o(s)},null,8,J),[[_,o(p),void 0,{number:!0}]]),e("button",{onClick:t[1]||(t[1]=r=>i.value=o(p)),class:"px-4 py-2 bg-gray-100 text-text-primary rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o(s)}," 应用 ",8,Q)]),e("div",W,[e("label",X,[y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>h(m)?m.value=r:null),type:"checkbox",class:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o(s)},null,8,Y),[[L,o(m)]]),t[6]||(t[6]=e("span",{class:"text-sm text-text-primary"},"旋转所有页面",-1))]),o(m)?f("",!0):(n(),c("div",Z,[y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>h(g)?g.value=r:null),type:"text",placeholder:"例如：1-5, 8-10",class:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!o(s)},null,8,ee),[[_,o(g),void 0,{number:!0}]])]))]),e("button",{onClick:M,disabled:o(b)||!o(s),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},u(o(b)?"旋转中...":o(s)?"开始旋转":"请先选择PDF文件"),9,te)]),o(d)?(n(),c("div",oe,[t[8]||(t[8]=e("h3",{class:"font-bold text-green-800 mb-2"},"旋转完成！",-1)),e("div",se,[e("p",null,"旋转角度："+u(o(d).angle)+"°",1),e("p",null,"文件大小："+u(C(o(d).size)),1)]),e("button",{onClick:B,class:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载旋转后的文件 ")])):f("",!0)])]),_:1})}}};export{ce as default};
