import{j as e,w as l,o as a,a as t,b as s,c as o,t as u,l as n,q as r,y as i,s as d,v as c,d as p,r as m,x as v}from"./BgOf89w3.js";import{_ as b}from"./2wcj7HJB.js";import{G as g}from"./B8Y4AogL.js";import"./BUkw5g4p.js";import"./BX-X-UIx.js";import"./COINl4vt.js";import"./B2Jz3f8v.js";import"./BCo6x5W8.js";const f={class:"space-y-6"},x={key:0,class:"mt-2 text-sm text-gray-500"},y={key:1,class:"space-y-4"},h={key:0,class:"grid grid-cols-2 gap-4"},w={class:"flex space-x-4"},k={class:"flex items-center space-x-2 cursor-pointer"},U={class:"flex items-center space-x-2 cursor-pointer"},V={class:"flex items-center space-x-2 cursor-pointer"},j={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex space-x-4"},C={class:"flex items-center space-x-2 cursor-pointer"},L={class:"flex items-center space-x-2 cursor-pointer"},F={class:"flex items-center space-x-2 cursor-pointer"},P={class:"flex items-center space-x-2 cursor-pointer"},D={key:1},_={class:"flex space-x-4"},z=["disabled"],M={key:0},B={key:1,class:"flex items-center justify-center"},R={key:2,class:"bg-green-50 border border-green-200 rounded-lg p-4"},$={class:"mt-2 text-green-700"},E={key:3,class:"bg-red-50 border border-red-200 rounded-lg p-4"},O={class:"mt-2 text-red-700"},T={__name:"adjust",setup(T){const q=m([]),G=v(()=>q.value[0]||null),H=m(0),Y=m("A4"),Z=m(210),I=m(297),J=m("portrait"),K=m({top:20,bottom:20,left:20,right:20}),N=m("all"),Q=m(""),S=m(!1),W=m(!1),X=m(""),ee=m(""),le=['1. 点击"选择文件"按钮上传PDF文件',"2. 选择页面大小：A4、A3、A5、Letter、Legal或自定义","3. 如果选择自定义大小，输入宽度和高度","4. 选择页面方向：纵向、横向或保持原样","5. 设置页面边距：上、下、左、右边距","6. 选择应用范围：所有页面、第一页、最后一页或页面范围","7. 如果选择页面范围，输入相应的页码范围",'8. 点击"开始调整"按钮进行处理',"9. 处理完成后，系统会自动下载处理后的PDF文件"],ae=e=>{e.length>0?H.value=Math.floor(20*Math.random())+1:(H.value=0,oe())},te=e=>{ee.value=e},se=async()=>{if(G.value){S.value=!0,ee.value="",W.value=!1;try{await new Promise(e=>setTimeout(e,2e3));let e="";"all"===N.value?e="所有页面":"first"===N.value?e="第一页":"last"===N.value?e="最后一页":"range"===N.value&&(e="指定页面范围"),X.value=`成功调整PDF页面设置，应用到${e}！`,W.value=!0,setTimeout(()=>{const e=new Blob(["模拟调整后的PDF文件内容"],{type:"application/pdf"}),l=URL.createObjectURL(e),a=document.createElement("a");a.href=l,a.download=`adjusted_${G.value.name}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)},1e3)}catch(e){ee.value=`调整失败：${e.message||"未知错误"}`}finally{S.value=!1}}else ee.value="请选择PDF文件"},oe=()=>{Y.value="A4",Z.value=210,I.value=297,J.value="portrait",K.value={top:20,bottom:20,left:20,right:20},N.value="all",Q.value="",ee.value="",W.value=!1,X.value=""};return(m,v)=>(a(),e(b,{title:"PDF页面调整",description:"调整PDF文件中的页面大小、边距和方向",tips:le},{default:l(()=>[t("div",f,[s(g,{multiple:!1,accept:".pdf","max-size":104857600,modelValue:q.value,"onUpdate:modelValue":v[0]||(v[0]=e=>q.value=e),onFilesChanged:ae,onError:te},null,8,["modelValue"]),G.value&&H.value?(a(),o("div",x," ("+u(H.value)+"页) ",1)):n("",!0),G.value&&H.value?(a(),o("div",y,[t("div",null,[v[17]||(v[17]=t("h3",{class:"text-lg font-semibold mb-2"},"页面大小",-1)),r(t("select",{"onUpdate:modelValue":v[1]||(v[1]=e=>Y.value=e),class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...v[16]||(v[16]=[t("option",{value:"A4"},"A4 (210 × 297 mm)",-1),t("option",{value:"A3"},"A3 (297 × 420 mm)",-1),t("option",{value:"A5"},"A5 (148 × 210 mm)",-1),t("option",{value:"Letter"},"Letter (8.5 × 11 inches)",-1),t("option",{value:"Legal"},"Legal (8.5 × 14 inches)",-1),t("option",{value:"Custom"},"自定义",-1)])],512),[[i,Y.value]])]),"Custom"===Y.value?(a(),o("div",h,[t("div",null,[v[18]||(v[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"宽度 (mm)",-1)),r(t("input",{"onUpdate:modelValue":v[2]||(v[2]=e=>Z.value=e),type:"number",min:"1",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,Z.value,void 0,{number:!0}]])]),t("div",null,[v[19]||(v[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"高度 (mm)",-1)),r(t("input",{"onUpdate:modelValue":v[3]||(v[3]=e=>I.value=e),type:"number",min:"1",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,I.value,void 0,{number:!0}]])])])):n("",!0),t("div",null,[v[23]||(v[23]=t("h3",{class:"text-lg font-semibold mb-2"},"页面方向",-1)),t("div",w,[t("label",k,[r(t("input",{type:"radio","onUpdate:modelValue":v[4]||(v[4]=e=>J.value=e),value:"portrait",class:"w-4 h-4 text-blue-600"},null,512),[[c,J.value]]),v[20]||(v[20]=t("span",null,"纵向",-1))]),t("label",U,[r(t("input",{type:"radio","onUpdate:modelValue":v[5]||(v[5]=e=>J.value=e),value:"landscape",class:"w-4 h-4 text-blue-600"},null,512),[[c,J.value]]),v[21]||(v[21]=t("span",null,"横向",-1))]),t("label",V,[r(t("input",{type:"radio","onUpdate:modelValue":v[6]||(v[6]=e=>J.value=e),value:"original",class:"w-4 h-4 text-blue-600"},null,512),[[c,J.value]]),v[22]||(v[22]=t("span",null,"保持原样",-1))])])]),t("div",null,[v[28]||(v[28]=t("h3",{class:"text-lg font-semibold mb-2"},"边距设置 (mm)",-1)),t("div",j,[t("div",null,[v[24]||(v[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"上边距",-1)),r(t("input",{"onUpdate:modelValue":v[7]||(v[7]=e=>K.value.top=e),type:"number",min:"0",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,K.value.top,void 0,{number:!0}]])]),t("div",null,[v[25]||(v[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"下边距",-1)),r(t("input",{"onUpdate:modelValue":v[8]||(v[8]=e=>K.value.bottom=e),type:"number",min:"0",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,K.value.bottom,void 0,{number:!0}]])]),t("div",null,[v[26]||(v[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"左边距",-1)),r(t("input",{"onUpdate:modelValue":v[9]||(v[9]=e=>K.value.left=e),type:"number",min:"0",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,K.value.left,void 0,{number:!0}]])]),t("div",null,[v[27]||(v[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"右边距",-1)),r(t("input",{"onUpdate:modelValue":v[10]||(v[10]=e=>K.value.right=e),type:"number",min:"0",step:"1",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,K.value.right,void 0,{number:!0}]])])])]),t("div",null,[v[33]||(v[33]=t("h3",{class:"text-lg font-semibold mb-2"},"应用范围",-1)),t("div",A,[t("label",C,[r(t("input",{type:"radio","onUpdate:modelValue":v[11]||(v[11]=e=>N.value=e),value:"all",class:"w-4 h-4 text-blue-600"},null,512),[[c,N.value]]),v[29]||(v[29]=t("span",null,"所有页面",-1))]),t("label",L,[r(t("input",{type:"radio","onUpdate:modelValue":v[12]||(v[12]=e=>N.value=e),value:"first",class:"w-4 h-4 text-blue-600"},null,512),[[c,N.value]]),v[30]||(v[30]=t("span",null,"第一页",-1))]),t("label",F,[r(t("input",{type:"radio","onUpdate:modelValue":v[13]||(v[13]=e=>N.value=e),value:"last",class:"w-4 h-4 text-blue-600"},null,512),[[c,N.value]]),v[31]||(v[31]=t("span",null,"最后一页",-1))]),t("label",P,[r(t("input",{type:"radio","onUpdate:modelValue":v[14]||(v[14]=e=>N.value=e),value:"range",class:"w-4 h-4 text-blue-600"},null,512),[[c,N.value]]),v[32]||(v[32]=t("span",null,"页面范围",-1))])])]),"range"===N.value?(a(),o("div",D,[v[34]||(v[34]=t("h3",{class:"text-lg font-semibold mb-2"},"页面范围",-1)),r(t("input",{"onUpdate:modelValue":v[15]||(v[15]=e=>Q.value=e),type:"text",placeholder:"例如：1-5, 7-10, 12",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[d,Q.value]]),v[35]||(v[35]=t("p",{class:"text-sm text-gray-500 mt-1"},"使用逗号分隔的页码范围，如：1-5, 7-10, 12",-1))])):n("",!0)])):n("",!0),t("div",_,[t("button",{onClick:se,disabled:!G.value||S.value,class:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},[S.value?(a(),o("span",B,[...v[36]||(v[36]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" 处理中... ",-1)])])):(a(),o("span",M,"开始调整"))],8,z),t("button",{onClick:oe,class:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors"}," 重置 ")]),W.value?(a(),o("div",R,[v[37]||(v[37]=t("div",{class:"flex items-center"},[t("svg",{class:"w-6 h-6 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("h4",{class:"font-semibold text-green-800"},"调整成功")],-1)),t("p",$,u(X.value),1)])):n("",!0),ee.value?(a(),o("div",E,[v[38]||(v[38]=t("div",{class:"flex items-center"},[t("svg",{class:"w-6 h-6 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-.77-2.694-.77-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),t("h4",{class:"font-semibold text-red-800"},"调整失败")],-1)),t("p",O,u(ee.value),1)])):n("",!0)])]),_:1}))}};export{T as default};
