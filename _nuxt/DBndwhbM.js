import{i as T,w as j,o as a,a as l,b as _,q as F,j as w,p as h,c as u,f as r,k as B,d as E,t as m,l as s}from"./-R7zUpUx.js";import{_ as $}from"./1SagYtif.js";import{P as z}from"./CPH4GR76.js";import{G as R}from"./zseaTYbb.js";import{_ as S}from"./DlAUqK2U.js";import"./C_FLJhYl.js";import"./Cu7bTl1K.js";import"./Dh5_xY7C.js";const J={class:"space-y-6"},L={class:"bg-white p-4 rounded-lg shadow"},M={class:"space-y-3"},Q={class:"grid grid-cols-2 gap-2"},W={key:0},q={key:0,class:"mt-6"},I=["disabled"],O={key:0,class:"mr-2 animate-spin"},A={key:1,class:"mt-4"},H={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},K={class:"space-y-2 text-sm text-green-700"},X={key:0},Y={key:1},Z={__name:"image",setup(ee){const k=s([]),p=s(null),i=s("multiple"),d=s("png"),v=s("medium"),c=s(""),n=s(!1),g=s(0),b=s(null),y=s(null),x=s(0),U=t=>{p.value=t.length>0?t[0]:null,b.value=""},V=t=>{b.value=t,p.value=null},D=()=>{console.log("处理开始")},P=t=>{console.log("处理结束:",t)},C=t=>{i.value=t},G=async()=>{if(p.value){n.value=!0,g.value=0,b.value=null,y.value=null,x.value=0,D();try{const t={file:p.value,convertType:i.value,imageFormat:d.value,imageQuality:v.value,pageRange:c.value};g.value=30,await new Promise(e=>setTimeout(e,2e3)),g.value=100,setTimeout(()=>{n.value=!1;const e=new Blob(["Mock data"],{type:"application/zip"}),o=URL.createObjectURL(e);y.value=o;const N=`converted_${Date.now()}.zip`,f=document.createElement("a");f.href=o,f.download=N,document.body.appendChild(f),f.click(),document.body.removeChild(f),P({success:!0,url:o}),x.value=i.value==="multiple"?5:1},500)}catch(t){n.value=!1,b.value=t.message,P({success:!1,error:t.message})}}};return(t,e)=>(a(),T($,{title:"PDF转图片",description:"将PDF文档转换为图片，支持转多张图片或转长图","download-button":!1,tips:["1. 点击'选择文件'按钮或拖拽PDF文件到上传区域","2. 等待文件上传完成","3. 选择转换类型：","   • 转多张图片：将PDF的每一页转换为单独的图片","   • 转长图：将PDF的所有页面拼接为一张长图片","4. 选择图片格式：","   • PNG：无损压缩，质量最佳","   • JPG：有损压缩，文件较小","   • WebP：现代图片格式，压缩率高","5. 调整图片质量（仅JPG格式）：","   • 高质量：文件较大，清晰度高","   • 中等质量：平衡文件大小和清晰度","   • 低质量：文件较小，清晰度一般","6. 点击'开始转换'按钮","7. 等待处理完成后，文件会自动开始下载","⚠️ 重要警告：请勿上传包含重要秘密、敏感信息或机密数据的文件，以防信息泄露风险。"]},{default:j(()=>[l("div",J,[_(R,{multiple:!1,accept:".pdf",maxSize:100*1024*1024,modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=o=>k.value=o),onFilesChanged:U,onError:V},null,8,["modelValue"]),l("div",L,[e[12]||(e[12]=l("h3",{class:"font-semibold mb-3"},"转换设置",-1)),l("div",M,[l("div",null,[e[6]||(e[6]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"转换类型",-1)),l("div",Q,[l("button",{onClick:e[1]||(e[1]=o=>C("multiple")),class:F(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium",i.value==="multiple"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," 转多张图片 ",2),l("button",{onClick:e[2]||(e[2]=o=>C("long")),class:F(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium",i.value==="long"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," 转长图 ",2)])]),l("div",null,[e[8]||(e[8]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"图片格式",-1)),w(l("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[7]||(e[7]=[l("option",{value:"png"},"PNG（无损压缩，质量最佳）",-1),l("option",{value:"jpg"},"JPG（有损压缩，文件较小）",-1),l("option",{value:"webp"},"WebP（现代格式，压缩率高）",-1)])],512),[[h,d.value]])]),d.value==="jpg"?(a(),u("div",W,[e[10]||(e[10]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"图片质量",-1)),w(l("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>v.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[9]||(e[9]=[l("option",{value:"high"},"高质量（90%）",-1),l("option",{value:"medium"},"中等质量（75%）",-1),l("option",{value:"low"},"低质量（50%）",-1)])],512),[[h,v.value]])])):r("",!0),l("div",null,[e[11]||(e[11]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"页面范围",-1)),w(l("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"留空转换所有页面，或输入页面范围（例如：1-3,5-7）"},null,512),[[B,c.value]])])])]),p.value?(a(),u("div",q,[l("button",{onClick:G,disabled:n.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[n.value?(a(),u("span",O,"⏳")):r("",!0),E(" "+m(n.value?"处理中...":"开始转换"),1)],8,I)])):r("",!0),n.value?(a(),u("div",A,[_(z,{progress:g.value,label:`处理进度: ${g.value}%`,error:b.value},null,8,["progress","label","error"])])):r("",!0),y.value?(a(),u("div",H,[e[14]||(e[14]=l("h3",{class:"font-semibold text-green-700 mb-2"},"转换成功",-1)),l("div",K,[l("p",null,"成功转换："+m(x.value)+" 个文件",1),l("p",null,"转换类型："+m(i.value==="multiple"?"转多张图片":"转长图"),1),l("p",null,"图片格式："+m(d.value.toUpperCase()),1),d.value==="jpg"?(a(),u("p",X,"图片质量："+m(v.value==="high"?"高质量":v.value==="medium"?"中等质量":"低质量"),1)):r("",!0),c.value?(a(),u("p",Y,"页面范围："+m(c.value),1)):r("",!0),e[13]||(e[13]=l("p",null,"文件已自动开始下载",-1))])])):r("",!0)])]),_:1}))}},ie=S(Z,[["__scopeId","data-v-793fe203"]]);export{ie as default};
