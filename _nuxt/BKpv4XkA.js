import{G as e,$ as a,w as o,m as l,p as s,z as r,K as n,J as t,n as d,L as i,v as c,x as u,D as p,k as v}from"./DwDdtX2U.js";import{_ as m}from"./BGYMMrNt.js";import{_ as f}from"./DwL8tNwU.js";import"./DFiMgQNB.js";import"./Dzf--W9j.js";import"./DiBmY6iY.js";const g={class:"qrcode-generator"},b={class:"input-section"},k={class:"form-group"},w={class:"options-section"},y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},h={class:"form-group"},x={class:"flex items-center space-x-2"},C={class:"form-group"},F={class:"form-group"},z={class:"flex items-center space-x-2"},U={class:"form-group"},j={class:"flex items-center space-x-2"},V={class:"preview-section"},_={key:0,class:"preview-container"},q={class:"placeholder-content"},G={class:"download-buttons"},P=["disabled"],J=["disabled"],L=["disabled"],S={key:1,class:"empty-preview"},E={key:0,class:"error-section"},I={class:"error-message"},M=f({__name:"index",setup(f){const M=v(""),N=v(""),O=v({size:200,errorCorrection:"M",foreground:"#000000",background:"#FFFFFF"});e(M,e=>{e&&(N.value="")});const T=async e=>{if(M.value)try{const e=await fetch("/api/qrcode/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:M.value,options:{size:O.value.size,darkColor:O.value.foreground,lightColor:O.value.background}})});if(!e.ok)throw new Error("API请求失败");const a=await e.json();if(!a.success)throw new Error(a.message||"生成失败");window.open(a.data.downloadUrl,"_blank")}catch(a){N.value=a.message||"下载失败，请重试"}else N.value="请输入二维码内容"};return(e,v)=>(l(),a(m,{title:"二维码生成",description:"生成各种类型的二维码，支持自定义样式"},{default:o(()=>[s("div",g,[s("div",b,[v[11]||(v[11]=s("h3",null,"输入内容",-1)),s("div",k,[v[10]||(v[10]=s("label",{for:"content"},"二维码内容",-1)),r(s("textarea",{id:"content","onUpdate:modelValue":v[0]||(v[0]=e=>M.value=e),placeholder:"请输入要生成二维码的内容（如URL、文本等）",class:"form-textarea",rows:"3"},null,512),[[n,M.value]])])]),s("div",w,[v[18]||(v[18]=s("h3",null,"样式设置",-1)),s("div",y,[s("div",h,[v[13]||(v[13]=s("label",{for:"size"},"二维码大小",-1)),s("div",x,[r(s("input",{id:"size",type:"number","onUpdate:modelValue":v[1]||(v[1]=e=>O.value.size=e),min:"100",max:"500",class:"form-input"},null,512),[[n,O.value.size,void 0,{number:!0}]]),v[12]||(v[12]=s("span",null,"px",-1))])]),s("div",C,[v[15]||(v[15]=s("label",{for:"errorCorrection"},"容错率",-1)),r(s("select",{id:"errorCorrection","onUpdate:modelValue":v[2]||(v[2]=e=>O.value.errorCorrection=e),class:"form-select"},[...v[14]||(v[14]=[s("option",{value:"L"},"低 (7%)",-1),s("option",{value:"M"},"中 (15%)",-1),s("option",{value:"Q"},"较高 (25%)",-1),s("option",{value:"H"},"高 (30%)",-1)])],512),[[t,O.value.errorCorrection]])]),s("div",F,[v[16]||(v[16]=s("label",{for:"foreground"},"前景色",-1)),s("div",z,[r(s("input",{id:"foreground",type:"color","onUpdate:modelValue":v[3]||(v[3]=e=>O.value.foreground=e),class:"form-color"},null,512),[[n,O.value.foreground]]),r(s("input",{type:"text","onUpdate:modelValue":v[4]||(v[4]=e=>O.value.foreground=e),class:"form-input",placeholder:"#000000"},null,512),[[n,O.value.foreground]])])]),s("div",U,[v[17]||(v[17]=s("label",{for:"background"},"背景色",-1)),s("div",j,[r(s("input",{id:"background",type:"color","onUpdate:modelValue":v[5]||(v[5]=e=>O.value.background=e),class:"form-color"},null,512),[[n,O.value.background]]),r(s("input",{type:"text","onUpdate:modelValue":v[6]||(v[6]=e=>O.value.background=e),class:"form-input",placeholder:"#FFFFFF"},null,512),[[n,O.value.background]])])])])]),s("div",V,[v[23]||(v[23]=s("h3",null,"二维码预览",-1)),M.value?(l(),d("div",_,[s("div",{class:"qrcode-preview",style:i({width:O.value.size+"px",height:O.value.size+"px"})},[s("div",{class:"placeholder-qrcode",style:i({backgroundColor:O.value.background})},[s("div",q,[s("div",{class:"placeholder-pattern",style:i({color:O.value.foreground})},null,4)])],4)],4),s("div",G,[s("button",{class:"btn btn-primary",onClick:v[7]||(v[7]=e=>T()),disabled:!M.value},[...v[19]||(v[19]=[s("i",{class:"fas fa-download mr-2"},null,-1),c("下载 PNG ",-1)])],8,P),s("button",{class:"btn btn-secondary",onClick:v[8]||(v[8]=e=>T()),disabled:!M.value},[...v[20]||(v[20]=[s("i",{class:"fas fa-download mr-2"},null,-1),c("下载 JPG ",-1)])],8,J),s("button",{class:"btn btn-secondary",onClick:v[9]||(v[9]=e=>T()),disabled:!M.value},[...v[21]||(v[21]=[s("i",{class:"fas fa-download mr-2"},null,-1),c("下载 SVG ",-1)])],8,L)])])):(l(),d("div",S,[...v[22]||(v[22]=[s("p",null,"请输入内容以生成二维码",-1)])]))]),N.value?(l(),d("div",E,[s("div",I,[v[24]||(v[24]=s("i",{class:"fas fa-exclamation-circle text-red-500 mr-2"},null,-1)),c(" "+u(N.value),1)])])):p("",!0)])]),_:1}))}},[["__scopeId","data-v-deae31d1"]]);export{M as default};
