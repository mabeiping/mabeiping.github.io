const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./t9ck_dKN.js","./DwtW3TPZ.js"])))=>i.map(i=>d[i]);
import{j as e,w as a,o as l,a as t,b as s,c as o,F as r,p as n,t as u,l as d,d as i,r as c,_ as m}from"./CbGhm0ms.js";import{_ as p}from"./Pqfqo65y.js";import{P as v}from"./Cjn2kTUJ.js";import{G as g}from"./CmrO9Qsr.js";import{_ as b}from"./BCo6x5W8.js";import"./BE6raXpT.js";import"./Cx5n45vH.js";import"./CpN0-MvT.js";import"./D0kt2dsR.js";const f={class:"space-y-6"},y={class:"bg-white p-4 rounded-lg shadow"},h={class:"space-y-3"},x={class:"bg-gray-50 p-3 rounded-md border border-gray-200"},w={class:"space-y-2"},_={class:"text-sm truncate"},j={class:"text-xs text-gray-500"},F={key:0,class:"text-sm text-gray-500 italic"},k={key:0,class:"mt-6"},D=["disabled"],P={key:0,class:"mr-2 animate-spin"},C={key:1,class:"mt-4"},E={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},M={class:"space-y-2 text-sm text-green-700"},B=b({__name:"merge",setup(b){let B=null;const V=c([]),$=c(!1),L=c(0),R=c(null),U=c(null),z=e=>{if(0===e)return"0 B";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["B","KB","MB","GB"][a]},G=async()=>{if(!(V.value.length<2)){$.value=!0,L.value=0,R.value=null,U.value=null;try{const e=await(async()=>(B||(B=(await m(async()=>{const{default:e}=await import("./t9ck_dKN.js");return{default:e}},__vite__mapDeps([0,1]),import.meta.url)).default),B))();L.value=30;const a=await e.pdfMerge({files:V.value});L.value=100,setTimeout(()=>{$.value=!1;const e=a,l=URL.createObjectURL(e);U.value=l;const t=`merged_${Date.now()}.pdf`,s=document.createElement("a");s.href=l,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)},500)}catch(e){$.value=!1,R.value=e.message,e.message}}};return(c,m)=>(l(),e(p,{title:"PDF合并",description:"将多个PDF文件按顺序合并为一个文件","download-button":!1,tips:["1. 点击'选择文件'按钮或拖拽多个PDF文件到上传区域","2. 等待文件上传完成","3. 查看已选择的文件列表，确认文件顺序","4. 可以通过以下方式管理文件：","   • 拖拽文件：改变文件的合并顺序","   • 删除文件：点击文件旁边的删除按钮移除不需要的文件","   • 清空文件：点击'清空文件'按钮移除所有文件","5. 确保至少选择了2个PDF文件","6. 点击'开始合并'按钮","7. 等待处理完成后，文件会自动开始下载","⚠️ 重要警告：请勿上传包含重要秘密、敏感信息或机密数据的文件，以防信息泄露风险。"]},{default:a(()=>[t("div",f,[s(g,{multiple:!0,accept:".pdf","max-size":104857600,modelValue:V.value,"onUpdate:modelValue":m[0]||(m[0]=e=>V.value=e),onFilesChanged:c.handleFilesChanged,onError:c.handleError},null,8,["modelValue","onFilesChanged","onError"]),t("div",y,[m[3]||(m[3]=t("h3",{class:"font-semibold mb-3"},"合并设置",-1)),t("div",h,[m[2]||(m[2]=t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"合并顺序"),t("p",{class:"text-sm text-gray-500"}," 提示：文件将按照上传顺序合并 ")],-1)),t("div",null,[m[1]||(m[1]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"已选择文件",-1)),t("div",x,[t("ul",w,[(l(!0),o(r,null,n(V.value,(e,a)=>(l(),o("li",{key:a,class:"flex items-center justify-between"},[t("span",_,u(e.name),1),t("span",j,u(z(e.size)),1)]))),128)),0===V.value.length?(l(),o("li",F," 请选择要合并的PDF文件 ")):d("",!0)])])])])]),V.value.length>0?(l(),o("div",k,[t("button",{onClick:G,disabled:$.value||V.value.length<2,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[$.value?(l(),o("span",P,"⏳")):d("",!0),i(" "+u($.value?"处理中...":`开始合并 (${V.value.length}个文件)`),1)],8,D)])):d("",!0),$.value?(l(),o("div",C,[s(v,{progress:L.value,label:`处理进度: ${L.value}%`,error:R.value},null,8,["progress","label","error"])])):d("",!0),U.value?(l(),o("div",E,[m[5]||(m[5]=t("h3",{class:"font-semibold text-green-700 mb-2"},"合并成功",-1)),t("div",M,[t("p",null,"成功合并："+u(V.value.length)+" 个文件",1),m[4]||(m[4]=t("p",null,"文件已自动开始下载",-1))])])):d("",!0)])]),_:1}))}},[["__scopeId","data-v-c10f430d"]]);export{B as default};
