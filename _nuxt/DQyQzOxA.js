import{_ as b}from"./CQUG57wd.js";import{e as w,u as k,h as F,w as x,o as f,a as t,c as P,i as D,j as a,k as _,f as s,l as M,m as B,t as c}from"./vIjrQGDC.js";import"./CA1_4N2w.js";import"./CQENOYst.js";const C={class:"space-y-6"},z={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},S={class:"space-y-4"},L=["disabled"],R=["disabled"],U={key:0,class:"space-y-4"},j={class:"p-4 bg-green-50 border border-green-200 rounded-lg"},I={class:"space-y-1 text-sm"},T={__name:"compress",setup(N){const u=a(null),r=a([]),p=a("medium"),d=a(!1),n=a(null),g=()=>{u.value?.click()},y=o=>{const e=Array.from(o.target.files).filter(l=>l.type==="application/pdf");r.value=[...r.value,...e]},m=o=>{if(o===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(o)/Math.log(e));return Math.round(o/Math.pow(e,i)*100)/100+" "+l[i]},h=async()=>{if(r.value.length===0){alert("请先选择PDF文件");return}d.value=!0;try{await new Promise(i=>setTimeout(i,2e3));const o=r.value[0].size,e=Math.floor(o*.6),l=Math.round((1-e/o)*100);n.value={originalSize:o,compressedSize:e,savingsPercent:l}}catch(o){console.error("Compression error:",o),alert("压缩失败，请重试")}finally{d.value=!1}},v=()=>{if(!n.value||r.value.length===0)return;const o=r.value[0],e=document.createElement("a");e.href=URL.createObjectURL(o),e.download=`compressed_${o.name}`,e.click(),URL.revokeObjectURL(e.href)};return w(),k({title:"PDF压缩 - 免费在线PDF文件压缩工具 - 办公工具箱",meta:[{name:"description",content:"免费在线PDF压缩工具，快速减小PDF文件大小，保持高质量。支持批量压缩，无需安装，即传即用，保护文件隐私。"},{name:"keywords",content:"PDF压缩, PDF文件压缩, 减小PDF大小, 免费PDF工具, 在线PDF压缩, PDF优化, 文件压缩"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"PDF压缩 - 免费在线PDF文件压缩工具 - 办公工具箱"},{property:"og:description",content:"免费在线PDF压缩工具，快速减小PDF文件大小，保持高质量"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/pdf/compress"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/pdf/compress"}]}),(o,e)=>{const l=b;return f(),F(l,{title:"PDF压缩",description:"压缩PDF文件大小，减少文件体积"},{default:x(()=>[t("div",C,[t("div",z,[t("input",{ref_key:"fileInput",ref:u,type:"file",accept:".pdf",multiple:"",class:"hidden",onChange:y},null,544),t("div",{class:"space-y-4"},[e[2]||(e[2]=t("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t("div",null,[t("button",{onClick:g,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),e[1]||(e[1]=t("p",{class:"text-sm text-text-secondary mt-2"},"或拖拽文件到此处",-1))])])]),t("div",S,[e[5]||(e[5]=t("h3",{class:"text-lg font-bold text-text-primary"},"压缩设置",-1)),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"压缩质量",-1)),_(t("select",{"onUpdate:modelValue":e[0]||(e[0]=i=>M(p)?p.value=i:null),disabled:s(r).length===0,class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed"},[...e[3]||(e[3]=[t("option",{value:"low"},"低质量（最小文件）",-1),t("option",{value:"medium"},"中等质量（推荐）",-1),t("option",{value:"high"},"高质量（较大文件）",-1)])],8,L),[[B,s(p)]])]),t("button",{onClick:h,disabled:s(r).length===0||s(d),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},c(s(d)?"压缩中...":s(r).length===0?"请先选择PDF文件":"开始压缩"),9,R)]),s(n)?(f(),P("div",U,[t("div",j,[e[6]||(e[6]=t("h3",{class:"font-bold text-green-800 mb-2"},"压缩完成！",-1)),t("div",I,[t("p",null,"原始大小："+c(m(s(n).originalSize)),1),t("p",null,"压缩后大小："+c(m(s(n).compressedSize)),1),t("p",null,"节省空间："+c(s(n).savingsPercent)+"%",1)])]),t("button",{onClick:v,class:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors"}," 下载压缩后的文件 ")])):D("",!0)])]),_:1})}}};export{T as default};
