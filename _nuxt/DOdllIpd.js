import{_ as F}from"./BABs0YC5.js";import{l as _,D,w as P,o as c,a as e,c as u,i as h,h as d,u as l,F as z,g as C,t as a,p as M,q as B,s as L}from"./CONUlYrd.js";import{u as S}from"./8Q1XjmlR.js";import"./Bu46YPbD.js";import"./Df9yIBho.js";const R={class:"space-y-6"},j={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},U={key:0,class:"space-y-4"},V={class:"space-y-2"},H={class:"flex items-center gap-3"},I={class:"font-medium text-text-primary"},N={class:"text-sm text-text-secondary"},$=["onClick"],A={class:"space-y-4"},E=["disabled"],O={key:1,class:"space-y-4"},T={class:"p-4 bg-green-50 border border-green-200 rounded-lg"},q={class:"space-y-1 text-sm"},Z={__name:"compress",setup(G){const f=d(null),s=d([]),m=d("medium"),p=d(!1),i=d(null),y=()=>{f.value?.click()},w=o=>{const t=Array.from(o.target.files).filter(n=>n.type==="application/pdf");s.value=[...s.value,...t]},k=o=>{s.value.splice(o,1)},v=o=>{if(o===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(t));return Math.round(o/Math.pow(t,r)*100)/100+" "+n[r]},x=async()=>{if(s.value.length===0){alert("请先选择PDF文件");return}p.value=!0;try{await new Promise(r=>setTimeout(r,2e3));const o=s.value[0].size,t=Math.floor(o*.6),n=Math.round((1-t/o)*100);i.value={originalSize:o,compressedSize:t,savingsPercent:n}}catch(o){console.error("Compression error:",o),alert("压缩失败，请重试")}finally{p.value=!1}},b=()=>{if(!i.value||s.value.length===0)return;const o=s.value[0],t=document.createElement("a");t.href=URL.createObjectURL(o),t.download=`compressed_${o.name}`,t.click(),URL.revokeObjectURL(t.href)};return _(),S({title:"PDF压缩 - 免费在线PDF文件压缩工具 - 办公工具箱",meta:[{name:"description",content:"免费在线PDF压缩工具，快速减小PDF文件大小，保持高质量。支持批量压缩，无需安装，即传即用，保护文件隐私。"},{name:"keywords",content:"PDF压缩, PDF文件压缩, 减小PDF大小, 免费PDF工具, 在线PDF压缩, PDF优化, 文件压缩"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"PDF压缩 - 免费在线PDF文件压缩工具 - 办公工具箱"},{property:"og:description",content:"免费在线PDF压缩工具，快速减小PDF文件大小，保持高质量"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/pdf/compress"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/pdf/compress"}]}),(o,t)=>{const n=F;return c(),D(n,{title:"PDF压缩",description:"压缩PDF文件大小，减少文件体积"},{default:P(()=>[e("div",R,[e("div",j,[e("input",{ref_key:"fileInput",ref:f,type:"file",accept:".pdf",multiple:"",class:"hidden",onChange:w},null,544),e("div",{class:"space-y-4"},[t[2]||(t[2]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("div",null,[e("button",{onClick:y,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),t[1]||(t[1]=e("p",{class:"text-sm text-text-secondary mt-2"},"或拖拽文件到此处",-1))])])]),l(s).length>0?(c(),u("div",U,[t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-text-primary"},"已选择的文件",-1)),e("div",V,[(c(!0),u(z,null,C(l(s),(r,g)=>(c(),u("div",{key:g,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},[e("div",H,[t[3]||(t[3]=e("svg",{class:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm-1 2l5 5h-5V4zm-3 9h2v4h-2v-4zm-4 0h2v4H6v-4zm8 0h2v4h-2v-4z"})],-1)),e("div",null,[e("p",I,a(r.name),1),e("p",N,a(v(r.size)),1)])]),e("button",{onClick:K=>k(g),class:"text-red-500 hover:text-red-600 transition-colors"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$)]))),128))]),e("div",A,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"压缩质量",-1)),M(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>B(m)?m.value=r:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},[...t[5]||(t[5]=[e("option",{value:"low"},"低质量（最小文件）",-1),e("option",{value:"medium"},"中等质量（推荐）",-1),e("option",{value:"high"},"高质量（较大文件）",-1)])],512),[[L,l(m)]])]),e("button",{onClick:x,disabled:l(p),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},a(l(p)?"压缩中...":"开始压缩"),9,E)])])):h("",!0),l(i)?(c(),u("div",O,[e("div",T,[t[8]||(t[8]=e("h3",{class:"font-bold text-green-800 mb-2"},"压缩完成！",-1)),e("div",q,[e("p",null,"原始大小："+a(v(l(i).originalSize)),1),e("p",null,"压缩后大小："+a(v(l(i).compressedSize)),1),e("p",null,"节省空间："+a(l(i).savingsPercent)+"%",1)])]),e("button",{onClick:b,class:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors"}," 下载压缩后的文件 ")])):h("",!0)])]),_:1})}}};export{Z as default};
