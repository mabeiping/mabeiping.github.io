import{_ as R}from"./CQUG57wd.js";import{u as S,h as B,w as E,o as m,a as l,c as f,i as y,j as i,f as t,t as h,k as a,l as d,m as U,v as p}from"./vIjrQGDC.js";import"./CA1_4N2w.js";import"./CQENOYst.js";const M={class:"space-y-6"},T={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},j={class:"space-y-4"},N={key:0,class:"text-sm text-text-secondary"},H={class:"space-y-4"},O={class:"grid grid-cols-2 gap-4"},z=["disabled"],$=["disabled"],W={key:0,class:"space-y-4"},q=["disabled"],A={class:"grid grid-cols-2 gap-4"},G=["disabled"],J=["disabled"],K={key:1,class:"space-y-4"},Q=["disabled"],X={class:"grid grid-cols-2 gap-4"},Y=["disabled"],Z=["disabled"],ee=["disabled"],le={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},re={__name:"editor",setup(te){const k=i(null),F=i(null),o=i(null),_=i(null),r=i("none"),b=i(""),v=i(24),u=i(50),x=i(50),w=i("all"),c=i(!1),g=i(null),V=()=>{k.value?.click()},D=s=>{const e=s.target.files[0];e&&e.type==="application/pdf"&&(o.value=e)},C=s=>{const e=s.target.files[0];e&&e.type.startsWith("image/")&&(_.value=e)},P=async()=>{if(!o.value){alert("请先选择PDF文件");return}if(r.value==="text"&&!b.value){alert("请输入水印文字");return}if(r.value==="image"&&!_.value){alert("请选择水印图片");return}c.value=!0;try{await new Promise(s=>setTimeout(s,2e3)),g.value={mode:r.value,fileName:`edited_${o.value.name}`}}catch(s){console.error("Edit error:",s),alert("编辑失败，请重试")}finally{c.value=!1}},I=()=>{if(!g.value||!o.value)return;const s=document.createElement("a");s.href=URL.createObjectURL(o.value),s.download=g.value.fileName,s.click(),URL.revokeObjectURL(s.href)};return S({title:"PDF编辑 - Office Tools",meta:[{name:"description",content:"编辑PDF文件内容"}]}),(s,e)=>{const L=R;return m(),B(L,{title:"PDF编辑",description:"编辑PDF文件内容"},{default:E(()=>[l("div",M,[l("div",T,[l("input",{ref_key:"fileInput",ref:k,type:"file",accept:".pdf",class:"hidden",onChange:D},null,544),l("div",j,[e[7]||(e[7]=l("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 0L11.828 15H9v-2h2.828a2 2 0 001.414-1.414L15 8.172V5h-4zM4 4h6"})],-1)),l("button",{onClick:V,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),t(o)?(m(),f("p",N,h(t(o).name),1)):y("",!0)])]),l("div",H,[e[18]||(e[18]=l("h3",{class:"text-lg font-bold text-text-primary"},"编辑选项",-1)),l("div",O,[l("div",null,[e[9]||(e[9]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"添加水印",-1)),a(l("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>d(r)?r.value=n:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},[...e[8]||(e[8]=[l("option",{value:"none"},"无",-1),l("option",{value:"text"},"文字水印",-1),l("option",{value:"image"},"图片水印",-1)])],8,z),[[U,t(r)]])]),l("div",null,[e[11]||(e[11]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"页面范围",-1)),a(l("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>d(w)?w.value=n:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},[...e[10]||(e[10]=[l("option",{value:"all"},"所有页面",-1),l("option",{value:"first"},"首页",-1),l("option",{value:"last"},"末页",-1),l("option",{value:"custom"},"自定义",-1)])],8,$),[[U,t(w)]])])]),t(r)==="text"?(m(),f("div",W,[l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"水印文字",-1)),a(l("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>d(b)?b.value=n:null),type:"text",placeholder:"例如：机密文件",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},null,8,q),[[p,t(b)]])]),l("div",A,[l("div",null,[e[13]||(e[13]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"字体大小",-1)),a(l("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>d(v)?v.value=n:null),type:"number",min:"8",max:"72",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},null,8,G),[[p,t(v),void 0,{number:!0}]])]),l("div",null,[e[14]||(e[14]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"透明度",-1)),a(l("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>d(u)?u.value=n:null),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},null,8,J),[[p,t(u),void 0,{number:!0}]])])])])):y("",!0),t(r)==="image"?(m(),f("div",K,[l("div",null,[e[15]||(e[15]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"选择水印图片",-1)),l("input",{ref_key:"imageInput",ref:F,type:"file",accept:"image/*",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",onChange:C,disabled:!t(o)},null,40,Q)]),l("div",X,[l("div",null,[e[16]||(e[16]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"缩放比例",-1)),a(l("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>d(x)?x.value=n:null),type:"number",min:"10",max:"200",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},null,8,Y),[[p,t(x),void 0,{number:!0}]])]),l("div",null,[e[17]||(e[17]=l("label",{class:"block text-sm font-medium text-text-primary mb-2"},"透明度",-1)),a(l("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>d(u)?u.value=n:null),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!t(o)},null,8,Z),[[p,t(u),void 0,{number:!0}]])])])])):y("",!0),l("button",{onClick:P,disabled:t(c)||t(r)==="none"||!t(o),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},h(t(c)?"处理中...":t(o)?"应用编辑":"请先选择PDF文件"),9,ee)]),t(g)?(m(),f("div",le,[e[19]||(e[19]=l("h3",{class:"font-bold text-green-800 mb-2"},"编辑完成！",-1)),l("button",{onClick:I,class:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载编辑后的文件 ")])):y("",!0)])]),_:1})}}};export{re as default};
