import{z as c,i as g,w as b,o as d,a as e,j as r,k as n,p as x,c as v,x as f,d as i,t as w,f as k,l as m}from"./-R7zUpUx.js";import{_ as y}from"./1SagYtif.js";import{_ as C}from"./DlAUqK2U.js";import"./C_FLJhYl.js";import"./Cu7bTl1K.js";const F={class:"qrcode-generator"},_={class:"input-section"},z={class:"form-group"},V={class:"options-section"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},S={class:"form-group"},N={class:"flex items-center space-x-2"},j={class:"form-group"},q={class:"form-group"},B={class:"flex items-center space-x-2"},M={class:"form-group"},P={class:"flex items-center space-x-2"},T={class:"preview-section"},$={key:0,class:"preview-container"},E={class:"placeholder-content"},G={class:"download-buttons"},D=["disabled"],I=["disabled"],J=["disabled"],L={key:1,class:"empty-preview"},O={key:0,class:"error-section"},Q={class:"error-message"},R={__name:"index",setup(A){const l=m(""),a=m(""),t=m({size:200,errorCorrection:"M",foreground:"#000000",background:"#FFFFFF"});c(l,p=>{p&&(a.value="")});const u=async p=>{if(!l.value){a.value="请输入二维码内容";return}try{const o=await fetch("/api/qrcode/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:l.value,options:{size:t.value.size,darkColor:t.value.foreground,lightColor:t.value.background}})});if(!o.ok)throw new Error("API请求失败");const s=await o.json();if(s.success)window.open(s.data.downloadUrl,"_blank");else throw new Error(s.message||"生成失败")}catch(o){a.value=o.message||"下载失败，请重试",console.error(o)}};return(p,o)=>(d(),g(y,{title:"二维码生成",description:"生成各种类型的二维码，支持自定义样式"},{default:b(()=>[e("div",F,[e("div",_,[o[11]||(o[11]=e("h3",null,"输入内容",-1)),e("div",z,[o[10]||(o[10]=e("label",{for:"content"},"二维码内容",-1)),r(e("textarea",{id:"content","onUpdate:modelValue":o[0]||(o[0]=s=>l.value=s),placeholder:"请输入要生成二维码的内容（如URL、文本等）",class:"form-textarea",rows:"3"},null,512),[[n,l.value]])])]),e("div",V,[o[18]||(o[18]=e("h3",null,"样式设置",-1)),e("div",U,[e("div",S,[o[13]||(o[13]=e("label",{for:"size"},"二维码大小",-1)),e("div",N,[r(e("input",{id:"size",type:"number","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.size=s),min:"100",max:"500",class:"form-input"},null,512),[[n,t.value.size,void 0,{number:!0}]]),o[12]||(o[12]=e("span",null,"px",-1))])]),e("div",j,[o[15]||(o[15]=e("label",{for:"errorCorrection"},"容错率",-1)),r(e("select",{id:"errorCorrection","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.errorCorrection=s),class:"form-select"},[...o[14]||(o[14]=[e("option",{value:"L"},"低 (7%)",-1),e("option",{value:"M"},"中 (15%)",-1),e("option",{value:"Q"},"较高 (25%)",-1),e("option",{value:"H"},"高 (30%)",-1)])],512),[[x,t.value.errorCorrection]])]),e("div",q,[o[16]||(o[16]=e("label",{for:"foreground"},"前景色",-1)),e("div",B,[r(e("input",{id:"foreground",type:"color","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.foreground=s),class:"form-color"},null,512),[[n,t.value.foreground]]),r(e("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=s=>t.value.foreground=s),class:"form-input",placeholder:"#000000"},null,512),[[n,t.value.foreground]])])]),e("div",M,[o[17]||(o[17]=e("label",{for:"background"},"背景色",-1)),e("div",P,[r(e("input",{id:"background",type:"color","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.background=s),class:"form-color"},null,512),[[n,t.value.background]]),r(e("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=s=>t.value.background=s),class:"form-input",placeholder:"#FFFFFF"},null,512),[[n,t.value.background]])])])])]),e("div",T,[o[23]||(o[23]=e("h3",null,"二维码预览",-1)),l.value?(d(),v("div",$,[e("div",{class:"qrcode-preview",style:f({width:t.value.size+"px",height:t.value.size+"px"})},[e("div",{class:"placeholder-qrcode",style:f({backgroundColor:t.value.background})},[e("div",E,[e("div",{class:"placeholder-pattern",style:f({color:t.value.foreground})},null,4)])],4)],4),e("div",G,[e("button",{class:"btn btn-primary",onClick:o[7]||(o[7]=s=>u("png")),disabled:!l.value},[...o[19]||(o[19]=[e("i",{class:"fas fa-download mr-2"},null,-1),i("下载 PNG ",-1)])],8,D),e("button",{class:"btn btn-secondary",onClick:o[8]||(o[8]=s=>u("jpg")),disabled:!l.value},[...o[20]||(o[20]=[e("i",{class:"fas fa-download mr-2"},null,-1),i("下载 JPG ",-1)])],8,I),e("button",{class:"btn btn-secondary",onClick:o[9]||(o[9]=s=>u("svg")),disabled:!l.value},[...o[21]||(o[21]=[e("i",{class:"fas fa-download mr-2"},null,-1),i("下载 SVG ",-1)])],8,J)])])):(d(),v("div",L,[...o[22]||(o[22]=[e("p",null,"请输入内容以生成二维码",-1)])]))]),a.value?(d(),v("div",O,[e("div",Q,[o[24]||(o[24]=e("i",{class:"fas fa-exclamation-circle text-red-500 mr-2"},null,-1)),i(" "+w(a.value),1)])])):k("",!0)])]),_:1}))}},Z=C(R,[["__scopeId","data-v-deae31d1"]]);export{Z as default};
