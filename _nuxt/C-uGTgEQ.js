import{_ as e}from"./Dzf--W9j.js";import{$ as l,w as t,m as a,p as s,n as o,x as d,D as r,E as u,z as n,K as i,J as c,F as v,u as g,H as b,L as p,v as m,q as x,k as y,l as f}from"./DwDdtX2U.js";import{_ as h}from"./BGYMMrNt.js";import{P as k}from"./DO61Ew8L.js";import{_ as w}from"./DwL8tNwU.js";import"./DFiMgQNB.js";import"./DiBmY6iY.js";const C={class:"space-y-6"},I={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center"},O={class:"flex flex-col items-center justify-center"},S={key:0,class:"mt-4"},j={class:"flex items-center justify-between bg-gray-100 p-3 rounded"},E={class:"flex items-center space-x-3"},J={class:"text-sm font-medium"},N={class:"bg-white p-4 rounded-lg shadow"},U={class:"space-y-3"},_={class:"grid grid-cols-2 gap-2"},F={key:0,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},$={class:"space-y-2"},D={key:1,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},z={class:"space-y-2"},P={key:2,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},V={class:"space-y-2"},L={key:0},R={key:3,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},M={class:"space-y-2"},T={key:4,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},A={key:0,class:"mb-4 flex flex-wrap gap-2"},B=["disabled"],H=["disabled"],K=["disabled"],q={key:1,class:"mb-4 flex gap-2"},G=["disabled"],Q=["disabled"],W={key:2,class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},X={class:"lg:col-span-1"},Y={class:"space-y-2 max-h-96 overflow-y-auto border border-gray-200 rounded-md p-2"},Z=["onClick"],ee={class:"absolute top-1 left-1 z-10"},le=["checked","onClick"],te={class:"absolute bottom-1 left-1 z-10 bg-white/80 text-xs px-1 rounded"},ae={key:0,class:"text-xs text-gray-500"},se={key:1,class:"animate-spin text-gray-400"},oe={class:"absolute top-1 right-1 z-10 flex gap-1"},de=["onClick"],re=["onClick"],ue=["onClick"],ne={class:"lg:col-span-3"},ie={class:"border border-gray-200 rounded-md p-4 bg-white"},ce={key:0,class:"flex flex-col items-center"},ve={class:"text-sm text-gray-500"},ge={class:"text-xs text-gray-500 mb-4"},be={class:"flex flex-wrap gap-2 justify-center"},pe=["disabled"],me=["disabled"],xe=["disabled"],ye=["disabled"],fe=["disabled"],he={key:1,class:"aspect-[4/3] bg-gray-100 flex items-center justify-center"},ke={key:0,class:"mt-6"},we=["disabled"],Ce={key:0,class:"mr-2 animate-spin"},Ie={key:1,class:"mt-4"},Oe={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},Se=["href"],je=w({__name:"edit",setup(w){let je=null;const Ee=async()=>(je||(je=(await e(async()=>{const{default:e}=await import("./DHycn8vl.js");return{default:e}},[],import.meta.url)).default),je),Je=y([]),Ne=y("text"),Ue=y(""),_e=y(12),Fe=y("add"),$e=y(""),De=y(null),ze=y("center"),Pe=y(""),Ve=y(""),Le=y(""),Re=y(""),Me=y(!1),Te=y(0),Ae=y(null),Be=y(null),He=y([]),Ke=y([]),qe=y(null),Ge=y([]),Qe=y(-1),We=y(null),Xe=f(()=>He.value.find(e=>e.id===qe.value)),Ye=e=>{Je.value=e,e.length>0&&Ze(e[0])},Ze=e=>{const l=[];for(let t=0;t<5;t++)l.push({id:`page-${Date.now()}-${t}`,pageIndex:t,fileUrl:URL.createObjectURL(e),rotate:0,width:595,height:842,size:e.size,status:"normal",loading:!1});He.value=l,Ke.value=[],l.length>0&&(qe.value=l[0].id),el("initialize",He.value)},el=(e,l)=>{const t=Ge.value.slice(0,Qe.value+1);t.push({action:e,data:JSON.parse(JSON.stringify(l))}),Ge.value=t,Qe.value=t.length-1},ll=()=>{Ke.value=He.value.map(e=>e.id)},tl=()=>{const e=He.value.map(e=>e.id),l=new Set(Ke.value);Ke.value=e.filter(e=>!l.has(e))},al=()=>{Ke.value=[]},sl=(e,l)=>{const t=He.value.findIndex(l=>l.id===e);if(-1===t)return;const a=JSON.parse(JSON.stringify(He.value)),s=a[t];let o=(s.rotate+l)%360;o<0&&(o+=360),o=90*Math.round(o/90),s.rotate=o,He.value=a,el("rotate",a),cl("success",`é¡µé¢ ${s.pageIndex+1} æ—‹è½¬æˆåŠŸ`)},ol=e=>{if(0===Ke.value.length)return void cl("error","è¯·å…ˆé€‰æ‹©è¦æ—‹è½¬çš„é¡µé¢");const l=JSON.parse(JSON.stringify(He.value));Ke.value.forEach(t=>{const a=l.findIndex(e=>e.id===t);if(-1===a)return;const s=l[a];let o=(s.rotate+e)%360;o<0&&(o+=360),o=90*Math.round(o/90),s.rotate=o}),He.value=l,el("batchRotate",l),cl("success",`æˆåŠŸæ—‹è½¬ ${Ke.value.length} ä¸ªé¡µé¢`)},dl=e=>{He.value.length<=1?cl("error","ä¸èƒ½åˆ é™¤æœ€åä¸€é¡µ"):confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¡µé¢å—ï¼Ÿ")&&rl(e)},rl=e=>{const l=He.value.filter(l=>l.id!==e);l.forEach((e,l)=>{e.pageIndex=l}),qe.value===e&&(qe.value=l.length>0?l[0].id:null),Ke.value=Ke.value.filter(l=>l!==e),He.value=l,el("delete",l),cl("success","é¡µé¢åˆ é™¤æˆåŠŸ")},ul=()=>{if(0!==Ke.value.length){if(He.value.length-Ke.value.length<1)cl("error","è‡³å°‘éœ€è¦ä¿ç•™ä¸€é¡µ");else if(confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${Ke.value.length} ä¸ªé¡µé¢å—ï¼Ÿ`)){const e=He.value.filter(e=>!Ke.value.includes(e.id));e.forEach((e,l)=>{e.pageIndex=l}),Ke.value.includes(qe.value)&&(qe.value=e.length>0?e[0].id:null),He.value=e,Ke.value=[],el("batchDelete",e),cl("success",`æˆåŠŸåˆ é™¤ ${Ke.value.length} ä¸ªé¡µé¢`)}}else cl("error","è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„é¡µé¢")},nl=()=>{if(Qe.value<=0)return;Qe.value--;const e=Ge.value[Qe.value];He.value=JSON.parse(JSON.stringify(e.data)),cl("info","å·²æ’¤é”€æ“ä½œ")},il=()=>{if(Qe.value>=Ge.length-1)return;Qe.value++;const e=Ge.value[Qe.value];He.value=JSON.parse(JSON.stringify(e.data)),cl("info","å·²é‡åšæ“ä½œ")},cl=(e,l)=>{We.value={type:e,message:l},setTimeout(()=>{We.value&&We.value.message===l&&(We.value=null)},3e3)},vl=()=>{We.value=null},gl=e=>{Ne.value=e},bl=e=>{const l=e.target.files[0];l&&(De.value=l)},pl=async()=>{if(0!==Je.value.length){Me.value=!0,Te.value=0,Ae.value=null,Be.value=null;try{if("pageEdit"===Ne.value){Te.value=30;const e=await Ee(),l={file:Je.value[0],editFeature:"pageEdit",pages:He.value.map(e=>({id:e.id,pageIndex:e.pageIndex,rotate:e.rotate})),deletedPages:He.value.filter(e=>"deleted"===e.status).map(e=>e.pageIndex)},t=await e.pdfEdit(l);Te.value=100,setTimeout(()=>{Me.value=!1;const e=t,l=URL.createObjectURL(e);Be.value=l;const a=`edited_${Date.now()}.pdf`,s=document.createElement("a");s.href=l,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),cl("success","é¡µé¢ç¼–è¾‘æˆåŠŸï¼Œæ–‡ä»¶å·²è‡ªåŠ¨ä¸‹è½½")},500)}else{Te.value=30;const e=await Ee(),l=await e.pdfEdit({file:Je.value[0],editFeature:Ne.value,textContent:"text"===Ne.value?Ue.value:"",fontSize:"text"===Ne.value?_e.value:"",pageOperation:"page"===Ne.value?Fe.value:"",pageRange:"page"===Ne.value&&"delete"===Fe.value?$e.value:"",imageFile:"image"===Ne.value?De.value:null,imagePosition:"image"===Ne.value?ze.value:"",metadataTitle:"metadata"===Ne.value?Pe.value:"",metadataAuthor:"metadata"===Ne.value?Ve.value:"",metadataSubject:"metadata"===Ne.value?Le.value:"",metadataKeywords:"metadata"===Ne.value?Re.value:""});Te.value=100,setTimeout(()=>{Me.value=!1;const e=l,t=URL.createObjectURL(e);Be.value=t;const a=`edited_${Date.now()}.pdf`,s=document.createElement("a");s.href=t,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s)},500)}}catch(e){Me.value=!1,Ae.value=e.message,e.message,cl("error",`å¤„ç†å¤±è´¥: ${e.message}`)}}};return(e,y)=>(a(),l(h,{title:"PDFç¼–è¾‘",description:"ç¼–è¾‘PDFæ–‡æœ¬ã€é¡µé¢å’Œå…ƒæ•°æ®","download-button":!1,tips:["1. ç‚¹å‡»'é€‰æ‹©æ–‡ä»¶'æŒ‰é’®æˆ–æ‹–æ‹½PDFæ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ","2. ç­‰å¾…æ–‡ä»¶ä¸Šä¼ å®Œæˆ","3. é€‰æ‹©ç¼–è¾‘åŠŸèƒ½ç±»å‹ï¼š","   â€¢ æ–‡æœ¬ç¼–è¾‘ï¼šæ·»åŠ æ–‡æœ¬å†…å®¹ï¼Œè®¾ç½®å­—ä½“å¤§å°","   â€¢ å›¾ç‰‡ç¼–è¾‘ï¼šä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œé€‰æ‹©å›¾ç‰‡ä½ç½®","   â€¢ é¡µé¢ç®¡ç†ï¼šé€‰æ‹©æ“ä½œç±»å‹ï¼ˆæ·»åŠ ã€åˆ é™¤ã€é‡æ–°æ’åºï¼‰","   â€¢ å…ƒæ•°æ®ç¼–è¾‘ï¼šä¿®æ”¹PDFçš„æ ‡é¢˜ã€ä½œè€…ã€ä¸»é¢˜å’Œå…³é”®è¯","4. æ ¹æ®é€‰æ‹©çš„åŠŸèƒ½ç±»å‹ï¼Œå¡«å†™ç›¸åº”çš„é…ç½®å‚æ•°","5. ç‚¹å‡»'å¼€å§‹ç¼–è¾‘'æŒ‰é’®","6. ç­‰å¾…å¤„ç†å®Œæˆåï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨å¼€å§‹ä¸‹è½½","âš ï¸ é‡è¦è­¦å‘Šï¼šè¯·å‹¿ä¸Šä¼ åŒ…å«é‡è¦ç§˜å¯†ã€æ•æ„Ÿä¿¡æ¯æˆ–æœºå¯†æ•°æ®çš„æ–‡ä»¶ï¼Œä»¥é˜²ä¿¡æ¯æ³„éœ²é£é™©ã€‚"]},{default:t(()=>[s("div",C,[s("div",I,[s("div",O,[y[26]||(y[26]=s("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),y[27]||(y[27]=s("h3",{class:"text-lg font-medium mb-2"},"é€‰æ‹©PDFæ–‡ä»¶",-1)),y[28]||(y[28]=s("p",{class:"text-gray-500 mb-4"},"æ”¯æŒå•ä¸ªPDFæ–‡ä»¶ï¼Œæœ€å¤§100MB",-1)),s("input",{type:"file",ref:"fileInput",onChange:Ye,accept:".pdf",class:"hidden"},null,544),s("button",{onClick:y[0]||(y[0]=l=>e.$refs.fileInput.click()),class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," é€‰æ‹©æ–‡ä»¶ ")]),e.selectedFile?(a(),o("div",S,[s("div",j,[s("div",E,[y[29]||(y[29]=s("svg",{class:"w-6 h-6 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm2 6a2 2 0 114 0 2 2 0 01-4 0zM2 12a1 1 0 110-2 1 1 0 010 2zm14 0a1 1 0 110-2 1 1 0 010 2z","clip-rule":"evenodd"})],-1)),s("span",J,d(e.selectedFile.name),1)]),s("button",{onClick:y[1]||(y[1]=(...l)=>e.removeFile&&e.removeFile(...l)),class:"text-red-500 hover:text-red-700 text-sm"}," ç§»é™¤ ")])])):r("",!0)]),s("div",N,[y[51]||(y[51]=s("h3",{class:"font-semibold mb-3"},"ç¼–è¾‘è®¾ç½®",-1)),s("div",U,[s("div",null,[y[30]||(y[30]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ç¼–è¾‘åŠŸèƒ½",-1)),s("div",_,[s("button",{onClick:y[2]||(y[2]=e=>gl("text")),class:u(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium","text"===Ne.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," æ–‡æœ¬ç¼–è¾‘ ",2),s("button",{onClick:y[3]||(y[3]=e=>gl("image")),class:u(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium","image"===Ne.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," å›¾ç‰‡ç¼–è¾‘ ",2),s("button",{onClick:y[4]||(y[4]=e=>gl("page")),class:u(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium","page"===Ne.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," é¡µé¢ç®¡ç† ",2),s("button",{onClick:y[5]||(y[5]=e=>gl("metadata")),class:u(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium","metadata"===Ne.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," å…ƒæ•°æ®ç¼–è¾‘ ",2),s("button",{onClick:y[6]||(y[6]=e=>gl("pageEdit")),class:u(["py-2 px-4 rounded-md transition-all duration-300 text-sm font-medium","pageEdit"===Ne.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"])}," é¡µé¢ç¼–è¾‘ ",2)])]),"text"===Ne.value?(a(),o("div",F,[y[33]||(y[33]=s("h4",{class:"font-medium text-sm mb-2"},"æ–‡æœ¬ç¼–è¾‘è®¾ç½®",-1)),s("div",$,[s("div",null,[y[31]||(y[31]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"æ–‡æœ¬å†…å®¹",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[7]||(y[7]=e=>Ue.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥è¦æ·»åŠ çš„æ–‡æœ¬"},null,512),[[i,Ue.value]])]),s("div",null,[y[32]||(y[32]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"å­—ä½“å¤§å°",-1)),n(s("input",{type:"number","onUpdate:modelValue":y[8]||(y[8]=e=>_e.value=e),min:"8",max:"72",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"å­—ä½“å¤§å°"},null,512),[[i,_e.value]])])])])):r("",!0),"image"===Ne.value?(a(),o("div",D,[y[37]||(y[37]=s("h4",{class:"font-medium text-sm mb-2"},"å›¾ç‰‡ç¼–è¾‘è®¾ç½®",-1)),s("div",z,[s("div",null,[y[34]||(y[34]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"å›¾ç‰‡æ–‡ä»¶",-1)),s("input",{type:"file",accept:"image/*",onChange:bl,class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,32)]),s("div",null,[y[36]||(y[36]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"å›¾ç‰‡ä½ç½®",-1)),n(s("select",{"onUpdate:modelValue":y[9]||(y[9]=e=>ze.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[...y[35]||(y[35]=[s("option",{value:"top-left"},"å·¦ä¸Šè§’",-1),s("option",{value:"top-right"},"å³ä¸Šè§’",-1),s("option",{value:"bottom-left"},"å·¦ä¸‹è§’",-1),s("option",{value:"bottom-right"},"å³ä¸‹è§’",-1),s("option",{value:"center"},"å±…ä¸­",-1)])],512),[[c,ze.value]])])])])):r("",!0),"page"===Ne.value?(a(),o("div",P,[y[41]||(y[41]=s("h4",{class:"font-medium text-sm mb-2"},"é¡µé¢ç®¡ç†è®¾ç½®",-1)),s("div",V,[s("div",null,[y[39]||(y[39]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"æ“ä½œç±»å‹",-1)),n(s("select",{"onUpdate:modelValue":y[10]||(y[10]=e=>Fe.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[...y[38]||(y[38]=[s("option",{value:"add"},"æ·»åŠ é¡µé¢",-1),s("option",{value:"delete"},"åˆ é™¤é¡µé¢",-1),s("option",{value:"reorder"},"é‡æ–°æ’åº",-1)])],512),[[c,Fe.value]])]),"delete"===Fe.value?(a(),o("div",L,[y[40]||(y[40]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"é¡µé¢èŒƒå›´",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[11]||(y[11]=e=>$e.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ä¾‹å¦‚: 1,3-5"},null,512),[[i,$e.value]])])):r("",!0)])])):r("",!0),"metadata"===Ne.value?(a(),o("div",R,[y[46]||(y[46]=s("h4",{class:"font-medium text-sm mb-2"},"å…ƒæ•°æ®ç¼–è¾‘è®¾ç½®",-1)),s("div",M,[s("div",null,[y[42]||(y[42]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"æ ‡é¢˜",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[12]||(y[12]=e=>Pe.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"PDFæ ‡é¢˜"},null,512),[[i,Pe.value]])]),s("div",null,[y[43]||(y[43]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"ä½œè€…",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[13]||(y[13]=e=>Ve.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ä½œè€…å§“å"},null,512),[[i,Ve.value]])]),s("div",null,[y[44]||(y[44]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"ä¸»é¢˜",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[14]||(y[14]=e=>Le.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"æ–‡æ¡£ä¸»é¢˜"},null,512),[[i,Le.value]])]),s("div",null,[y[45]||(y[45]=s("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"å…³é”®è¯",-1)),n(s("input",{type:"text","onUpdate:modelValue":y[15]||(y[15]=e=>Re.value=e),class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"å…³é”®è¯ï¼Œç”¨é€—å·åˆ†éš”"},null,512),[[i,Re.value]])])])])):r("",!0),"pageEdit"===Ne.value?(a(),o("div",T,[y[50]||(y[50]=s("h4",{class:"font-medium text-sm mb-2"},"é¡µé¢ç¼–è¾‘è®¾ç½®",-1)),He.value.length>0?(a(),o("div",A,[s("button",{onClick:ll,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," å…¨é€‰ "),s("button",{onClick:tl,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," åé€‰ "),s("button",{onClick:al,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"}," æ¸…é™¤é€‰æ‹© "),s("button",{onClick:y[16]||(y[16]=e=>ol(90)),disabled:0===Ke.value.length,class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded-md transition-colors disabled:opacity-50"}," æ‰¹é‡é¡ºæ—¶é’ˆæ—‹è½¬ ",8,B),s("button",{onClick:y[17]||(y[17]=e=>ol(-90)),disabled:0===Ke.value.length,class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded-md transition-colors disabled:opacity-50"}," æ‰¹é‡é€†æ—¶é’ˆæ—‹è½¬ ",8,H),s("button",{onClick:ul,disabled:0===Ke.value.length||He.value.length<=1,class:"px-3 py-1 text-xs bg-red-100 hover:bg-red-200 rounded-md transition-colors disabled:opacity-50"}," æ‰¹é‡åˆ é™¤ ",8,K)])):r("",!0),He.value.length>0?(a(),o("div",q,[s("button",{onClick:nl,disabled:Qe.value<=0,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," æ’¤é”€ ",8,G),s("button",{onClick:il,disabled:Qe.value>=Ge.value.length-1,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," é‡åš ",8,Q)])):r("",!0),He.value.length>0?(a(),o("div",W,[s("div",X,[y[47]||(y[47]=s("h5",{class:"text-xs font-medium mb-2"},"é¡µé¢åˆ—è¡¨",-1)),s("div",Y,[(a(!0),o(v,null,g(He.value,e=>(a(),o("div",{key:e.id,class:u(["relative border rounded-md overflow-hidden cursor-pointer transition-all duration-200",Ke.value.includes(e.id)?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300"]),onClick:l=>{return t=e.id,void(qe.value=t);var t}},[s("div",ee,[s("input",{type:"checkbox",checked:Ke.value.includes(e.id),onClick:b(l=>(e=>{const l=Ke.value.indexOf(e);l>-1?Ke.value.splice(l,1):Ke.value.push(e)})(e.id),["stop"]),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,le)]),s("div",te,d(e.pageIndex+1),1),s("div",{class:"relative aspect-[4/3] bg-gray-100 flex items-center justify-center",style:p({transform:`rotate(${e.rotate}deg)`})},[e.loading?(a(),o("div",se," â³ ")):(a(),o("div",ae," é¡µé¢ "+d(e.pageIndex+1),1))],4),s("div",oe,[s("button",{onClick:b(l=>sl(e.id,90),["stop"]),class:"p-1 bg-white/80 rounded hover:bg-white transition-colors",title:"é¡ºæ—¶é’ˆæ—‹è½¬"}," â†» ",8,de),s("button",{onClick:b(l=>sl(e.id,-90),["stop"]),class:"p-1 bg-white/80 rounded hover:bg-white transition-colors",title:"é€†æ—¶é’ˆæ—‹è½¬"}," â†º ",8,re),s("button",{onClick:b(l=>dl(e.id),["stop"]),class:"p-1 bg-white/80 rounded hover:bg-white transition-colors text-red-500",title:"åˆ é™¤é¡µé¢"}," Ã— ",8,ue)])],10,Z))),128))])]),s("div",ne,[y[49]||(y[49]=s("h5",{class:"text-xs font-medium mb-2"},"é¡µé¢é¢„è§ˆ",-1)),s("div",ie,[Xe.value?(a(),o("div",ce,[s("div",{class:"relative max-w-full max-h-96 bg-gray-50 flex items-center justify-center mb-4",style:p({transform:`rotate(${Xe.value.rotate}deg)`})},[s("div",ve," é¡µé¢ "+d(Xe.value.pageIndex+1)+" é¢„è§ˆ ",1)],4),s("div",ge," å°ºå¯¸: "+d(Xe.value.width||"æœªçŸ¥")+" Ã— "+d(Xe.value.height||"æœªçŸ¥")+" | æ—‹è½¬è§’åº¦: "+d(Xe.value.rotate)+"Â° | çŠ¶æ€: "+d(Xe.value.status||"æ­£å¸¸"),1),s("div",be,[s("button",{onClick:y[18]||(y[18]=e=>sl(Xe.value.id,90)),class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded-md transition-colors"}," é¡ºæ—¶é’ˆæ—‹è½¬90Â° "),s("button",{onClick:y[19]||(y[19]=e=>sl(Xe.value.id,-90)),class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded-md transition-colors"}," é€†æ—¶é’ˆæ—‹è½¬90Â° "),s("button",{onClick:y[20]||(y[20]=e=>sl(Xe.value.id,180)),class:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded-md transition-colors"}," æ—‹è½¬180Â° "),s("button",{onClick:y[21]||(y[21]=e=>dl(Xe.value.id)),disabled:He.value.length<=1,class:"px-3 py-1 text-xs bg-red-100 hover:bg-red-200 rounded-md transition-colors disabled:opacity-50"}," åˆ é™¤é¡µé¢ ",8,pe),s("button",{onClick:y[22]||(y[22]=e=>(e=>{const l=He.value.findIndex(l=>l.id===e);if(0===l)return;const t=JSON.parse(JSON.stringify(He.value)),a=t[l];t[l]=t[l-1],t[l-1]=a,t.forEach((e,l)=>{e.pageIndex=l}),He.value=t,el("move",t),cl("success","é¡µé¢ä¸Šç§»æˆåŠŸ")})(Xe.value.id)),disabled:0===Xe.value.pageIndex,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," ä¸Šç§» ",8,me),s("button",{onClick:y[23]||(y[23]=e=>(e=>{const l=He.value.findIndex(l=>l.id===e);if(l===He.value.length-1)return;const t=JSON.parse(JSON.stringify(He.value)),a=t[l];t[l]=t[l+1],t[l+1]=a,t.forEach((e,l)=>{e.pageIndex=l}),He.value=t,el("move",t),cl("success","é¡µé¢ä¸‹ç§»æˆåŠŸ")})(Xe.value.id)),disabled:Xe.value.pageIndex===He.value.length-1,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," ä¸‹ç§» ",8,xe),s("button",{onClick:y[24]||(y[24]=e=>(e=>{const l=He.value.findIndex(l=>l.id===e);if(0===l)return;const t=JSON.parse(JSON.stringify(He.value)),a=t.splice(l,1)[0];t.unshift(a),t.forEach((e,l)=>{e.pageIndex=l}),He.value=t,el("move",t),cl("success","é¡µé¢ç½®é¡¶æˆåŠŸ")})(Xe.value.id)),disabled:0===Xe.value.pageIndex,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," ç½®é¡¶ ",8,ye),s("button",{onClick:y[25]||(y[25]=e=>(e=>{const l=He.value.findIndex(l=>l.id===e);if(l===He.value.length-1)return;const t=JSON.parse(JSON.stringify(He.value)),a=t.splice(l,1)[0];t.push(a),t.forEach((e,l)=>{e.pageIndex=l}),He.value=t,el("move",t),cl("success","é¡µé¢ç½®åº•æˆåŠŸ")})(Xe.value.id)),disabled:Xe.value.pageIndex===He.value.length-1,class:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50"}," ç½®åº• ",8,fe)])])):(a(),o("div",he,[...y[48]||(y[48]=[s("div",{class:"text-sm text-gray-500"}," è¯·é€‰æ‹©ä¸€ä¸ªé¡µé¢è¿›è¡Œç¼–è¾‘ ",-1)])]))])])])):r("",!0),We.value?(a(),o("div",{key:3,class:u(["mt-4 p-2 rounded-md text-sm",{"bg-green-50 text-green-700 border border-green-200":"success"===We.value.type,"bg-red-50 text-red-700 border border-red-200":"error"===We.value.type,"bg-blue-50 text-blue-700 border border-blue-200":"info"===We.value.type}])},[m(d(We.value.message)+" ",1),s("button",{onClick:vl,class:"ml-2 text-gray-400 hover:text-gray-600"}," Ã— ")],2)):r("",!0)])):r("",!0)])]),Je.value.length>0?(a(),o("div",ke,[s("button",{onClick:pl,disabled:Me.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[Me.value?(a(),o("span",Ce,"â³")):r("",!0),m(" "+d(Me.value?"å¤„ç†ä¸­...":"å¼€å§‹ç¼–è¾‘"),1)],8,we)])):r("",!0),Me.value?(a(),o("div",Ie,[x(k,{progress:Te.value,label:`å¤„ç†è¿›åº¦: ${Te.value}%`,error:Ae.value},null,8,["progress","label","error"])])):r("",!0),Be.value?(a(),o("div",Oe,[y[53]||(y[53]=s("h3",{class:"font-semibold text-green-700 mb-2"},"ç¼–è¾‘æˆåŠŸ",-1)),s("a",{href:Be.value,target:"_blank",class:"text-blue-600 hover:underline flex items-center"},[...y[52]||(y[52]=[s("span",{class:"mr-2"},"ğŸ“¥",-1),m(" ä¸‹è½½ç¼–è¾‘ç»“æœ ",-1)])],8,Se)])):r("",!0)])]),_:1}))}},[["__scopeId","data-v-6a64942e"]]);export{je as default};
