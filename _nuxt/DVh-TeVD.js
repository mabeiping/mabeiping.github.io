import{_ as U,r as p,h as v,c,a as t,F as g,l as h,t as i,o as r,n as F,A as H,p as L}from"./CXV6dDrr.js";const j={class:"habit-tracker-page"},B={class:"tracker-container"},Y={class:"habit-section"},V={class:"habit-list"},$={class:"habit-info"},A={class:"habit-header"},E=["onUpdate:modelValue"],N=["onClick"],z={class:"habit-stats"},J={class:"stat-item"},q={class:"stat-value"},G={class:"stat-item"},K={class:"stat-value"},P={class:"habit-calendar"},Q=["onClick"],W={class:"options-section"},X={class:"stats-grid"},Z={class:"stat-card"},tt={class:"stat-info"},st={class:"stat-value"},et={class:"stat-card"},at={class:"stat-info"},nt={class:"stat-value"},ot={class:"stat-card"},lt={class:"stat-info"},it={class:"stat-value"},ct={class:"stat-card"},rt={class:"stat-info"},dt={class:"stat-value"},ut={__name:"habit-tracker",setup(pt){const l=p([{name:"æ—©èµ·",streak:5,completionRate:85,completedDates:[]}]),m=p(new Date().getMonth()),_=p(new Date().getFullYear()),D=()=>{const e=new Date(_.value,m.value+1,0).getDate(),s=[];for(let a=1;a<=e;a++)s.push(new Date(_.value,m.value,a));return s},b=e=>{const s=new Date;return e.getDate()===s.getDate()&&e.getMonth()===s.getMonth()&&e.getFullYear()===s.getFullYear()},k=(e,s)=>{const a=s.toISOString().split("T")[0];return e.completedDates.includes(a)},f=(e,s)=>{const a=s.toISOString().split("T")[0],o=e.completedDates.indexOf(a);o>-1?e.completedDates.splice(o,1):e.completedDates.push(a),S(e)},S=e=>{e.streak=y(e.completedDates),e.completionRate=w(e.completedDates)},y=e=>{if(e.length===0)return 0;const s=[...e].sort().reverse();let a=0;const o=new Date;for(let n=0;n<s.length;n++){const d=new Date(s[n]),u=new Date(o);if(u.setDate(o.getDate()-n),d.toDateString()===u.toDateString())a++;else break}return a},w=e=>{const s=D().length;return s===0?0:Math.round(e.length/s*100)},C=()=>{l.value.push({name:"",streak:0,completionRate:0,completedDates:[]})},R=e=>{l.value.splice(e,1)},x=v(()=>l.value.length===0?0:Math.max(...l.value.map(e=>e.streak))),M=v(()=>{const e=new Date().toISOString().split("T")[0];return l.value.filter(s=>s.completedDates.includes(e)).length}),O=v(()=>l.value.reduce((e,s)=>e+s.completedDates.length,0)),I=()=>{const e=l.value.map(n=>({name:n.name,streak:n.streak,completionRate:n.completionRate,completedDates:n.completedDates})),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`habits-${new Date().toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(a)},T=()=>{l.value=[{name:"",streak:0,completionRate:0,completedDates:[]}]};return(e,s)=>(r(),c("div",j,[s[12]||(s[12]=t("h1",{class:"page-title"},"ä¹ æƒ¯è¿½è¸ªå™¨",-1)),t("div",B,[t("div",Y,[s[2]||(s[2]=t("h3",null,"ä¹ æƒ¯åˆ—è¡¨",-1)),t("div",V,[(r(!0),c(g,null,h(l.value,(a,o)=>(r(),c("div",{key:o,class:"habit-item"},[t("div",$,[t("div",A,[F(t("input",{type:"text","onUpdate:modelValue":n=>a.name=n,placeholder:"ä¹ æƒ¯åç§°",class:"habit-name-input"},null,8,E),[[H,a.name]]),t("button",{class:"remove-habit-button",onClick:n=>R(o)},"âœ•",8,N)]),t("div",z,[t("div",J,[s[0]||(s[0]=t("span",{class:"stat-label"},"è¿ç»­å¤©æ•°:",-1)),t("span",q,i(a.streak)+" å¤©",1)]),t("div",G,[s[1]||(s[1]=t("span",{class:"stat-label"},"å®Œæˆç‡:",-1)),t("span",K,i(a.completionRate)+"%",1)])])]),t("div",P,[(r(!0),c(g,null,h(D(),(n,d)=>(r(),c("div",{key:d,class:L(["calendar-day",{completed:k(a,n),today:b(n)}]),onClick:u=>f(a,n)},i(n.getDate()),11,Q))),128))])]))),128)),t("button",{class:"add-habit-button",onClick:C}," â• æ·»åŠ ä¹ æƒ¯ ")])]),t("div",W,[s[11]||(s[11]=t("h3",null,"ç»Ÿè®¡æ¦‚è§ˆ",-1)),t("div",X,[t("div",Z,[s[4]||(s[4]=t("span",{class:"stat-icon"},"ğŸ“Š",-1)),t("div",tt,[s[3]||(s[3]=t("span",{class:"stat-label"},"æ€»ä¹ æƒ¯æ•°",-1)),t("span",st,i(l.value.length),1)])]),t("div",et,[s[6]||(s[6]=t("span",{class:"stat-icon"},"ğŸ”¥",-1)),t("div",at,[s[5]||(s[5]=t("span",{class:"stat-label"},"æœ€é•¿è¿ç»­",-1)),t("span",nt,i(x.value)+" å¤©",1)])]),t("div",ot,[s[8]||(s[8]=t("span",{class:"stat-icon"},"âœ…",-1)),t("div",lt,[s[7]||(s[7]=t("span",{class:"stat-label"},"ä»Šæ—¥å®Œæˆ",-1)),t("span",it,i(M.value),1)])]),t("div",ct,[s[10]||(s[10]=t("span",{class:"stat-icon"},"ğŸ“ˆ",-1)),t("div",rt,[s[9]||(s[9]=t("span",{class:"stat-label"},"æœ¬æœˆå®Œæˆ",-1)),t("span",dt,i(O.value),1)])])])]),t("div",{class:"action-section"},[t("button",{class:"export-button",onClick:I}," ğŸ“¤ å¯¼å‡ºæ•°æ® "),t("button",{class:"clear-button",onClick:T}," ğŸ—‘ï¸ æ¸…ç©º ")])]),s[13]||(s[13]=t("div",{class:"info-section"},[t("h2",null,"åŠŸèƒ½è¯´æ˜"),t("p",null,"è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä¹ æƒ¯è¿½è¸ªå™¨ï¼Œå¸®åŠ©ä½ å»ºç«‹å’Œä¿æŒè‰¯å¥½çš„ä¹ æƒ¯ã€‚"),t("ul",null,[t("li",null,"æ”¯æŒæ·»åŠ å¤šä¸ªä¹ æƒ¯ï¼Œè‡ªå®šä¹‰ä¹ æƒ¯åç§°"),t("li",null,"æ—¥å†è§†å›¾ï¼Œç›´è§‚å±•ç¤ºæ¯æ—¥å®Œæˆæƒ…å†µ"),t("li",null,"è‡ªåŠ¨è®¡ç®—è¿ç»­å¤©æ•°å’Œå®Œæˆç‡"),t("li",null,"ç»Ÿè®¡æ¦‚è§ˆï¼Œå…¨é¢äº†è§£ä¹ æƒ¯å…»æˆæƒ…å†µ"),t("li",null,"æ”¯æŒå¯¼å‡ºæ•°æ®ï¼Œå¤‡ä»½ä¹ æƒ¯è®°å½•"),t("li",null,"ç‚¹å‡»æ—¥å†æ ¼å­å³å¯æ ‡è®°å®Œæˆ")])],-1))]))}},mt=U(ut,[["__scopeId","data-v-6f1bb512"]]);export{mt as default};
