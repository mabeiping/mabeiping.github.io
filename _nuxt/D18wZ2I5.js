import{_ as H,r as n,c as o,a as s,g as N,m as v,y as A,t as d,F as f,l as k,n as r,A as b,d as K,z as O,v as w,o as l,p as h,B as G}from"./CXV6dDrr.js";const Q={class:"image-batch-processor-page"},X={class:"processor-container"},Y={class:"upload-section"},Z={key:0,class:"file-list"},ee={class:"file-items"},se=["src"],te={class:"file-name"},oe={class:"file-size"},le=["onClick"],ae={class:"options-section"},ne={class:"option-group"},ie={class:"mode-options"},ue=["value"],de={class:"mode-icon"},re={class:"mode-name"},pe={key:0,class:"option-group"},ve={class:"size-inputs"},ce={class:"input-wrapper"},me={class:"input-wrapper"},be={class:"checkbox-label"},ge={key:1,class:"option-group"},fe={class:"slider-container"},ke={class:"slider-value"},_e={key:2,class:"option-group"},ye={class:"format-options"},we=["value"],he={class:"format-icon"},ze={class:"format-name"},Fe={key:3,class:"option-group"},Me={key:4,class:"option-group"},Ve={key:5,class:"option-group"},xe={key:6,class:"option-group"},Ue={class:"option-group"},Be={class:"action-section"},Ce=["disabled"],Pe={key:0},Ne={key:1},Ae=["disabled"],Ge={key:0,class:"results-section"},Ie={class:"result-items"},je={class:"result-icon"},De={class:"result-name"},Re={class:"result-size"},Se=["onClick"],Te={__name:"image-batch-processor",setup(Ee){const z=n(null),u=n([]),p=n("resize"),F=n(null),M=n(null),V=n(!0),g=n(50),_=n("jpg"),x=n(""),U=n("bottom-right"),y=n("90"),B=n(0),C=n("medium"),c=n(!1),m=n([]),I=[{value:"resize",name:"调整尺寸",icon:"📐"},{value:"compress",name:"压缩图片",icon:"📦"},{value:"format",name:"转换格式",icon:"🔄"},{value:"watermark",name:"添加水印",icon:"💧"},{value:"rotate",name:"旋转图片",icon:"🔄"}],j=[{value:"jpg",name:"JPG",icon:"🖼️"},{value:"png",name:"PNG",icon:"🖼️"},{value:"webp",name:"WEBP",icon:"🖼️"},{value:"gif",name:"GIF",icon:"🎬"}],D=()=>{z.value.click()},R=a=>{const e=Array.from(a.target.files);u.value=[...u.value,...e]},S=a=>{const t=Array.from(a.dataTransfer.files).filter(i=>i.type.startsWith("image/"));u.value=[...u.value,...t]},T=a=>{u.value.splice(a,1)},E=a=>URL.createObjectURL(a),P=a=>{if(a===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],i=Math.floor(Math.log(a)/Math.log(e));return Math.round(a/Math.pow(e,i)*100)/100+" "+t[i]},L=async()=>{if(u.value.length!==0){c.value=!0,m.value=[];for(const a of u.value){await new Promise(t=>setTimeout(t,500));const e=Math.random()>.1;m.value.push({fileName:a.name,success:e,message:e?"处理成功":"处理失败，请重试",size:e?Math.round(a.size*(1-g.value/200)):0,file:e?a:null})}c.value=!1}},W=a=>{const e=document.createElement("a");e.href="#",e.download=a.fileName,e.click()},J=()=>{alert("打包下载功能需要后端支持")},$=()=>{u.value=[],m.value=[]};return(a,e)=>(l(),o("div",Q,[e[32]||(e[32]=s("h1",{class:"page-title"},"图像批量处理工具",-1)),s("div",X,[s("div",Y,[s("div",{class:"upload-area",onClick:D,onDragover:e[0]||(e[0]=A(()=>{},["prevent"])),onDrop:A(S,["prevent"])},[e[12]||(e[12]=s("div",{class:"upload-icon"},"🖼️",-1)),e[13]||(e[13]=s("div",{class:"upload-text"},[s("p",null,"拖拽图片到此处或点击上传"),s("p",{class:"upload-hint"},"支持 JPG, PNG, GIF, WEBP 格式")],-1)),s("input",{type:"file",ref_key:"fileInput",ref:z,onChange:R,accept:".jpg,.jpeg,.png,.gif,.webp",multiple:"",style:{display:"none"}},null,544)],32),u.value.length>0?(l(),o("div",Z,[s("h3",null,"已选择文件 ("+d(u.value.length)+")",1),s("div",ee,[(l(!0),o(f,null,k(u.value,(t,i)=>(l(),o("div",{key:i,class:"file-item"},[s("img",{src:E(t),alt:"预览",class:"file-preview"},null,8,se),s("span",te,d(t.name),1),s("span",oe,d(P(t.size)),1),s("button",{class:"remove-button",onClick:q=>T(i)},"✕",8,le)]))),128))])])):v("",!0)]),s("div",ae,[e[30]||(e[30]=s("h3",null,"处理选项",-1)),s("div",ne,[e[14]||(e[14]=s("label",{class:"option-label"},"处理模式",-1)),s("div",ie,[(l(),o(f,null,k(I,t=>s("label",{key:t.value,class:h(["mode-option",{active:p.value===t.value}])},[r(s("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=i=>p.value=i),value:t.value,name:"processMode"},null,8,ue),[[G,p.value]]),s("span",de,d(t.icon),1),s("span",re,d(t.name),1)],2)),64))])]),p.value==="resize"?(l(),o("div",pe,[e[18]||(e[18]=s("label",{class:"option-label"},"调整尺寸",-1)),s("div",ve,[s("div",ce,[e[15]||(e[15]=s("label",null,"宽度 (px)",-1)),r(s("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>F.value=t),placeholder:"自动",min:"1",class:"option-input"},null,512),[[b,F.value,void 0,{number:!0}]])]),s("div",me,[e[16]||(e[16]=s("label",null,"高度 (px)",-1)),r(s("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>M.value=t),placeholder:"自动",min:"1",class:"option-input"},null,512),[[b,M.value,void 0,{number:!0}]])])]),s("label",be,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=t=>V.value=t)},null,512),[[O,V.value]]),e[17]||(e[17]=K(" 保持宽高比 ",-1))])])):v("",!0),p.value==="compress"?(l(),o("div",ge,[e[19]||(e[19]=s("label",{class:"option-label"},"压缩级别",-1)),s("div",fe,[r(s("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=t=>g.value=t),min:"1",max:"100",class:"slider"},null,512),[[b,g.value,void 0,{number:!0}]]),s("span",ke,d(g.value)+"%",1)]),e[20]||(e[20]=s("p",{class:"option-hint"},"数值越高，压缩率越大，但可能损失画质",-1))])):v("",!0),p.value==="format"?(l(),o("div",_e,[e[21]||(e[21]=s("label",{class:"option-label"},"输出格式",-1)),s("div",ye,[(l(),o(f,null,k(j,t=>s("label",{key:t.value,class:h(["format-option",{active:_.value===t.value}])},[r(s("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=i=>_.value=i),value:t.value,name:"outputFormat"},null,8,we),[[G,_.value]]),s("span",he,d(t.icon),1),s("span",ze,d(t.name),1)],2)),64))])])):v("",!0),p.value==="watermark"?(l(),o("div",Fe,[e[22]||(e[22]=s("label",{class:"option-label"},"水印文字",-1)),r(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>x.value=t),placeholder:"输入水印文字",class:"option-input"},null,512),[[b,x.value]])])):v("",!0),p.value==="watermark"?(l(),o("div",Me,[e[24]||(e[24]=s("label",{class:"option-label"},"水印位置",-1)),r(s("select",{class:"option-select","onUpdate:modelValue":e[8]||(e[8]=t=>U.value=t)},[...e[23]||(e[23]=[N('<option value="top-left" data-v-9c13919d>左上角</option><option value="top-right" data-v-9c13919d>右上角</option><option value="bottom-left" data-v-9c13919d>左下角</option><option value="bottom-right" data-v-9c13919d>右下角</option><option value="center" data-v-9c13919d>居中</option>',5)])],512),[[w,U.value]])])):v("",!0),p.value==="rotate"?(l(),o("div",Ve,[e[26]||(e[26]=s("label",{class:"option-label"},"旋转角度",-1)),r(s("select",{class:"option-select","onUpdate:modelValue":e[9]||(e[9]=t=>y.value=t)},[...e[25]||(e[25]=[s("option",{value:"90"},"90度",-1),s("option",{value:"180"},"180度",-1),s("option",{value:"270"},"270度",-1),s("option",{value:"custom"},"自定义角度",-1)])],512),[[w,y.value]])])):v("",!0),p.value==="rotate"&&y.value==="custom"?(l(),o("div",xe,[e[27]||(e[27]=s("label",{class:"option-label"},"自定义角度",-1)),r(s("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=t=>B.value=t),min:"0",max:"360",class:"option-input"},null,512),[[b,B.value,void 0,{number:!0}]])])):v("",!0),s("div",Ue,[e[29]||(e[29]=s("label",{class:"option-label"},"输出质量",-1)),r(s("select",{class:"option-select","onUpdate:modelValue":e[11]||(e[11]=t=>C.value=t)},[...e[28]||(e[28]=[s("option",{value:"high"},"高质量",-1),s("option",{value:"medium"},"标准质量",-1),s("option",{value:"low"},"低质量（文件更小）",-1)])],512),[[w,C.value]])])]),s("div",Be,[s("button",{class:"process-button",onClick:L,disabled:u.value.length===0||c.value},[c.value?(l(),o("span",Ne,"⏳ 处理中...")):(l(),o("span",Pe,"🚀 开始处理"))],8,Ce),s("button",{class:"clear-button",onClick:$,disabled:c.value}," 🗑️ 清空 ",8,Ae)]),m.value.length>0?(l(),o("div",Ge,[e[31]||(e[31]=s("h3",null,"处理结果",-1)),s("div",Ie,[(l(!0),o(f,null,k(m.value,(t,i)=>(l(),o("div",{key:i,class:"result-item"},[s("span",je,d(t.success?"✅":"❌"),1),s("span",De,d(t.fileName),1),s("span",Re,d(P(t.size)),1),s("span",{class:h(["result-status",t.success?"success":"error"])},d(t.message),3),t.success?(l(),o("button",{key:0,class:"download-button",onClick:q=>W(t)}," ⬇️ 下载 ",8,Se)):v("",!0)]))),128))]),s("div",{class:"download-all-section"},[s("button",{class:"download-all-button",onClick:J}," 📦 打包下载全部 ")])])):v("",!0)]),e[33]||(e[33]=N('<div class="info-section" data-v-9c13919d><h2 data-v-9c13919d>功能说明</h2><p data-v-9c13919d>这是一个功能强大的图像批量处理工具，支持多种处理模式。</p><ul data-v-9c13919d><li data-v-9c13919d>支持批量调整图片尺寸，保持宽高比</li><li data-v-9c13919d>支持批量压缩图片，减小文件大小</li><li data-v-9c13919d>支持批量转换图片格式</li><li data-v-9c13919d>支持批量添加水印文字</li><li data-v-9c13919d>支持批量旋转图片</li><li data-v-9c13919d>支持拖拽上传，一次处理多个文件</li><li data-v-9c13919d>支持打包下载所有处理结果</li></ul></div>',1))]))}},We=H(Te,[["__scopeId","data-v-9c13919d"]]);export{We as default};
