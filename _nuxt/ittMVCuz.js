import{j as e,w as l,o as t,a,b as o,c as s,q as u,y as r,l as n,t as d,s as i,F as c,p as m,r as p}from"./CbGhm0ms.js";import{_ as v}from"./Pqfqo65y.js";import{G as b}from"./CmrO9Qsr.js";import{_ as g}from"./BCo6x5W8.js";import"./BE6raXpT.js";import"./Cx5n45vH.js";import"./CpN0-MvT.js";import"./D0kt2dsR.js";const f={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},h={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},y={key:0,class:"mt-4 space-y-4"},x={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},w={class:"mt-2"},k={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},z={key:0,class:"mt-4 space-y-4"},C={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},U={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},j={class:"space-y-4"},B={class:"block text-sm font-medium text-gray-700 mb-1"},M={key:0},_={key:0,class:"mt-4 p-4 bg-green-50 rounded-md"},$={class:"mt-2"},F={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},G={key:0,class:"mt-4 space-y-4"},Z={class:"font-medium text-gray-900 mb-2"},E={class:"grid grid-cols-1 gap-2"},N={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},R={class:"mt-2"},S={key:0},T={class:"text-sm text-gray-600 space-y-1 mt-2"},V=g({__name:"index",setup(g){const V=p(null),I=p("zip"),A=p(null),P=e=>{V.value=e[0]},q=e=>{V.value=e},Y=()=>{V.value&&setTimeout(()=>{A.value={fileName:V.value.name.replace(/\.[^/.]+$/,"")+"."+I.value,url:"#"}},1500)},D=()=>{if(!A.value)return;const e=document.createElement("a");e.href=A.value.url,e.download=A.value.fileName,e.click()},H=p(null),J=p(""),K=p(null),L=e=>{H.value=e[0]},O=e=>{H.value=e},Q=()=>{H.value&&J.value&&setTimeout(()=>{K.value={fileName:H.value.name.replace(/\.[^/.]+$/,"")+"-decrypted"+H.value.name.match(/\.[^/.]+$/)[0],url:"#"}},1500)},W=()=>{if(!K.value)return;const e=document.createElement("a");e.href=K.value.url,e.download=K.value.fileName,e.click()},X=p("split"),ee=p([]),le=p("100MB"),te=p(null),ae=e=>{ee.value=e},oe=e=>{ee.value=e},se=()=>{0!==ee.length&&setTimeout(()=>{let e="";e="split"===X.value?`文件已成功分卷为 ${le.value} 大小的分卷`:`${ee.value.length} 个分卷已成功合并`,te.value={message:e,url:"#"}},1500)},ue=()=>{if(!te.value)return;const e=document.createElement("a");e.href=te.value.url,e.download="split"===X.value?"split-volumes.zip":"merged-archive.zip",e.click()},re=p([]),ne=p(null),de=e=>{re.value=e},ie=e=>{re.value=e},ce=()=>{0!==re.value.length&&setTimeout(()=>{ne.value={message:`已完成 ${re.value.length} 个压缩包的检测和修复`,details:{success:Math.floor(.7*re.value.length),failed:Math.floor(.1*re.value.length),intact:Math.floor(.2*re.value.length)},downloadUrl:"#"}},2e3)},me=()=>{if(!ne.value?.downloadUrl)return;const e=document.createElement("a");e.href=ne.value.downloadUrl,e.download="repair-result.zip",e.click()};return(p,g)=>(t(),e(v,{title:"压缩包高级处理",description:"支持ZIP/RAR/7Z格式互转、加密压缩包解密、分卷/合并、破损修复"},{default:l(()=>[a("div",f,[a("div",h,[g[7]||(g[7]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包格式转换",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:P,onUploadComplete:q}),V.value?(t(),s("div",y,[a("div",null,[g[5]||(g[5]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"目标格式",-1)),u(a("select",{"onUpdate:modelValue":g[0]||(g[0]=e=>I.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[4]||(g[4]=[a("option",{value:"zip"},"ZIP",-1),a("option",{value:"rar"},"RAR",-1),a("option",{value:"7z"},"7Z",-1)])],512),[[r,I.value]])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Y}," 开始转换 ")])):n("",!0),A.value?(t(),s("div",x,[g[6]||(g[6]=a("h4",{class:"font-medium text-green-800"},"转换成功",-1)),a("p",w,"文件已转换为 "+d(I.value)+" 格式",1),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:D}," 下载转换结果 ")])):n("",!0)]),a("div",k,[g[11]||(g[11]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"加密压缩包解密",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:L,onUploadComplete:O}),H.value?(t(),s("div",z,[a("div",null,[g[8]||(g[8]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"解密密码",-1)),u(a("input",{type:"password","onUpdate:modelValue":g[1]||(g[1]=e=>J.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入压缩包密码"},null,512),[[i,J.value]])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Q}," 开始解密 ")])):n("",!0),K.value?(t(),s("div",C,[g[9]||(g[9]=a("h4",{class:"font-medium text-green-800"},"解密成功",-1)),g[10]||(g[10]=a("p",{class:"mt-2"},"压缩包已成功解密",-1)),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:W}," 下载解密结果 ")])):n("",!0)]),a("div",U,[g[17]||(g[17]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包分卷/合并",-1)),a("div",j,[a("div",null,[g[13]||(g[13]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"操作类型",-1)),u(a("select",{"onUpdate:modelValue":g[2]||(g[2]=e=>X.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[12]||(g[12]=[a("option",{value:"split"},"分卷压缩",-1),a("option",{value:"merge"},"合并分卷",-1)])],512),[[r,X.value]])]),a("div",null,[a("label",B,d("split"===X.value?"原始文件":"分卷文件"),1),o(b,{accept:"split"===X.value?["*"]:[".zip",".rar",".7z"],multiple:"merge"===X.value,onFilesSelected:ae,onUploadComplete:oe},null,8,["accept","multiple"])]),"split"===X.value?(t(),s("div",M,[g[15]||(g[15]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分卷大小",-1)),u(a("select",{"onUpdate:modelValue":g[3]||(g[3]=e=>le.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[14]||(g[14]=[a("option",{value:"100MB"},"100MB",-1),a("option",{value:"500MB"},"500MB",-1),a("option",{value:"1GB"},"1GB",-1),a("option",{value:"2GB"},"2GB",-1)])],512),[[r,le.value]])])):n("",!0),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:se},d("split"===X.value?"开始分卷":"开始合并"),1)]),te.value?(t(),s("div",_,[g[16]||(g[16]=a("h4",{class:"font-medium text-green-800"},"操作成功",-1)),a("p",$,d(te.value.message),1),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:ue}," 下载结果 ")])):n("",!0)]),a("div",F,[g[20]||(g[20]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包修复",-1)),g[21]||(g[21]=a("p",{class:"text-sm text-gray-600 mb-4"},"批量检测破损压缩包并尝试修复",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!0,onFilesSelected:de,onUploadComplete:ie}),re.value.length>0?(t(),s("div",G,[a("div",null,[a("h4",Z,"已选择 "+d(re.value.length)+" 个压缩包",1),a("div",E,[(t(!0),s(c,null,m(re.value,(e,l)=>(t(),s("div",{key:l,class:"text-sm text-gray-600"},d(e.name),1))),128))])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:ce}," 开始检测和修复 ")])):n("",!0),ne.value?(t(),s("div",N,[g[19]||(g[19]=a("h4",{class:"font-medium text-green-800"},"修复完成",-1)),a("p",R,d(ne.value.message),1),ne.value.details?(t(),s("div",S,[g[18]||(g[18]=a("h5",{class:"font-medium text-gray-900 mt-3"},"修复详情",-1)),a("div",T,[a("p",null,"成功修复: "+d(ne.value.details.success)+" 个",1),a("p",null,"无法修复: "+d(ne.value.details.failed)+" 个",1),a("p",null,"完好无损: "+d(ne.value.details.intact)+" 个",1)])])):n("",!0),ne.value.downloadUrl?(t(),s("button",{key:1,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:me}," 下载修复结果 ")):n("",!0)])):n("",!0)])])]),_:1}))}},[["__scopeId","data-v-c248a2bd"]]);export{V as default};
