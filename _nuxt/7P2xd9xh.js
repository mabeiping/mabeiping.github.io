import{i as E,w as M,o as a,a as l,b as P,j as d,p as N,c as m,k as p,f as b,d as R,t as u,l as n}from"./-R7zUpUx.js";import{_ as S}from"./1SagYtif.js";import{P as T}from"./CPH4GR76.js";import{G as j}from"./zseaTYbb.js";import{_ as L}from"./DlAUqK2U.js";import"./C_FLJhYl.js";import"./Cu7bTl1K.js";import"./Dh5_xY7C.js";const $={class:"space-y-6"},A={class:"bg-white p-4 rounded-lg shadow"},G={class:"space-y-3"},X={key:0,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},Y={class:"grid grid-cols-2 gap-2"},z={key:1,class:"bg-gray-50 p-3 rounded-md border border-gray-200"},I={class:"grid grid-cols-2 gap-2"},O={key:0,class:"mt-6"},q=["disabled"],H={key:0,class:"mr-2 animate-spin"},J={key:1,class:"mt-4"},K={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},Q={class:"space-y-2 text-sm text-green-700"},W={key:0},Z={key:1},_={key:2},ee={__name:"crop",setup(le){const V=n([]),g=n(null),i=n("auto"),t=n({top:0,bottom:0,left:0,right:0}),s=n({x:0,y:0,width:100,height:100}),f=n(""),v=n(!1),c=n(0),x=n(null),w=n(null),k=n(0),h=r=>{g.value=r.length>0?r[0]:null,x.value=""},F=r=>{x.value=r,g.value=null},C=()=>{console.log("处理开始")},U=r=>{console.log("处理结束:",r)},B=async()=>{if(g.value){v.value=!0,c.value=0,x.value=null,w.value=null,k.value=0,C();try{const r={file:g.value,cropMode:i.value,margins:t.value,cropArea:s.value,pageRange:f.value};c.value=30,await new Promise(e=>setTimeout(e,2e3)),c.value=100,setTimeout(()=>{v.value=!1;const e=new Blob(["Mock data"],{type:"application/pdf"}),o=URL.createObjectURL(e);w.value=o;const D=`cropped_${Date.now()}.pdf`,y=document.createElement("a");y.href=o,y.download=D,document.body.appendChild(y),y.click(),document.body.removeChild(y),U({success:!0,url:o}),k.value=5},500)}catch(r){v.value=!1,x.value=r.message,U({success:!1,error:r.message})}}};return(r,e)=>(a(),E(S,{title:"PDF页面裁剪",description:"裁剪PDF文档的页面内容，去除不需要的边距和区域","download-button":!1,tips:["1. 点击'选择文件'按钮或拖拽PDF文件到上传区域","2. 等待文件上传完成","3. 裁剪设置：","   • 裁剪模式：选择裁剪方式（自动裁剪、手动裁剪）","   • 边距设置：设置上、下、左、右边距","   • 裁剪区域：指定裁剪区域的坐标和尺寸","4. 页面范围：","   • 裁剪所有页面或指定页面范围","5. 点击'开始裁剪'按钮","6. 等待处理完成后，文件会自动开始下载","⚠️ 重要警告：请勿上传包含重要秘密、敏感信息或机密数据的文件，以防信息泄露风险。"]},{default:M(()=>[l("div",$,[P(j,{multiple:!1,accept:".pdf",maxSize:100*1024*1024,modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=o=>V.value=o),onFilesChanged:h,onError:F},null,8,["modelValue"]),l("div",A,[e[24]||(e[24]=l("h3",{class:"font-semibold mb-3"},"裁剪设置",-1)),l("div",G,[l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"裁剪模式",-1)),d(l("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[11]||(e[11]=[l("option",{value:"auto"},"自动裁剪（去除空白边距）",-1),l("option",{value:"manual"},"手动裁剪（自定义边距）",-1),l("option",{value:"area"},"区域裁剪（指定裁剪区域）",-1)])],512),[[N,i.value]])]),i.value==="manual"?(a(),m("div",X,[e[17]||(e[17]=l("h4",{class:"font-medium text-sm mb-2"},"边距设置（毫米）",-1)),l("div",Y,[l("div",null,[e[13]||(e[13]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"上边距",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=o=>t.value.top=o),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,t.value.top,void 0,{number:!0}]])]),l("div",null,[e[14]||(e[14]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"下边距",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>t.value.bottom=o),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,t.value.bottom,void 0,{number:!0}]])]),l("div",null,[e[15]||(e[15]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"左边距",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=o=>t.value.left=o),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,t.value.left,void 0,{number:!0}]])]),l("div",null,[e[16]||(e[16]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"右边距",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=o=>t.value.right=o),min:"0",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,t.value.right,void 0,{number:!0}]])])])])):b("",!0),i.value==="area"?(a(),m("div",z,[e[22]||(e[22]=l("h4",{class:"font-medium text-sm mb-2"},"裁剪区域设置（百分比）",-1)),l("div",I,[l("div",null,[e[18]||(e[18]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"起始X坐标",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=o=>s.value.x=o),min:"0",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,s.value.x,void 0,{number:!0}]])]),l("div",null,[e[19]||(e[19]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"起始Y坐标",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=o=>s.value.y=o),min:"0",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"},null,512),[[p,s.value.y,void 0,{number:!0}]])]),l("div",null,[e[20]||(e[20]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"宽度",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=o=>s.value.width=o),min:"1",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"},null,512),[[p,s.value.width,void 0,{number:!0}]])]),l("div",null,[e[21]||(e[21]=l("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"高度",-1)),d(l("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=o=>s.value.height=o),min:"1",max:"100",step:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"},null,512),[[p,s.value.height,void 0,{number:!0}]])])])])):b("",!0),l("div",null,[e[23]||(e[23]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"页面范围",-1)),d(l("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=o=>f.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"留空裁剪所有页面，或输入页面范围（例如：1-3,5-7）"},null,512),[[p,f.value]])])])]),g.value?(a(),m("div",O,[l("button",{onClick:B,disabled:v.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[v.value?(a(),m("span",H,"⏳")):b("",!0),R(" "+u(v.value?"处理中...":"开始裁剪"),1)],8,q)])):b("",!0),v.value?(a(),m("div",J,[P(T,{progress:c.value,label:`处理进度: ${c.value}%`,error:x.value},null,8,["progress","label","error"])])):b("",!0),w.value?(a(),m("div",K,[e[26]||(e[26]=l("h3",{class:"font-semibold text-green-700 mb-2"},"裁剪成功",-1)),l("div",Q,[l("p",null,"成功裁剪："+u(k.value)+" 个页面",1),l("p",null,"裁剪模式："+u(i.value==="auto"?"自动裁剪":i.value==="manual"?"手动裁剪":"区域裁剪"),1),i.value==="manual"?(a(),m("p",W,"边距设置：上 "+u(t.value.top)+"mm, 下 "+u(t.value.bottom)+"mm, 左 "+u(t.value.left)+"mm, 右 "+u(t.value.right)+"mm",1)):b("",!0),i.value==="area"?(a(),m("p",Z,"裁剪区域：X="+u(s.value.x)+"%, Y="+u(s.value.y)+"%, 宽="+u(s.value.width)+"%, 高="+u(s.value.height)+"%",1)):b("",!0),f.value?(a(),m("p",_,"页面范围："+u(f.value),1)):b("",!0),e[25]||(e[25]=l("p",null,"文件已自动开始下载",-1))])])):b("",!0)])]),_:1}))}},ie=L(ee,[["__scopeId","data-v-5aec146d"]]);export{ie as default};
