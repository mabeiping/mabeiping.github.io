import{_ as E,r as s,h as x,i as I,G as z,c as P,a as t,t as u,p as k,C as W,n as d,A as m,z as A,o as F}from"./CXV6dDrr.js";import{s as G}from"./DJ3bLt7I.js";const L={class:"pomodoro-timer-page"},N={class:"pomodoro-timer-container"},R={class:"timer-main"},j={class:"timer-display"},q={class:"timer-mode-indicator"},H={class:"timer-text"},J={class:"timer-time"},K={class:"timer-controls"},O={class:"mode-selector"},Q={class:"settings-panel"},X={class:"setting-group"},Y={class:"setting-item"},Z={class:"setting-item"},tt={class:"setting-item"},et={class:"setting-item"},ot={class:"setting-group"},st={class:"setting-item"},lt={class:"setting-item"},nt={class:"volume-value"},at={class:"stats-group"},it={class:"stat-item"},rt={class:"stat-value"},ut={class:"stat-item"},dt={class:"stat-value"},vt={__name:"pomodoro-timer",setup(mt){const n=s(!1),a=s("work"),i=s(1500);let v=null;const g=s(25),b=s(5),f=s(15),B=s(4),w=s(!0),T=s(50),y=s(0),C=s(0),M=x(()=>{const l=Math.floor(i.value/60),e=i.value%60;return`${l.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}),U=x(()=>{const l=Math.floor(C.value/60),e=C.value%60;return`${l}小时${e}分钟`}),$=x(()=>{const l=p();return(l-i.value)/l*100}),p=()=>{switch(a.value){case"work":return g.value*60;case"shortBreak":return b.value*60;case"longBreak":return f.value*60;default:return 1500}},D=()=>{n.value=!n.value,n.value?S():c()},S=()=>{v||(v=G(()=>{i.value>0?(i.value--,a.value==="work"&&C.value++):h()},1e3))},c=()=>{v&&(clearInterval(v),v=null)},V=()=>{c(),n.value=!1,i.value=p()},_=()=>{n.value||(i.value=p())},r=l=>{a.value=l,V()},h=()=>{c(),n.value=!1,w.value&&console.log("播放提示音"),a.value==="work"?(y.value++,y.value%B.value===0?r("longBreak"):r("shortBreak")):r("work"),setTimeout(()=>{D()},2e3)};return I(()=>{i.value=p()}),z(()=>{c()}),(l,e)=>(F(),P("div",L,[e[21]||(e[21]=t("h1",{class:"page-title"},"番茄工作法计时器",-1)),t("div",N,[t("div",R,[t("div",j,[t("div",q,u(a.value==="work"?"工作时间":"休息时间"),1),t("div",{class:k(["timer-circle",{active:n.value}])},[t("div",H,[t("div",J,u(M.value),1),t("div",{class:"timer-progress",style:W({"--progress":$.value+"%"})},null,4)])],2)]),t("div",K,[t("button",{class:"control-btn primary",onClick:D},u(n.value?"暂停":"开始"),1),t("button",{class:"control-btn secondary",onClick:V}," 重置 ")]),t("div",O,[t("button",{class:k(["mode-btn",{active:a.value==="work"}]),onClick:e[0]||(e[0]=o=>r("work"))}," 工作 ",2),t("button",{class:k(["mode-btn",{active:a.value==="shortBreak"}]),onClick:e[1]||(e[1]=o=>r("shortBreak"))}," 短休息 ",2),t("button",{class:k(["mode-btn",{active:a.value==="longBreak"}]),onClick:e[2]||(e[2]=o=>r("longBreak"))}," 长休息 ",2)])]),t("div",Q,[e[20]||(e[20]=t("h2",null,"设置",-1)),t("div",X,[e[13]||(e[13]=t("h3",null,"时间设置",-1)),t("div",Y,[e[9]||(e[9]=t("label",{for:"workDuration"},"工作时间 (分钟)：",-1)),d(t("input",{type:"number",id:"workDuration","onUpdate:modelValue":e[3]||(e[3]=o=>g.value=o),onChange:_,min:"1",max:"120"},null,544),[[m,g.value,void 0,{number:!0}]])]),t("div",Z,[e[10]||(e[10]=t("label",{for:"shortBreakDuration"},"短休息时间 (分钟)：",-1)),d(t("input",{type:"number",id:"shortBreakDuration","onUpdate:modelValue":e[4]||(e[4]=o=>b.value=o),onChange:_,min:"1",max:"30"},null,544),[[m,b.value,void 0,{number:!0}]])]),t("div",tt,[e[11]||(e[11]=t("label",{for:"longBreakDuration"},"长休息时间 (分钟)：",-1)),d(t("input",{type:"number",id:"longBreakDuration","onUpdate:modelValue":e[5]||(e[5]=o=>f.value=o),onChange:_,min:"1",max:"60"},null,544),[[m,f.value,void 0,{number:!0}]])]),t("div",et,[e[12]||(e[12]=t("label",{for:"workCycles"},"工作周期数：",-1)),d(t("input",{type:"number",id:"workCycles","onUpdate:modelValue":e[6]||(e[6]=o=>B.value=o),min:"1",max:"10"},null,512),[[m,B.value,void 0,{number:!0}]])])]),t("div",ot,[e[16]||(e[16]=t("h3",null,"音效设置",-1)),t("div",st,[e[14]||(e[14]=t("label",{for:"soundEnabled"},"启用音效：",-1)),d(t("input",{type:"checkbox",id:"soundEnabled","onUpdate:modelValue":e[7]||(e[7]=o=>w.value=o)},null,512),[[A,w.value]])]),t("div",lt,[e[15]||(e[15]=t("label",{for:"soundVolume"},"音量：",-1)),d(t("input",{type:"range",id:"soundVolume","onUpdate:modelValue":e[8]||(e[8]=o=>T.value=o),min:"0",max:"100",step:"5"},null,512),[[m,T.value,void 0,{number:!0}]]),t("span",nt,u(T.value)+"%",1)])]),t("div",at,[e[19]||(e[19]=t("h3",null,"今日统计",-1)),t("div",it,[e[17]||(e[17]=t("span",{class:"stat-label"},"完成番茄数：",-1)),t("span",rt,u(y.value),1)]),t("div",ut,[e[18]||(e[18]=t("span",{class:"stat-label"},"工作时长：",-1)),t("span",dt,u(U.value),1)])])])]),e[22]||(e[22]=t("div",{class:"pomodoro-timer-info"},[t("h2",null,"功能说明"),t("p",null,"番茄工作法是一种时间管理方法，通过将工作时间划分为25分钟的工作周期和短暂的休息时间，帮助提高工作效率。"),t("ul",null,[t("li",null,"工作时间：默认25分钟，专注工作"),t("li",null,"短休息：默认5分钟，短暂休息放松"),t("li",null,"长休息：默认15分钟，每4个工作周期后进行一次长休息"),t("li",null,"自动切换：工作时间结束后自动进入休息时间，休息时间结束后自动进入工作时间"),t("li",null,"统计功能：记录今日完成的番茄数和总工作时长"),t("li",null,"可自定义时间设置和音效")])],-1))]))}},kt=E(vt,[["__scopeId","data-v-0e2e560a"]]);export{kt as default};
