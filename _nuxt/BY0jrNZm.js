import{_ as U}from"./D50zL9At.js";import{e as T,u as V,j as I,w as A,o as f,a as t,q as i,s as y,C as c,c as w,l as k,t as v,r as d}from"./5KiIeb3O.js";import"./drxn0VFK.js";import"./7YFkQcuL.js";import"./BrGRrvQ4.js";import"./bvqDPNRK.js";const B={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},D={class:"lg:col-span-2 space-y-6"},L={class:"space-y-2"},$={class:"space-y-4"},E={class:"grid grid-cols-1 md:grid-cols-1 gap-4"},M={class:"flex items-center space-x-2"},S={key:0,class:"space-y-2"},j={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},N={class:"flex items-center space-x-1"},O={class:"flex items-center space-x-1"},F={class:"flex items-center space-x-1"},G={class:"flex items-center space-x-1"},P=["disabled"],q={key:0,class:"space-y-4"},z={class:"p-4 bg-green-50 border border-green-200 rounded-lg"},H={class:"space-y-1 text-sm text-green-700"},J={class:"space-y-2"},K={class:"p-4 border rounded-lg bg-gray-50 max-h-[300px] overflow-y-auto"},Q={class:"text-sm text-gray-700 whitespace-pre-wrap"},se={__name:"index",setup(W){const r=d(""),u=d(""),m=d(""),x=d(!1),g=d(!1),n=d(null),o=d({global:!0,caseInsensitive:!1,multiline:!1,dotAll:!1}),h=()=>{let s="";return o.value.global&&(s+="g"),o.value.caseInsensitive&&(s+="i"),o.value.multiline&&(s+="m"),o.value.dotAll&&(s+="s"),s},R=async()=>{if(!r.value||!u.value){alert("请输入原始文本和要查找的文本");return}g.value=!0;try{await new Promise(l=>setTimeout(l,300));let s=r.value,e=0,a="";if(x.value)try{const l=h(),p=new RegExp(u.value,l);if(s=r.value.replace(p,m.value),l.includes("g")){const b=r.value.match(p);e=b?b.length:0}else e=r.value.includes(u.value)?1:0;a=`正则表达式 (${l})`}catch{alert("正则表达式格式错误，请检查");return}else{const l=new RegExp(u.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");s=r.value.replace(l,m.value);const p=r.value.match(l);e=p?p.length:0,a="普通文本替换"}n.value={outputText:s,replaceCount:e,methodUsed:a}}catch(s){console.error("Replace error:",s),alert("处理失败，请重试")}finally{g.value=!1}},_=()=>{n.value&&navigator.clipboard.writeText(n.value.outputText).then(()=>{alert("已复制到剪贴板")}).catch(()=>{alert("复制失败，请手动复制")})},C=()=>{if(n.value){const s=new Blob([n.value.outputText],{type:"text/plain"}),e=URL.createObjectURL(s),a=document.createElement("a");a.href=e,a.download=`replaced_text_${new Date().toISOString().slice(0,10)}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(e)}};return T(),V({title:"文本批量替换 - 支持正则表达式的文本替换工具 - 办公工具箱",meta:[{name:"description",content:"免费在线文本批量替换工具，支持正则表达式，可快速替换文档中的文本内容。操作简单高效，支持多种替换模式。"},{name:"keywords",content:"文本替换,批量替换,正则表达式,文本处理,文本工具,办公工具"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"文本批量替换 - 支持正则表达式的文本替换工具 - 办公工具箱"},{property:"og:description",content:"免费在线文本批量替换工具，支持正则表达式，可快速替换文档中的文本内容。操作简单高效，支持多种替换模式。"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/text/replace"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/text/replace"}]}),(s,e)=>{const a=U;return f(),I(a,{title:"文本批量替换",description:"批量替换文档中的文本内容，支持正则表达式"},{default:A(()=>[t("div",B,[t("div",D,[t("div",L,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-text-primary"},"输入原始文本",-1)),i(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),placeholder:"请输入需要进行替换操作的文本内容",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 min-h-[200px]",rows:"8"},null,512),[[y,r.value]])]),t("div",$,[e[17]||(e[17]=t("h3",{class:"text-lg font-bold text-text-primary"},"替换选项",-1)),t("div",E,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"查找文本",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),type:"text",placeholder:"输入要查找的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[y,u.value]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"替换为",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>m.value=l),type:"text",placeholder:"输入替换后的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[y,m.value]])]),t("div",M,[i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>x.value=l),type:"checkbox",id:"useRegex",class:"rounded text-primary focus:ring-primary"},null,512),[[c,x.value]]),e[11]||(e[11]=t("label",{for:"useRegex",class:"text-sm font-medium text-text-primary"},"使用正则表达式",-1))]),x.value?(f(),w("div",S,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"正则表达式标志",-1)),t("div",j,[t("div",N,[i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.global=l),type:"checkbox",id:"flagGlobal",class:"rounded text-primary focus:ring-primary"},null,512),[[c,o.value.global]]),e[12]||(e[12]=t("label",{for:"flagGlobal",class:"text-xs text-text-primary"},"g (全局)",-1))]),t("div",O,[i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.caseInsensitive=l),type:"checkbox",id:"flagCaseInsensitive",class:"rounded text-primary focus:ring-primary"},null,512),[[c,o.value.caseInsensitive]]),e[13]||(e[13]=t("label",{for:"flagCaseInsensitive",class:"text-xs text-text-primary"},"i (忽略大小写)",-1))]),t("div",F,[i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.multiline=l),type:"checkbox",id:"flagMultiline",class:"rounded text-primary focus:ring-primary"},null,512),[[c,o.value.multiline]]),e[14]||(e[14]=t("label",{for:"flagMultiline",class:"text-xs text-text-primary"},"m (多行)",-1))]),t("div",G,[i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.dotAll=l),type:"checkbox",id:"flagDotAll",class:"rounded text-primary focus:ring-primary"},null,512),[[c,o.value.dotAll]]),e[15]||(e[15]=t("label",{for:"flagDotAll",class:"text-xs text-text-primary"},"s (点匹配所有)",-1))])])])):k("",!0)]),t("button",{onClick:R,disabled:g.value||!r.value||!u.value,class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},v(g.value?"处理中...":"执行替换"),9,P)]),n.value?(f(),w("div",q,[t("div",z,[e[18]||(e[18]=t("h3",{class:"font-bold text-green-800 mb-2"},"替换完成！",-1)),t("div",H,[t("p",null,"替换次数："+v(n.value.replaceCount)+" 次",1),t("p",null,"使用方式："+v(n.value.methodUsed),1)])]),t("div",J,[e[19]||(e[19]=t("h3",{class:"text-lg font-bold text-text-primary"},"替换结果",-1)),t("div",K,[t("pre",Q,v(n.value.outputText),1)]),t("div",{class:"grid grid-cols-2 gap-2"},[t("button",{onClick:_,class:"py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 复制结果 "),t("button",{onClick:C,class:"py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载结果 ")])])])):k("",!0)])])]),_:1})}}};export{se as default};
