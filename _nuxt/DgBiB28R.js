import{r as d,h as J,c as i,a as t,m as f,n as y,A as q,z as _,p as u,t as a,F as S,l as k,o as l}from"./CXV6dDrr.js";const D={class:"performance-analyzer-container"},L={class:"tool-content"},N={class:"input-section"},E={class:"url-input-container"},G=["disabled"],K={class:"analysis-options"},W={class:"options-grid"},H={class:"option-item"},O={class:"option-item"},Q={class:"option-item"},X={class:"option-item"},Y={class:"option-item"},Z={class:"option-item"},tt={key:0,class:"results-section"},st={key:0,class:"loading-overlay"},et={key:1,class:"results-summary"},at={class:"summary-card"},ot={class:"score-display"},it={class:"score-value"},lt={class:"score-label"},nt={class:"metrics-grid"},rt={class:"metric-item"},ut={class:"metric-content"},ct={class:"metric-value"},dt={class:"metric-item"},vt={class:"metric-content"},mt={class:"metric-value"},pt={class:"metric-item"},gt={class:"metric-content"},ft={class:"metric-value"},yt={class:"metric-item"},_t={class:"metric-content"},ht={class:"metric-value"},bt={class:"resources-section"},Mt={class:"resource-tabs"},zt={class:"resource-list"},St={key:0,class:"resource-items"},kt={class:"resource-info"},xt={class:"resource-name"},Ct={class:"resource-size"},Tt={key:1,class:"resource-items"},Pt={class:"resource-info"},Rt={class:"resource-name"},wt={class:"resource-size"},Ut={key:2,class:"resource-items"},jt={class:"resource-info"},It={class:"resource-name"},Vt={class:"resource-size"},$t={key:3,class:"resource-items"},Bt={class:"resource-info"},Ft={class:"resource-name"},At={class:"resource-size"},Jt={class:"suggestions-section"},qt={class:"suggestions-list"},Dt={class:"suggestion-icon"},Lt={class:"suggestion-content"},Nt={class:"suggestion-title"},Et={class:"suggestion-description"},Gt={key:1,class:"error-message"},Kt={key:2,class:"success-message"},Ot={__name:"performance-analyzer",setup(Wt){const x=d(""),C=d(!1),T=d(!1),p=d(""),g=d(""),v=d({analyzeImages:!0,analyzeJS:!0,analyzeCSS:!0,analyzeThirdParty:!0,generateReport:!0,simulateMobile:!1}),R=d(0),h=d(""),b=d(""),r=d({firstContentfulPaint:0,timeToInteractive:0,totalSize:0,totalRequests:0}),c=d({images:[],js:[],css:[],thirdParty:[]}),w=d([]),m=d("images"),U=J(()=>{try{return new URL(x.value),!0}catch{return!1}}),j=()=>{p.value="",g.value=""},I=()=>{if(!U.value){p.value="è¯·è¾“å…¥æœ‰æ•ˆçš„URL";return}try{C.value=!1,p.value="",T.value=!0,setTimeout(()=>{V(),T.value=!1,C.value=!0,g.value="æ€§èƒ½åˆ†æå®Œæˆ",setTimeout(()=>{g.value=""},3e3)},2e3)}catch(o){T.value=!1,p.value=`åˆ†æå¤±è´¥: ${o.message}`,console.error("æ€§èƒ½åˆ†æé”™è¯¯:",o)}},V=()=>{const o=Math.floor(Math.random()*40)+60;R.value=o,o>=90?(h.value="excellent",b.value="ä¼˜ç§€"):o>=75?(h.value="good",b.value="è‰¯å¥½"):o>=60?(h.value="average",b.value="ä¸€èˆ¬"):(h.value="poor",b.value="è¾ƒå·®"),r.value={firstContentfulPaint:(Math.random()*2+1).toFixed(2),timeToInteractive:(Math.random()*3+2).toFixed(2),totalSize:Math.floor(Math.random()*3e6)+1e6,totalRequests:Math.floor(Math.random()*50)+30},$(),B()},$=()=>{c.value.images=Array.from({length:10},(o,s)=>({name:`image-${s+1}.jpg`,size:Math.floor(Math.random()*5e5)+5e4,status:Math.random()>.5?"good":"warning",statusText:Math.random()>.5?"å·²ä¼˜åŒ–":"å»ºè®®å‹ç¼©"})),c.value.js=Array.from({length:8},(o,s)=>({name:`script-${s+1}.js`,size:Math.floor(Math.random()*2e5)+5e4,status:Math.random()>.6?"good":"warning",statusText:Math.random()>.6?"å·²ä¼˜åŒ–":"å»ºè®®å‹ç¼©"})),c.value.css=Array.from({length:5},(o,s)=>({name:`style-${s+1}.css`,size:Math.floor(Math.random()*1e5)+2e4,status:Math.random()>.7?"good":"warning",statusText:Math.random()>.7?"å·²ä¼˜åŒ–":"å»ºè®®å‹ç¼©"})),c.value.thirdParty=Array.from({length:6},(o,s)=>({name:`third-party-${s+1}.js`,size:Math.floor(Math.random()*15e4)+3e4,status:Math.random()>.4?"warning":"error",statusText:Math.random()>.4?"å»ºè®®å»¶è¿ŸåŠ è½½":"å»ºè®®ä¼˜åŒ–"}))},B=()=>{w.value=[{icon:"ğŸ–¼ï¸",title:"ä¼˜åŒ–å›¾ç‰‡èµ„æº",description:"å‹ç¼©å¹¶ä¼˜åŒ–å›¾ç‰‡èµ„æºï¼Œä½¿ç”¨WebPç­‰ç°ä»£æ ¼å¼ï¼Œå®ç°æ‡’åŠ è½½",impact:"high"},{icon:"ğŸ“œ",title:"å‹ç¼©JavaScriptæ–‡ä»¶",description:"ä½¿ç”¨å·¥å…·å‹ç¼©JavaScriptæ–‡ä»¶ï¼Œç§»é™¤ä¸å¿…è¦çš„ä»£ç ",impact:"high"},{icon:"ğŸ¨",title:"ä¼˜åŒ–CSSèµ„æº",description:"å‹ç¼©CSSæ–‡ä»¶ï¼Œç§»é™¤æœªä½¿ç”¨çš„æ ·å¼ï¼Œä½¿ç”¨CSSå˜é‡",impact:"medium"},{icon:"ğŸŒ",title:"ä¼˜åŒ–ç¬¬ä¸‰æ–¹èµ„æº",description:"å‡å°‘ç¬¬ä¸‰æ–¹è„šæœ¬æ•°é‡ï¼Œå®ç°å¼‚æ­¥åŠ è½½å’Œå»¶è¿ŸåŠ è½½",impact:"high"},{icon:"âš¡",title:"å¯ç”¨æµè§ˆå™¨ç¼“å­˜",description:"è®¾ç½®é€‚å½“çš„ç¼“å­˜å¤´ï¼Œåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜æœºåˆ¶",impact:"medium"},{icon:"ğŸš€",title:"ä½¿ç”¨CDNåŠ é€Ÿ",description:"å°†é™æ€èµ„æºéƒ¨ç½²åˆ°CDNï¼Œæé«˜å…¨çƒè®¿é—®é€Ÿåº¦",impact:"medium"}]},M=(o,s,e="time")=>(o=parseFloat(o),e==="time"||e==="size"||e==="count"?o<=s*.7?"good":o<=s?"warning":"error":"warning"),P=(o,s,e="time")=>{const n=M(o,s,e);return n==="good"?"ä¼˜ç§€":n==="warning"?"ä¸€èˆ¬":"è¾ƒå·®"},F=()=>{try{g.value="æŠ¥å‘Šå¯¼å‡ºæˆåŠŸ",setTimeout(()=>{g.value=""},3e3)}catch(o){p.value=`å¯¼å‡ºå¤±è´¥: ${o.message}`,console.error("å¯¼å‡ºæŠ¥å‘Šé”™è¯¯:",o)}},A=()=>{x.value="",C.value=!1,R.value=0,r.value={firstContentfulPaint:0,timeToInteractive:0,totalSize:0,totalRequests:0},c.value={images:[],js:[],css:[],thirdParty:[]},w.value=[],p.value="",g.value=""},z=o=>{if(o===0)return"0 Bytes";const s=1024,e=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(o)/Math.log(s));return parseFloat((o/Math.pow(s,n)).toFixed(2))+" "+e[n]};return(o,s)=>(l(),i("div",D,[s[32]||(s[32]=t("h1",{class:"tool-title"},"æ€§èƒ½åˆ†æå·¥å…·",-1)),s[33]||(s[33]=t("p",{class:"tool-desc"},"åˆ†æç½‘ç«™çš„åŠ è½½æ€§èƒ½ï¼Œæä¾›ä¼˜åŒ–å»ºè®®",-1)),t("div",L,[t("div",N,[s[18]||(s[18]=t("h2",{class:"section-title"},"è¾“å…¥",-1)),t("div",E,[y(t("input",{type:"url","onUpdate:modelValue":s[0]||(s[0]=e=>x.value=e),class:"url-input",placeholder:"è¯·è¾“å…¥è¦åˆ†æçš„ç½‘ç«™URL (ä¾‹å¦‚: https://example.com)",onInput:j},null,544),[[q,x.value]]),t("button",{class:"action-button primary",onClick:I,disabled:!U.value}," ğŸ“Š å¼€å§‹åˆ†æ ",8,G)]),t("div",K,[s[17]||(s[17]=t("h3",{class:"section-subtitle"},"åˆ†æé€‰é¡¹:",-1)),t("div",W,[t("label",H,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>v.value.analyzeImages=e)},null,512),[[_,v.value.analyzeImages]]),s[11]||(s[11]=t("span",{class:"option-text"},"åˆ†æå›¾ç‰‡èµ„æº",-1))]),t("label",O,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>v.value.analyzeJS=e)},null,512),[[_,v.value.analyzeJS]]),s[12]||(s[12]=t("span",{class:"option-text"},"åˆ†æJavaScriptæ–‡ä»¶",-1))]),t("label",Q,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>v.value.analyzeCSS=e)},null,512),[[_,v.value.analyzeCSS]]),s[13]||(s[13]=t("span",{class:"option-text"},"åˆ†æCSSæ–‡ä»¶",-1))]),t("label",X,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>v.value.analyzeThirdParty=e)},null,512),[[_,v.value.analyzeThirdParty]]),s[14]||(s[14]=t("span",{class:"option-text"},"åˆ†æç¬¬ä¸‰æ–¹èµ„æº",-1))]),t("label",Y,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=e=>v.value.generateReport=e)},null,512),[[_,v.value.generateReport]]),s[15]||(s[15]=t("span",{class:"option-text"},"ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š",-1))]),t("label",Z,[y(t("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=e=>v.value.simulateMobile=e)},null,512),[[_,v.value.simulateMobile]]),s[16]||(s[16]=t("span",{class:"option-text"},"æ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡",-1))])])])]),C.value?(l(),i("div",tt,[s[31]||(s[31]=t("h2",{class:"section-title"},"åˆ†æç»“æœ",-1)),T.value?(l(),i("div",st,[...s[19]||(s[19]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"æ­£åœ¨åˆ†æç½‘ç«™æ€§èƒ½...",-1)])])):(l(),i("div",et,[t("div",at,[s[20]||(s[20]=t("h3",null,"æ€§èƒ½è¯„åˆ†",-1)),t("div",ot,[t("div",{class:u(["score-circle",h.value])},[t("span",it,a(R.value),1),t("span",lt,a(b.value),1)],2)])]),t("div",nt,[t("div",rt,[s[22]||(s[22]=t("div",{class:"metric-icon"},"â±ï¸",-1)),t("div",ut,[s[21]||(s[21]=t("div",{class:"metric-label"},"é¦–å±åŠ è½½æ—¶é—´",-1)),t("div",ct,a(r.value.firstContentfulPaint)+"s",1),t("div",{class:u(["metric-status",M(r.value.firstContentfulPaint,2)])},a(P(r.value.firstContentfulPaint,2)),3)])]),t("div",dt,[s[24]||(s[24]=t("div",{class:"metric-icon"},"âš¡",-1)),t("div",vt,[s[23]||(s[23]=t("div",{class:"metric-label"},"å¯äº¤äº’æ—¶é—´",-1)),t("div",mt,a(r.value.timeToInteractive)+"s",1),t("div",{class:u(["metric-status",M(r.value.timeToInteractive,3.8)])},a(P(r.value.timeToInteractive,3.8)),3)])]),t("div",pt,[s[26]||(s[26]=t("div",{class:"metric-icon"},"ğŸ“¦",-1)),t("div",gt,[s[25]||(s[25]=t("div",{class:"metric-label"},"æ€»èµ„æºå¤§å°",-1)),t("div",ft,a(z(r.value.totalSize)),1),t("div",{class:u(["metric-status",M(r.value.totalSize,2e6)])},a(P(r.value.totalSize,2e6,"size")),3)])]),t("div",yt,[s[28]||(s[28]=t("div",{class:"metric-icon"},"ğŸ”—",-1)),t("div",_t,[s[27]||(s[27]=t("div",{class:"metric-label"},"è¯·æ±‚æ•°é‡",-1)),t("div",ht,a(r.value.totalRequests),1),t("div",{class:u(["metric-status",M(r.value.totalRequests,50)])},a(P(r.value.totalRequests,50,"count")),3)])])]),t("div",bt,[s[29]||(s[29]=t("h3",{class:"section-subtitle"},"èµ„æºè¯¦æƒ…:",-1)),t("div",Mt,[t("button",{class:u(["tab-button",{active:m.value==="images"}]),onClick:s[7]||(s[7]=e=>m.value="images")}," ğŸ–¼ï¸ å›¾ç‰‡ ("+a(c.value.images.length)+") ",3),t("button",{class:u(["tab-button",{active:m.value==="js"}]),onClick:s[8]||(s[8]=e=>m.value="js")}," ğŸ“œ JavaScript ("+a(c.value.js.length)+") ",3),t("button",{class:u(["tab-button",{active:m.value==="css"}]),onClick:s[9]||(s[9]=e=>m.value="css")}," ğŸ¨ CSS ("+a(c.value.css.length)+") ",3),t("button",{class:u(["tab-button",{active:m.value==="third-party"}]),onClick:s[10]||(s[10]=e=>m.value="third-party")}," ğŸŒ ç¬¬ä¸‰æ–¹èµ„æº ("+a(c.value.thirdParty.length)+") ",3)]),t("div",zt,[m.value==="images"?(l(),i("div",St,[(l(!0),i(S,null,k(c.value.images,(e,n)=>(l(),i("div",{class:"resource-item",key:n},[t("div",kt,[t("div",xt,a(e.name),1),t("div",Ct,a(z(e.size)),1)]),t("div",{class:u(["resource-status",e.status])},a(e.statusText),3)]))),128))])):f("",!0),m.value==="js"?(l(),i("div",Tt,[(l(!0),i(S,null,k(c.value.js,(e,n)=>(l(),i("div",{class:"resource-item",key:n},[t("div",Pt,[t("div",Rt,a(e.name),1),t("div",wt,a(z(e.size)),1)]),t("div",{class:u(["resource-status",e.status])},a(e.statusText),3)]))),128))])):f("",!0),m.value==="css"?(l(),i("div",Ut,[(l(!0),i(S,null,k(c.value.css,(e,n)=>(l(),i("div",{class:"resource-item",key:n},[t("div",jt,[t("div",It,a(e.name),1),t("div",Vt,a(z(e.size)),1)]),t("div",{class:u(["resource-status",e.status])},a(e.statusText),3)]))),128))])):f("",!0),m.value==="third-party"?(l(),i("div",$t,[(l(!0),i(S,null,k(c.value.thirdParty,(e,n)=>(l(),i("div",{class:"resource-item",key:n},[t("div",Bt,[t("div",Ft,a(e.name),1),t("div",At,a(z(e.size)),1)]),t("div",{class:u(["resource-status",e.status])},a(e.statusText),3)]))),128))])):f("",!0)])]),t("div",Jt,[s[30]||(s[30]=t("h3",{class:"section-subtitle"},"ä¼˜åŒ–å»ºè®®:",-1)),t("div",qt,[(l(!0),i(S,null,k(w.value,(e,n)=>(l(),i("div",{class:"suggestion-item",key:n},[t("div",Dt,a(e.icon),1),t("div",Lt,[t("div",Nt,a(e.title),1),t("div",Et,a(e.description),1),t("div",{class:u(["suggestion-impact",e.impact])}," å½±å“: "+a(e.impact.toUpperCase()),3)])]))),128))])]),t("div",{class:"action-buttons"},[t("button",{class:"action-button secondary",onClick:F}," ğŸ’¾ å¯¼å‡ºæŠ¥å‘Š "),t("button",{class:"action-button tertiary",onClick:A}," ğŸ—‘ï¸ æ¸…ç©º ")])]))])):f("",!0),p.value?(l(),i("div",Gt," âš ï¸ "+a(p.value),1)):f("",!0),g.value?(l(),i("div",Kt," âœ… "+a(g.value),1)):f("",!0)])]))}};export{Ot as default};
