const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CksKCXqW.js","./Dh5_xY7C.js"])))=>i.map(i=>d[i]);
import{j as F,w as P,o as r,a as e,b,c as i,F as B,p as C,t as p,l as c,d as D,r as m,_ as E}from"./5KiIeb3O.js";import{_ as V}from"./D50zL9At.js";import{P as M}from"./BvpkkP1O.js";import{G as L}from"./9UHln5xC.js";import{_ as N}from"./DlAUqK2U.js";import"./drxn0VFK.js";import"./7YFkQcuL.js";import"./BrGRrvQ4.js";import"./bvqDPNRK.js";const S={class:"space-y-6"},U={class:"bg-white p-4 rounded-lg shadow"},j={class:"space-y-3"},z={class:"bg-gray-50 p-3 rounded-md border border-gray-200"},R={class:"space-y-2"},$={class:"text-sm truncate"},G={class:"text-xs text-gray-500"},T={key:0,class:"text-sm text-gray-500 italic"},A={key:0,class:"mt-6"},I=["disabled"],O={key:0,class:"mr-2 animate-spin"},K={key:1,class:"mt-4"},q={key:2,class:"mt-6 bg-green-50 p-4 rounded-lg border border-green-200"},H={class:"space-y-2 text-sm text-green-700"},J={__name:"merge",setup(Q){let v=null;const h=async()=>(v||(v=(await E(async()=>{const{default:s}=await import("./CksKCXqW.js");return{default:s}},__vite__mapDeps([0,1]),import.meta.url)).default),v),l=m([]),n=m(!1),d=m(0),g=m(null),_=m(null),y=()=>{console.log("处理开始")},f=s=>{console.log("处理结束:",s)},x=s=>{if(s===0)return"0 B";const t=1024,o=["B","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,a)).toFixed(2))+" "+o[a]},w=async()=>{if(!(l.value.length<2)){n.value=!0,d.value=0,g.value=null,_.value=null,y();try{const s=await h();d.value=30;const t=await s.pdfMerge({files:l.value});d.value=100,setTimeout(()=>{n.value=!1;const o=t,a=URL.createObjectURL(o);_.value=a;const k=`merged_${Date.now()}.pdf`,u=document.createElement("a");u.href=a,u.download=k,document.body.appendChild(u),u.click(),document.body.removeChild(u),f({success:!0,url:a})},500)}catch(s){n.value=!1,g.value=s.message,f({success:!1,error:s.message})}}};return(s,t)=>(r(),F(V,{title:"PDF合并",description:"将多个PDF文件按顺序合并为一个文件","download-button":!1,tips:["1. 点击'选择文件'按钮或拖拽多个PDF文件到上传区域","2. 等待文件上传完成","3. 查看已选择的文件列表，确认文件顺序","4. 可以通过以下方式管理文件：","   • 拖拽文件：改变文件的合并顺序","   • 删除文件：点击文件旁边的删除按钮移除不需要的文件","   • 清空文件：点击'清空文件'按钮移除所有文件","5. 确保至少选择了2个PDF文件","6. 点击'开始合并'按钮","7. 等待处理完成后，文件会自动开始下载","⚠️ 重要警告：请勿上传包含重要秘密、敏感信息或机密数据的文件，以防信息泄露风险。"]},{default:P(()=>[e("div",S,[b(L,{multiple:!0,accept:".pdf","max-size":100*1024*1024,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o),onFilesChanged:s.handleFilesChanged,onError:s.handleError},null,8,["modelValue","onFilesChanged","onError"]),e("div",U,[t[3]||(t[3]=e("h3",{class:"font-semibold mb-3"},"合并设置",-1)),e("div",j,[t[2]||(t[2]=e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"合并顺序"),e("p",{class:"text-sm text-gray-500"}," 提示：文件将按照上传顺序合并 ")],-1)),e("div",null,[t[1]||(t[1]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"已选择文件",-1)),e("div",z,[e("ul",R,[(r(!0),i(B,null,C(l.value,(o,a)=>(r(),i("li",{key:a,class:"flex items-center justify-between"},[e("span",$,p(o.name),1),e("span",G,p(x(o.size)),1)]))),128)),l.value.length===0?(r(),i("li",T," 请选择要合并的PDF文件 ")):c("",!0)])])])])]),l.value.length>0?(r(),i("div",A,[e("button",{onClick:w,disabled:n.value||l.value.length<2,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[n.value?(r(),i("span",O,"⏳")):c("",!0),D(" "+p(n.value?"处理中...":`开始合并 (${l.value.length}个文件)`),1)],8,I)])):c("",!0),n.value?(r(),i("div",K,[b(M,{progress:d.value,label:`处理进度: ${d.value}%`,error:g.value},null,8,["progress","label","error"])])):c("",!0),_.value?(r(),i("div",q,[t[5]||(t[5]=e("h3",{class:"font-semibold text-green-700 mb-2"},"合并成功",-1)),e("div",H,[e("p",null,"成功合并："+p(l.value.length)+" 个文件",1),t[4]||(t[4]=e("p",null,"文件已自动开始下载",-1))])])):c("",!0)])]),_:1}))}},ae=N(J,[["__scopeId","data-v-c10f430d"]]);export{ae as default};
