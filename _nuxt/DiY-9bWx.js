import{_ as z}from"./C6HMMAnQ.js";import{u as D,h as P,w as R,o as a,a as e,c as i,i as v,j as n,f as s,t as c,F as V,r as H,p as U,k as b,l as x,v as _,q as L}from"./SaazSTpp.js";import"./SMMEOewN.js";import"./BtRl-Aal.js";const j={class:"space-y-6"},$={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},T={class:"space-y-4"},A={key:0,class:"text-sm text-text-secondary"},I={key:0,class:"space-y-4"},O={class:"grid grid-cols-4 gap-2"},S=["onClick"],E={class:"text-center"},N={class:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},q=["d"],G={class:"text-sm font-medium"},K={class:"flex items-center gap-2"},J={class:"flex items-center gap-4"},Q={class:"flex items-center gap-2"},W={key:0,class:"flex items-center gap-2"},X=["disabled"],Y={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},Z={class:"space-y-1 text-sm text-green-700"},ne={__name:"rotate",setup(ee){const h=n(null),r=n(null),d=n(90),p=n(null),m=n(!0),f=n(""),g=n(!1),u=n(null),k=[{value:0,label:"0°",icon:"M4 4v16h16V4H4z"},{value:90,label:"90°",icon:"M4 4v16h16V4H4z"},{value:180,label:"180°",icon:"M4 4v16h16V4H4z"},{value:270,label:"270°",icon:"M4 4v16h16V4H4z"}],w=()=>{h.value?.click()},C=o=>{const t=o.target.files[0];t&&t.type==="application/pdf"&&(r.value=t)},F=o=>{if(o===0)return"0 Bytes";const t=1024,y=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(o)/Math.log(t));return Math.round(o/Math.pow(t,l)*100)/100+" "+y[l]},M=async()=>{if(!r.value){alert("请先选择PDF文件");return}g.value=!0;try{await new Promise(o=>setTimeout(o,2e3)),u.value={angle:d.value,size:r.value.size}}catch(o){console.error("Rotation error:",o),alert("旋转失败，请重试")}finally{g.value=!1}},B=()=>{if(!u.value||!r.value)return;const o=document.createElement("a");o.href=URL.createObjectURL(r.value),o.download=`rotated_${d.value}deg_${r.value.name}`,o.click(),URL.revokeObjectURL(o.href)};return D({title:"PDF旋转 - Office Tools",meta:[{name:"description",content:"旋转PDF页面方向"}]}),(o,t)=>{const y=z;return a(),P(y,{title:"PDF旋转",description:"旋转PDF页面方向"},{default:R(()=>[e("div",j,[e("div",$,[e("input",{ref_key:"fileInput",ref:h,type:"file",accept:".pdf",class:"hidden",onChange:C},null,544),e("div",T,[t[4]||(t[4]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),e("button",{onClick:w,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),s(r)?(a(),i("p",A,c(s(r).name),1)):v("",!0)])]),s(r)?(a(),i("div",I,[t[7]||(t[7]=e("h3",{class:"text-lg font-bold text-text-primary"},"旋转设置",-1)),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"旋转角度",-1)),e("div",O,[(a(),i(V,null,H(k,l=>e("button",{key:l.value,onClick:te=>d.value=l.value,class:U(["p-4 border-2 rounded-lg transition-all",s(d)===l.value?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-primary/50"])},[e("div",E,[(a(),i("svg",N,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:l.icon},null,8,q)])),e("p",G,c(l.label),1)])],10,S)),64))])]),e("div",K,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>x(p)?p.value=l:null),type:"number",min:"0",max:"360",placeholder:"自定义角度",class:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[_,s(p),void 0,{number:!0}]]),e("button",{onClick:t[1]||(t[1]=l=>d.value=s(p)),class:"px-4 py-2 bg-gray-100 text-text-primary rounded-lg hover:bg-gray-200 transition-colors"}," 应用 ")]),e("div",J,[e("label",Q,[b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>x(m)?m.value=l:null),type:"checkbox",class:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary"},null,512),[[L,s(m)]]),t[6]||(t[6]=e("span",{class:"text-sm text-text-primary"},"旋转所有页面",-1))]),s(m)?v("",!0):(a(),i("div",W,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>x(f)?f.value=l:null),type:"text",placeholder:"例如：1-5, 8-10",class:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[_,s(f),void 0,{number:!0}]])]))]),e("button",{onClick:M,disabled:s(g),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},c(s(g)?"旋转中...":"开始旋转"),9,X)])):v("",!0),s(u)?(a(),i("div",Y,[t[8]||(t[8]=e("h3",{class:"font-bold text-green-800 mb-2"},"旋转完成！",-1)),e("div",Z,[e("p",null,"旋转角度："+c(s(u).angle)+"°",1),e("p",null,"文件大小："+c(F(s(u).size)),1)]),e("button",{onClick:B,class:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载旋转后的文件 ")])):v("",!0)])]),_:1})}}};export{ne as default};
