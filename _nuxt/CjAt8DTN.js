import{_ as h}from"./BABs0YC5.js";import{D as B,w as E,o as m,a as t,c as p,i as c,h as s,u as l,t as V,p as a,q as u,s as D,v as f}from"./CONUlYrd.js";import{u as M}from"./8Q1XjmlR.js";import"./Bu46YPbD.js";import"./Df9yIBho.js";const T={class:"space-y-6"},N={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},j={class:"space-y-4"},H={key:0,class:"text-sm text-text-secondary"},O={key:0,class:"space-y-4"},z={class:"grid grid-cols-2 gap-4"},$={key:0,class:"space-y-4"},q={class:"grid grid-cols-2 gap-4"},W={key:1,class:"space-y-4"},_={class:"grid grid-cols-2 gap-4"},A=["disabled"],G={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},ee={__name:"editor",setup(J){const w=s(null),F=s(null),i=s(null),U=s(null),r=s("none"),g=s(""),y=s(24),d=s(50),x=s(50),k=s("all"),v=s(!1),b=s(null),C=()=>{w.value?.click()},I=o=>{const e=o.target.files[0];e&&e.type==="application/pdf"&&(i.value=e)},L=o=>{const e=o.target.files[0];e&&e.type.startsWith("image/")&&(U.value=e)},P=async()=>{if(!i.value){alert("请先选择PDF文件");return}if(r.value==="text"&&!g.value){alert("请输入水印文字");return}if(r.value==="image"&&!U.value){alert("请选择水印图片");return}v.value=!0;try{await new Promise(o=>setTimeout(o,2e3)),b.value={mode:r.value,fileName:`edited_${i.value.name}`}}catch(o){console.error("Edit error:",o),alert("编辑失败，请重试")}finally{v.value=!1}},R=()=>{if(!b.value||!i.value)return;const o=document.createElement("a");o.href=URL.createObjectURL(i.value),o.download=b.value.fileName,o.click(),URL.revokeObjectURL(o.href)};return M({title:"PDF编辑 - Office Tools",meta:[{name:"description",content:"编辑PDF文件内容"}]}),(o,e)=>{const S=h;return m(),B(S,{title:"PDF编辑",description:"编辑PDF文件内容"},{default:E(()=>[t("div",T,[t("div",N,[t("input",{ref_key:"fileInput",ref:w,type:"file",accept:".pdf",class:"hidden",onChange:I},null,544),t("div",j,[e[7]||(e[7]=t("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 0L11.828 15H9v-2h2.828a2 2 0 001.414-1.414L15 8.172V5h-4zM4 4h6"})],-1)),t("button",{onClick:C,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择PDF文件 "),l(i)?(m(),p("p",H,V(l(i).name),1)):c("",!0)])]),l(i)?(m(),p("div",O,[e[18]||(e[18]=t("h3",{class:"text-lg font-bold text-text-primary"},"编辑选项",-1)),t("div",z,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"添加水印",-1)),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>u(r)?r.value=n:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...e[8]||(e[8]=[t("option",{value:"none"},"无",-1),t("option",{value:"text"},"文字水印",-1),t("option",{value:"image"},"图片水印",-1)])],512),[[D,l(r)]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"页面范围",-1)),a(t("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>u(k)?k.value=n:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...e[10]||(e[10]=[t("option",{value:"all"},"所有页面",-1),t("option",{value:"first"},"首页",-1),t("option",{value:"last"},"末页",-1),t("option",{value:"custom"},"自定义",-1)])],512),[[D,l(k)]])])]),l(r)==="text"?(m(),p("div",$,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"水印文字",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>u(g)?g.value=n:null),type:"text",placeholder:"例如：机密文件",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[f,l(g)]])]),t("div",q,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"字体大小",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>u(y)?y.value=n:null),type:"number",min:"8",max:"72",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[f,l(y),void 0,{number:!0}]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"透明度",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>u(d)?d.value=n:null),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[f,l(d),void 0,{number:!0}]])])])])):c("",!0),l(r)==="image"?(m(),p("div",W,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"选择水印图片",-1)),t("input",{ref_key:"imageInput",ref:F,type:"file",accept:"image/*",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",onChange:L},null,544)]),t("div",_,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"缩放比例",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>u(x)?x.value=n:null),type:"number",min:"10",max:"200",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[f,l(x),void 0,{number:!0}]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-text-primary mb-2"},"透明度",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>u(d)?d.value=n:null),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[f,l(d),void 0,{number:!0}]])])])])):c("",!0),t("button",{onClick:P,disabled:l(v)||l(r)==="none",class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},V(l(v)?"处理中...":"应用编辑"),9,A)])):c("",!0),l(b)?(m(),p("div",G,[e[19]||(e[19]=t("h3",{class:"font-bold text-green-800 mb-2"},"编辑完成！",-1)),t("button",{onClick:R,class:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载编辑后的文件 ")])):c("",!0)])]),_:1})}}};export{ee as default};
