import{E as e,G as t,H as a,i as r,I as n,J as l,K as u,L as i,M as o,N as s,O as c,P as v,r as f,Q as d,R as p,S as h,x as g,T as y,U as m,V as b,W as x,X as q,Y as S,Z as C}from"./CbGhm0ms.js";function R(x){const q=x.componentName||"NuxtLink";function S(e){return"string"==typeof e&&e.startsWith("#")}function R(e){const a=t(),r=C(),n=g(()=>!!e.target&&"_self"!==e.target),l=g(()=>{const t=e.to||e.href||"";return"string"==typeof t&&y(t,{acceptRelative:!0})}),u=s("RouterLink"),i="string"!=typeof u?u.useLink:void 0,o=g(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||l.value)}),c=g(()=>{const t=e.to||e.href||"";return o.value?t:function(e,t,a){const r=a??x.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return w(e,r);const n="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:w(n,r)}}(t,a.resolve,e.trailingSlash)}),v=o.value?void 0:i?.({...e,to:c}),f=g(()=>{const t=e.trailingSlash??x.trailingSlash;if(!c.value||l.value||S(c.value))return c.value;if(o.value){const e="object"==typeof c.value&&"path"in c.value?d(c.value):c.value;return w("object"==typeof e?a.resolve(e).href:e,t)}return"object"==typeof c.value?a.resolve(c.value)?.href??null:w(m(r.app.baseURL,c.value),t)});return{to:c,hasTarget:n,isAbsoluteUrl:l,isExternal:o,href:f,isActive:v?.isActive??g(()=>c.value===a.currentRoute.value.path),isExactActive:v?.isExactActive??g(()=>c.value===a.currentRoute.value.path),route:v?.route??g(()=>a.resolve(c.value)),async navigate(t){await h(f.value,{replace:e.replace,external:o.value||n.value})}}}return e({name:q,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:R,setup(e,{slots:h}){const g=t(),{to:y,href:m,navigate:q,isExternal:C,hasTarget:A,isAbsoluteUrl:w}=R(e),O=v(!1),E=f(null),L=t=>{E.value=e.custom?t?.$el?.nextElementSibling:t?.$el};function j(t){return!O.value&&("string"==typeof e.prefetchOn?e.prefetchOn===t:e.prefetchOn?.[t]??x.prefetchOn?.[t])&&!1!==(e.prefetch??x.prefetch)&&!0!==e.noPrefetch&&"_blank"!==e.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||k.test(e.effectiveType)))return!0;return!1}()}async function B(e=a()){if(O.value)return;O.value=!0;const t="string"==typeof y.value?y.value:C.value?d(y.value):g.resolve(y.value).fullPath,r=C.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook("link:prefetch",r).catch(()=>{}),!C.value&&!A.value&&p(y.value,g).catch(()=>{})])}if(j("visibility")){const e=a();let t,o=null;r(()=>{const r=function(){const e=a();if(e._observer)return e._observer;let t=null;const r=new Map,n=(e,a)=>(t||=new IntersectionObserver(e=>{for(const t of e){const e=r.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),r.set(e,a),t.observe(e),()=>{r.delete(e),t?.unobserve(e),0===r.size&&(t?.disconnect(),t=null)}),l=e._observer={observe:n};return l}();n(()=>{t=l(()=>{E?.value?.tagName&&(o=r.observe(E.value,async()=>{o?.(),o=null,await B(e)}))})})}),u(()=>{t&&i(t),o?.(),o=null})}return()=>{if(!C.value&&!A.value&&!S(y.value)){const t={ref:L,to:y.value,activeClass:e.activeClass||x.activeClass,exactActiveClass:e.exactActiveClass||x.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(j("interaction")&&(t.onPointerenter=B.bind(null,void 0),t.onFocus=B.bind(null,void 0)),O.value&&(t.class=e.prefetchedClass||x.prefetchedClass),t.rel=e.rel||void 0),o(s("RouterLink"),t,h.default)}const t=e.target||null,a=((...e)=>e.find(e=>void 0!==e))(e.noRel?"":e.rel,x.externalRelAttribute,w.value||A.value?"noopener noreferrer":"")||null;return e.custom?h.default?h.default({href:m.value,navigate:q,prefetch:B,get route(){if(!m.value)return;const e=new URL(m.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return c(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:m.value}},rel:a,target:t,isExternal:C.value||A.value,isActive:!1,isExactActive:!1}):null:o("a",{ref:E,href:m.value||null,rel:a,target:t,onClick:async t=>{if(!C.value&&!A.value){t.preventDefault();try{const t=b(m.value);return await(e.replace?g.replace(t):g.push(t))}finally{if(S(y.value)){const e=y.value.slice(1);let t=e;try{t=decodeURIComponent(e)}catch{}const a=document.getElementById(t);a?.focus()}}}}},h.default?.())}}})}const A=R(x);function w(e,t){const a="append"===t?q:S;return y(e)&&!e.startsWith("http")?e:a(e,!0)}const k=/2g/;export{A as _};
