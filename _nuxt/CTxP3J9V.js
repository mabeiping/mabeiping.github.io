import{j as P,w as j,o,a as e,b as x,c as s,q as h,y as F,l as u,t as d,s as q,F as L,p as H,r as a}from"./5KiIeb3O.js";import{_ as J}from"./D50zL9At.js";import{G as w}from"./9UHln5xC.js";import{_ as K}from"./DlAUqK2U.js";import"./drxn0VFK.js";import"./7YFkQcuL.js";import"./BrGRrvQ4.js";import"./bvqDPNRK.js";const O={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},W={key:0,class:"mt-4 space-y-4"},X={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},Y={class:"mt-2"},ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},te={key:0,class:"mt-4 space-y-4"},le={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},oe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},se={class:"space-y-4"},ae={class:"block text-sm font-medium text-gray-700 mb-1"},ne={key:0},re={key:0,class:"mt-4 p-4 bg-green-50 rounded-md"},ue={class:"mt-2"},de={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ie={key:0,class:"mt-4 space-y-4"},pe={class:"font-medium text-gray-900 mb-2"},me={class:"grid grid-cols-1 gap-2"},ce={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},ve={class:"mt-2"},ge={key:0},be={class:"text-sm text-gray-600 space-y-1 mt-2"},fe={__name:"index",setup(ye){const c=a(null),f=a("zip"),v=a(null),M=l=>{c.value=l[0]},U=l=>{c.value=l},_=()=>{c.value&&setTimeout(()=>{v.value={fileName:c.value.name.replace(/\.[^/.]+$/,"")+"."+f.value,url:"#"}},1500)},z=()=>{if(!v.value)return;const l=document.createElement("a");l.href=v.value.url,l.download=v.value.fileName,l.click()},m=a(null),k=a(""),g=a(null),S=l=>{m.value=l[0]},B=l=>{m.value=l},R=()=>{!m.value||!k.value||setTimeout(()=>{g.value={fileName:m.value.name.replace(/\.[^/.]+$/,"")+"-decrypted"+m.value.name.match(/\.[^/.]+$/)[0],url:"#"}},1500)},N=()=>{if(!g.value)return;const l=document.createElement("a");l.href=g.value.url,l.download=g.value.fileName,l.click()},i=a("split"),y=a([]),C=a("100MB"),b=a(null),T=l=>{y.value=l},V=l=>{y.value=l},$=()=>{y.length!==0&&setTimeout(()=>{let l="";i.value==="split"?l=`文件已成功分卷为 ${C.value} 大小的分卷`:l=`${y.value.length} 个分卷已成功合并`,b.value={message:l,url:"#"}},1500)},A=()=>{if(!b.value)return;const l=document.createElement("a");l.href=b.value.url,l.download=i.value==="split"?"split-volumes.zip":"merged-archive.zip",l.click()},n=a([]),r=a(null),G=l=>{n.value=l},D=l=>{n.value=l},E=()=>{n.value.length!==0&&setTimeout(()=>{r.value={message:`已完成 ${n.value.length} 个压缩包的检测和修复`,details:{success:Math.floor(n.value.length*.7),failed:Math.floor(n.value.length*.1),intact:Math.floor(n.value.length*.2)},downloadUrl:"#"}},2e3)},Z=()=>{if(!r.value?.downloadUrl)return;const l=document.createElement("a");l.href=r.value.downloadUrl,l.download="repair-result.zip",l.click()};return(l,t)=>(o(),P(J,{title:"压缩包高级处理",description:"支持ZIP/RAR/7Z格式互转、加密压缩包解密、分卷/合并、破损修复"},{default:j(()=>[e("div",O,[e("div",Q,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包格式转换",-1)),x(w,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:M,onUploadComplete:U}),c.value?(o(),s("div",W,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"目标格式",-1)),h(e("select",{"onUpdate:modelValue":t[0]||(t[0]=p=>f.value=p),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[4]||(t[4]=[e("option",{value:"zip"},"ZIP",-1),e("option",{value:"rar"},"RAR",-1),e("option",{value:"7z"},"7Z",-1)])],512),[[F,f.value]])]),e("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:_}," 开始转换 ")])):u("",!0),v.value?(o(),s("div",X,[t[6]||(t[6]=e("h4",{class:"font-medium text-green-800"},"转换成功",-1)),e("p",Y,"文件已转换为 "+d(f.value)+" 格式",1),e("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:z}," 下载转换结果 ")])):u("",!0)]),e("div",ee,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"加密压缩包解密",-1)),x(w,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:S,onUploadComplete:B}),m.value?(o(),s("div",te,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"解密密码",-1)),h(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=p=>k.value=p),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入压缩包密码"},null,512),[[q,k.value]])]),e("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:R}," 开始解密 ")])):u("",!0),g.value?(o(),s("div",le,[t[9]||(t[9]=e("h4",{class:"font-medium text-green-800"},"解密成功",-1)),t[10]||(t[10]=e("p",{class:"mt-2"},"压缩包已成功解密",-1)),e("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:N}," 下载解密结果 ")])):u("",!0)]),e("div",oe,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包分卷/合并",-1)),e("div",se,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"操作类型",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>i.value=p),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[12]||(t[12]=[e("option",{value:"split"},"分卷压缩",-1),e("option",{value:"merge"},"合并分卷",-1)])],512),[[F,i.value]])]),e("div",null,[e("label",ae,d(i.value==="split"?"原始文件":"分卷文件"),1),x(w,{accept:i.value==="split"?["*"]:[".zip",".rar",".7z"],multiple:i.value==="merge",onFilesSelected:T,onUploadComplete:V},null,8,["accept","multiple"])]),i.value==="split"?(o(),s("div",ne,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分卷大小",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=p=>C.value=p),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[14]||(t[14]=[e("option",{value:"100MB"},"100MB",-1),e("option",{value:"500MB"},"500MB",-1),e("option",{value:"1GB"},"1GB",-1),e("option",{value:"2GB"},"2GB",-1)])],512),[[F,C.value]])])):u("",!0),e("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:$},d(i.value==="split"?"开始分卷":"开始合并"),1)]),b.value?(o(),s("div",re,[t[16]||(t[16]=e("h4",{class:"font-medium text-green-800"},"操作成功",-1)),e("p",ue,d(b.value.message),1),e("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:A}," 下载结果 ")])):u("",!0)]),e("div",de,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包修复",-1)),t[21]||(t[21]=e("p",{class:"text-sm text-gray-600 mb-4"},"批量检测破损压缩包并尝试修复",-1)),x(w,{accept:[".zip",".rar",".7z"],multiple:!0,onFilesSelected:G,onUploadComplete:D}),n.value.length>0?(o(),s("div",ie,[e("div",null,[e("h4",pe,"已选择 "+d(n.value.length)+" 个压缩包",1),e("div",me,[(o(!0),s(L,null,H(n.value,(p,I)=>(o(),s("div",{key:I,class:"text-sm text-gray-600"},d(p.name),1))),128))])]),e("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:E}," 开始检测和修复 ")])):u("",!0),r.value?(o(),s("div",ce,[t[19]||(t[19]=e("h4",{class:"font-medium text-green-800"},"修复完成",-1)),e("p",ve,d(r.value.message),1),r.value.details?(o(),s("div",ge,[t[18]||(t[18]=e("h5",{class:"font-medium text-gray-900 mt-3"},"修复详情",-1)),e("div",be,[e("p",null,"成功修复: "+d(r.value.details.success)+" 个",1),e("p",null,"无法修复: "+d(r.value.details.failed)+" 个",1),e("p",null,"完好无损: "+d(r.value.details.intact)+" 个",1)])])):u("",!0),r.value.downloadUrl?(o(),s("button",{key:1,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Z}," 下载修复结果 ")):u("",!0)])):u("",!0)])])]),_:1}))}},_e=K(fe,[["__scopeId","data-v-c248a2bd"]]);export{_e as default};
