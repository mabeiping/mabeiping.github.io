import{_ as e,w as l,m as t,p as a,q as o,n as s,z as u,a7 as r,D as n,x as d,J as i,F as c,u as m,k as p}from"./DFWWPSrV.js";import{_ as v}from"./C1jkWaCi.js";import{G as b}from"./BGFgIxDv.js";import{_ as g}from"./nEzmyvu1.js";import"./CdYbPlRr.js";import"./BM3HdAYC.js";import"./DUMejLMI.js";const f={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},h={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},x={key:0,class:"mt-4 space-y-4"},y={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},w={class:"mt-2"},k={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},z={key:0,class:"mt-4 space-y-4"},C={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},U={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},B={class:"space-y-4"},M={class:"block text-sm font-medium text-gray-700 mb-1"},_={key:0},j={key:0,class:"mt-4 p-4 bg-green-50 rounded-md"},$={class:"mt-2"},F={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},G={key:0,class:"mt-4 space-y-4"},S={class:"font-medium text-gray-900 mb-2"},T={class:"grid grid-cols-1 gap-2"},E={key:1,class:"mt-4 p-4 bg-green-50 rounded-md"},N={class:"mt-2"},R={key:0},V={class:"text-sm text-gray-600 space-y-1 mt-2"},Z=g({__name:"index",setup(g){const Z=p(null),I=p("zip"),A=p(null),P=e=>{Z.value=e[0]},q=e=>{Z.value=e},D=()=>{Z.value&&setTimeout(()=>{A.value={fileName:Z.value.name.replace(/\.[^/.]+$/,"")+"."+I.value,url:"#"}},1500)},J=()=>{if(!A.value)return;const e=document.createElement("a");e.href=A.value.url,e.download=A.value.fileName,e.click()},H=p(null),K=p(""),L=p(null),O=e=>{H.value=e[0]},Q=e=>{H.value=e},W=()=>{H.value&&K.value&&setTimeout(()=>{L.value={fileName:H.value.name.replace(/\.[^/.]+$/,"")+"-decrypted"+H.value.name.match(/\.[^/.]+$/)[0],url:"#"}},1500)},X=()=>{if(!L.value)return;const e=document.createElement("a");e.href=L.value.url,e.download=L.value.fileName,e.click()},Y=p("split"),ee=p([]),le=p("100MB"),te=p(null),ae=e=>{ee.value=e},oe=e=>{ee.value=e},se=()=>{0!==ee.length&&setTimeout(()=>{let e="";e="split"===Y.value?`文件已成功分卷为 ${le.value} 大小的分卷`:`${ee.value.length} 个分卷已成功合并`,te.value={message:e,url:"#"}},1500)},ue=()=>{if(!te.value)return;const e=document.createElement("a");e.href=te.value.url,e.download="split"===Y.value?"split-volumes.zip":"merged-archive.zip",e.click()},re=p([]),ne=p(null),de=e=>{re.value=e},ie=e=>{re.value=e},ce=()=>{0!==re.value.length&&setTimeout(()=>{ne.value={message:`已完成 ${re.value.length} 个压缩包的检测和修复`,details:{success:Math.floor(.7*re.value.length),failed:Math.floor(.1*re.value.length),intact:Math.floor(.2*re.value.length)},downloadUrl:"#"}},2e3)},me=()=>{if(!ne.value?.downloadUrl)return;const e=document.createElement("a");e.href=ne.value.downloadUrl,e.download="repair-result.zip",e.click()};return(p,g)=>(t(),e(v,{title:"压缩包高级处理",description:"支持ZIP/RAR/7Z格式互转、加密压缩包解密、分卷/合并、破损修复"},{default:l(()=>[a("div",f,[a("div",h,[g[7]||(g[7]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包格式转换",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:P,onUploadComplete:q}),Z.value?(t(),s("div",x,[a("div",null,[g[5]||(g[5]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"目标格式",-1)),u(a("select",{"onUpdate:modelValue":g[0]||(g[0]=e=>I.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[4]||(g[4]=[a("option",{value:"zip"},"ZIP",-1),a("option",{value:"rar"},"RAR",-1),a("option",{value:"7z"},"7Z",-1)])],512),[[r,I.value]])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:D}," 开始转换 ")])):n("",!0),A.value?(t(),s("div",y,[g[6]||(g[6]=a("h4",{class:"font-medium text-green-800"},"转换成功",-1)),a("p",w,"文件已转换为 "+d(I.value)+" 格式",1),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:J}," 下载转换结果 ")])):n("",!0)]),a("div",k,[g[11]||(g[11]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"加密压缩包解密",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!1,onFilesSelected:O,onUploadComplete:Q}),H.value?(t(),s("div",z,[a("div",null,[g[8]||(g[8]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"解密密码",-1)),u(a("input",{type:"password","onUpdate:modelValue":g[1]||(g[1]=e=>K.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入压缩包密码"},null,512),[[i,K.value]])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:W}," 开始解密 ")])):n("",!0),L.value?(t(),s("div",C,[g[9]||(g[9]=a("h4",{class:"font-medium text-green-800"},"解密成功",-1)),g[10]||(g[10]=a("p",{class:"mt-2"},"压缩包已成功解密",-1)),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:X}," 下载解密结果 ")])):n("",!0)]),a("div",U,[g[17]||(g[17]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包分卷/合并",-1)),a("div",B,[a("div",null,[g[13]||(g[13]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"操作类型",-1)),u(a("select",{"onUpdate:modelValue":g[2]||(g[2]=e=>Y.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[12]||(g[12]=[a("option",{value:"split"},"分卷压缩",-1),a("option",{value:"merge"},"合并分卷",-1)])],512),[[r,Y.value]])]),a("div",null,[a("label",M,d("split"===Y.value?"原始文件":"分卷文件"),1),o(b,{accept:"split"===Y.value?["*"]:[".zip",".rar",".7z"],multiple:"merge"===Y.value,onFilesSelected:ae,onUploadComplete:oe},null,8,["accept","multiple"])]),"split"===Y.value?(t(),s("div",_,[g[15]||(g[15]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分卷大小",-1)),u(a("select",{"onUpdate:modelValue":g[3]||(g[3]=e=>le.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[14]||(g[14]=[a("option",{value:"100MB"},"100MB",-1),a("option",{value:"500MB"},"500MB",-1),a("option",{value:"1GB"},"1GB",-1),a("option",{value:"2GB"},"2GB",-1)])],512),[[r,le.value]])])):n("",!0),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:se},d("split"===Y.value?"开始分卷":"开始合并"),1)]),te.value?(t(),s("div",j,[g[16]||(g[16]=a("h4",{class:"font-medium text-green-800"},"操作成功",-1)),a("p",$,d(te.value.message),1),a("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:ue}," 下载结果 ")])):n("",!0)]),a("div",F,[g[20]||(g[20]=a("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"压缩包修复",-1)),g[21]||(g[21]=a("p",{class:"text-sm text-gray-600 mb-4"},"批量检测破损压缩包并尝试修复",-1)),o(b,{accept:[".zip",".rar",".7z"],multiple:!0,onFilesSelected:de,onUploadComplete:ie}),re.value.length>0?(t(),s("div",G,[a("div",null,[a("h4",S,"已选择 "+d(re.value.length)+" 个压缩包",1),a("div",T,[(t(!0),s(c,null,m(re.value,(e,l)=>(t(),s("div",{key:l,class:"text-sm text-gray-600"},d(e.name),1))),128))])]),a("button",{class:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:ce}," 开始检测和修复 ")])):n("",!0),ne.value?(t(),s("div",E,[g[19]||(g[19]=a("h4",{class:"font-medium text-green-800"},"修复完成",-1)),a("p",N,d(ne.value.message),1),ne.value.details?(t(),s("div",R,[g[18]||(g[18]=a("h5",{class:"font-medium text-gray-900 mt-3"},"修复详情",-1)),a("div",V,[a("p",null,"成功修复: "+d(ne.value.details.success)+" 个",1),a("p",null,"无法修复: "+d(ne.value.details.failed)+" 个",1),a("p",null,"完好无损: "+d(ne.value.details.intact)+" 个",1)])])):n("",!0),ne.value.downloadUrl?(t(),s("button",{key:1,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:me}," 下载修复结果 ")):n("",!0)])):n("",!0)])])]),_:1}))}},[["__scopeId","data-v-c248a2bd"]]);export{Z as default};
