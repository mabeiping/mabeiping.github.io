import{_ as F}from"./D0U6RbFw.js";import{e as M,u as _,h as P,w as O,o as m,a as e,c as b,i as g,j as a,f as l,t as i,k as x,l as y,m as w}from"./DCjyjKAr.js";import"./DkZTtWde.js";import"./D9bAZPev.js";const U={class:"space-y-6"},D={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors"},E={key:0,class:"space-y-4"},I={class:"p-4 bg-gray-50 rounded-lg"},A={class:"font-medium text-text-primary"},R={class:"text-sm text-text-secondary"},W={class:"grid grid-cols-2 gap-4"},Z=["disabled"],j={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},L={class:"space-y-1 text-sm text-green-700"},$={__name:"ebook-converter",setup(S){const v=a(null),n=a(null),d=a("epub"),c=a("medium"),u=a(!1),s=a(null),k=()=>{v.value?.click()},h=o=>{const t=o.target.files[0];t&&(["application/epub+zip","application/x-mobipocket-ebook","application/vnd.amazon.ebook","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)?n.value=t:alert("请选择有效的电子书文件（EPUB、MOBI、AZW3、PDF、DOCX）"))},B=()=>{n.value=null,s.value=null},f=o=>{if(o===0)return"0 Bytes";const t=1024,p=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(t));return Math.round(o/Math.pow(t,r)*100)/100+" "+p[r]},C=async()=>{if(!n.value){alert("请先选择电子书文件");return}u.value=!0;try{await new Promise(t=>setTimeout(t,2e3));const o={epub:"EPUB",mobi:"MOBI",azw3:"AZW3",pdf:"PDF",docx:"DOCX"};s.value={originalFormat:n.value.name.split(".").pop(),outputFormat:o[d.value],size:n.value.size}}catch(o){console.error("Conversion error:",o),alert("转换失败，请重试")}finally{u.value=!1}},z=()=>{if(!s.value||!n.value)return;const o=document.createElement("a");o.href=URL.createObjectURL(n.value);const t={epub:".epub",mobi:".mobi",azw3:".azw3",pdf:".pdf",docx:".docx"};o.download=`converted${t[d.value]}`,o.click(),URL.revokeObjectURL(o.href)};return M(),_({title:"电子书转换 - 免费在线电子书格式转换工具 - 办公工具箱",meta:[{name:"description",content:"免费在线电子书格式转换工具，支持EPUB、MOBI、AZW3、PDF等格式互转。保持原有格式，支持批量转换，无需安装，即传即用，保护文件隐私。"},{name:"keywords",content:"电子书转换, EPUB转换, MOBI转换, AZW3转换, 电子书格式转换, 免费电子书工具, 在线电子书转换, 电子书格式互转, 电子书转换工具, 电子书格式转换器"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"电子书转换 - 免费在线电子书格式转换工具 - 办公工具箱"},{property:"og:description",content:"免费在线电子书格式转换工具，支持EPUB、MOBI、AZW3、PDF等格式互转"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/format/ebook-converter"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/format/ebook-converter"}]}),(o,t)=>{const p=F;return m(),P(p,{title:"电子书转换",description:"电子书格式转换"},{default:O(()=>[e("div",U,[e("div",D,[e("input",{ref_key:"fileInput",ref:v,type:"file",accept:".epub,.mobi,.azw3,.pdf,.docx",class:"hidden",onChange:h},null,544),e("div",{class:"space-y-4"},[t[2]||(t[2]=e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 19 7.5 19s-2.084-.523-3.75-1.253v-13C15.168 5.477 13.582 5 11.75 5 9.168 5.477 8.253 6.253zm-3 9h2a9 9 0 1118 0 9 9 0 01-18 0z"})],-1)),e("button",{onClick:k,class:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"}," 选择电子书文件 "),t[3]||(t[3]=e("p",{class:"text-sm text-text-secondary"},"支持 EPUB、MOBI、AZW3、PDF、DOCX",-1))])]),l(n)?(m(),b("div",E,[e("div",{class:"flex items-center justify-between"},[t[4]||(t[4]=e("h3",{class:"text-lg font-bold text-text-primary"},"已选择文件",-1)),e("button",{onClick:B,class:"text-sm text-red-500 hover:text-red-600 transition-colors"}," 清除 ")]),e("div",I,[e("p",A,i(l(n).name),1),e("p",R,i(f(l(n).size)),1)]),e("div",W,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"输出格式",-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>y(d)?d.value=r:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...t[5]||(t[5]=[e("option",{value:"epub"},"EPUB",-1),e("option",{value:"mobi"},"MOBI",-1),e("option",{value:"azw3"},"AZW3",-1),e("option",{value:"pdf"},"PDF",-1),e("option",{value:"docx"},"DOCX",-1)])],512),[[w,l(d)]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-text-primary mb-2"},"质量",-1)),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>y(c)?c.value=r:null),class:"w-full px-3 py-2 border rounded-lg focus:outline-none"},[...t[7]||(t[7]=[e("option",{value:"high"},"高质量",-1),e("option",{value:"medium"},"中等质量",-1),e("option",{value:"low"},"低质量（文件更小）",-1)])],512),[[w,l(c)]])])]),e("button",{onClick:C,disabled:l(u),class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},i(l(u)?"转换中...":"开始转换"),9,Z)])):g("",!0),l(s)?(m(),b("div",j,[t[9]||(t[9]=e("h3",{class:"font-bold text-green-800 mb-2"},"转换完成！",-1)),e("div",L,[e("p",null,"原始格式："+i(l(s).originalFormat),1),e("p",null,"输出格式："+i(l(s).outputFormat),1),e("p",null,"文件大小："+i(f(l(s).size)),1)]),e("button",{onClick:z,class:"w-full mt-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载转换后的文件 ")])):g("",!0)])]),_:1})}}};export{$ as default};
