import{_ as e}from"./BGYMMrNt.js";import{$ as t,w as l,m as a,p as s,z as o,K as r,a8 as i,n,D as c,x as u,k as d}from"./DwDdtX2U.js";import{u as p}from"./Dzf--W9j.js";import{u as m}from"./DFiMgQNB.js";import"./DiBmY6iY.js";import"./DwL8tNwU.js";const x={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},g={class:"lg:col-span-2 space-y-6"},v={class:"space-y-2"},y={class:"space-y-4"},b={class:"grid grid-cols-1 md:grid-cols-1 gap-4"},f={class:"flex items-center space-x-2"},h={key:0,class:"space-y-2"},w={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},k={class:"flex items-center space-x-1"},U={class:"flex items-center space-x-1"},C={class:"flex items-center space-x-1"},j={class:"flex items-center space-x-1"},R=["disabled"],V={key:0,class:"space-y-4"},I={class:"p-4 bg-green-50 border border-green-200 rounded-lg"},_={class:"space-y-1 text-sm text-green-700"},A={class:"space-y-2"},T={class:"p-4 border rounded-lg bg-gray-50 max-h-[300px] overflow-y-auto"},$={class:"text-sm text-gray-700 whitespace-pre-wrap"},D={__name:"index",setup(D){const L=d(""),E=d(""),O=d(""),z=d(!1),G=d(!1),M=d(null),S=d({global:!0,caseInsensitive:!1,multiline:!1,dotAll:!1}),B=async()=>{if(L.value&&E.value){G.value=!0;try{await new Promise(e=>setTimeout(e,300));let t=L.value,l=0,a="";if(z.value)try{const e=(()=>{let e="";return S.value.global&&(e+="g"),S.value.caseInsensitive&&(e+="i"),S.value.multiline&&(e+="m"),S.value.dotAll&&(e+="s"),e})(),s=new RegExp(E.value,e);if(t=L.value.replace(s,O.value),e.includes("g")){const e=L.value.match(s);l=e?e.length:0}else l=L.value.includes(E.value)?1:0;a=`正则表达式 (${e})`}catch(e){return void alert("正则表达式格式错误，请检查")}else{const e=new RegExp(E.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");t=L.value.replace(e,O.value);const s=L.value.match(e);l=s?s.length:0,a="普通文本替换"}M.value={outputText:t,replaceCount:l,methodUsed:a}}catch(e){alert("处理失败，请重试")}finally{G.value=!1}}else alert("请输入原始文本和要查找的文本")},K=()=>{M.value&&navigator.clipboard.writeText(M.value.outputText).then(()=>{alert("已复制到剪贴板")}).catch(()=>{alert("复制失败，请手动复制")})},N=()=>{if(M.value){const e=new Blob([M.value.outputText],{type:"text/plain"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download=`replaced_text_${(new Date).toISOString().slice(0,10)}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)}};return m(),p({title:"文本批量替换 - 支持正则表达式的文本替换工具 - 办公工具箱",meta:[{name:"description",content:"免费在线文本批量替换工具，支持正则表达式，可快速替换文档中的文本内容。操作简单高效，支持多种替换模式。"},{name:"keywords",content:"文本替换,批量替换,正则表达式,文本处理,文本工具,办公工具"},{name:"author",content:"办公工具箱"},{property:"og:title",content:"文本批量替换 - 支持正则表达式的文本替换工具 - 办公工具箱"},{property:"og:description",content:"免费在线文本批量替换工具，支持正则表达式，可快速替换文档中的文本内容。操作简单高效，支持多种替换模式。"},{property:"og:type",content:"website"},{property:"og:url",content:"https://www.worktoolkit.top/tools/text/replace"},{property:"og:locale",content:"zh_CN"}],link:[{rel:"canonical",href:"https://www.worktoolkit.top/tools/text/replace"}]}),(d,p)=>{const m=e;return a(),t(m,{title:"文本批量替换",description:"批量替换文档中的文本内容，支持正则表达式"},{default:l(()=>[s("div",x,[s("div",g,[s("div",v,[p[8]||(p[8]=s("label",{class:"block text-sm font-medium text-text-primary"},"输入原始文本",-1)),o(s("textarea",{"onUpdate:modelValue":p[0]||(p[0]=e=>L.value=e),placeholder:"请输入需要进行替换操作的文本内容",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 min-h-[200px]",rows:"8"},null,512),[[r,L.value]])]),s("div",y,[p[17]||(p[17]=s("h3",{class:"text-lg font-bold text-text-primary"},"替换选项",-1)),s("div",b,[s("div",null,[p[9]||(p[9]=s("label",{class:"block text-sm font-medium text-text-primary mb-2"},"查找文本",-1)),o(s("input",{"onUpdate:modelValue":p[1]||(p[1]=e=>E.value=e),type:"text",placeholder:"输入要查找的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[r,E.value]])]),s("div",null,[p[10]||(p[10]=s("label",{class:"block text-sm font-medium text-text-primary mb-2"},"替换为",-1)),o(s("input",{"onUpdate:modelValue":p[2]||(p[2]=e=>O.value=e),type:"text",placeholder:"输入替换后的文本",class:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[r,O.value]])]),s("div",f,[o(s("input",{"onUpdate:modelValue":p[3]||(p[3]=e=>z.value=e),type:"checkbox",id:"useRegex",class:"rounded text-primary focus:ring-primary"},null,512),[[i,z.value]]),p[11]||(p[11]=s("label",{for:"useRegex",class:"text-sm font-medium text-text-primary"},"使用正则表达式",-1))]),z.value?(a(),n("div",h,[p[16]||(p[16]=s("label",{class:"block text-sm font-medium text-text-primary mb-2"},"正则表达式标志",-1)),s("div",w,[s("div",k,[o(s("input",{"onUpdate:modelValue":p[4]||(p[4]=e=>S.value.global=e),type:"checkbox",id:"flagGlobal",class:"rounded text-primary focus:ring-primary"},null,512),[[i,S.value.global]]),p[12]||(p[12]=s("label",{for:"flagGlobal",class:"text-xs text-text-primary"},"g (全局)",-1))]),s("div",U,[o(s("input",{"onUpdate:modelValue":p[5]||(p[5]=e=>S.value.caseInsensitive=e),type:"checkbox",id:"flagCaseInsensitive",class:"rounded text-primary focus:ring-primary"},null,512),[[i,S.value.caseInsensitive]]),p[13]||(p[13]=s("label",{for:"flagCaseInsensitive",class:"text-xs text-text-primary"},"i (忽略大小写)",-1))]),s("div",C,[o(s("input",{"onUpdate:modelValue":p[6]||(p[6]=e=>S.value.multiline=e),type:"checkbox",id:"flagMultiline",class:"rounded text-primary focus:ring-primary"},null,512),[[i,S.value.multiline]]),p[14]||(p[14]=s("label",{for:"flagMultiline",class:"text-xs text-text-primary"},"m (多行)",-1))]),s("div",j,[o(s("input",{"onUpdate:modelValue":p[7]||(p[7]=e=>S.value.dotAll=e),type:"checkbox",id:"flagDotAll",class:"rounded text-primary focus:ring-primary"},null,512),[[i,S.value.dotAll]]),p[15]||(p[15]=s("label",{for:"flagDotAll",class:"text-xs text-text-primary"},"s (点匹配所有)",-1))])])])):c("",!0)]),s("button",{onClick:B,disabled:G.value||!L.value||!E.value,class:"w-full py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},u(G.value?"处理中...":"执行替换"),9,R)]),M.value?(a(),n("div",V,[s("div",I,[p[18]||(p[18]=s("h3",{class:"font-bold text-green-800 mb-2"},"替换完成！",-1)),s("div",_,[s("p",null,"替换次数："+u(M.value.replaceCount)+" 次",1),s("p",null,"使用方式："+u(M.value.methodUsed),1)])]),s("div",A,[p[19]||(p[19]=s("h3",{class:"text-lg font-bold text-text-primary"},"替换结果",-1)),s("div",T,[s("pre",$,u(M.value.outputText),1)]),s("div",{class:"grid grid-cols-2 gap-2"},[s("button",{onClick:K,class:"py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 复制结果 "),s("button",{onClick:N,class:"py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 下载结果 ")])])])):c("",!0)])])]),_:1})}}};export{D as default};
