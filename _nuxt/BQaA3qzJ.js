import{_ as x,r,c as n,a as s,m as u,y as f,p as C,g as G,t as b,F as K,l as q,n as _,z as M,v as H,o as i}from"./CXV6dDrr.js";const J={class:"pdf-merge"},Q={class:"container"},R={class:"upload-section"},W={key:0,class:"files-section"},X={class:"section-header"},Y={class:"section-title"},Z={class:"files-list"},ee=["onDragstart","onDragover","onDrop"],te={class:"file-info"},se={class:"file-name"},oe={class:"file-size"},le={class:"file-actions"},ae=["disabled","onClick"],ne=["disabled","onClick"],ie=["onClick"],ce={key:1,class:"options-section"},re={class:"options-card"},de={class:"form-group"},ue={class:"checkbox-label"},ve={class:"form-group"},pe={class:"checkbox-label"},ge={key:0,class:"form-group"},fe={key:2,class:"action-section"},he=["disabled"],me={key:0,class:"spinner"},be={key:1},_e={__name:"merge",setup(ke){const k=r(null),o=r([]),v=r(!1),p=r(!1),h=r(!1),c=r(null),D=r(!0),m=r(!1),y=r("bottom-right"),w=()=>{k.value.click()},B=t=>{v.value=!0},P=t=>{v.value=!1},I=t=>{v.value=!1;const e=Array.from(t.dataTransfer.files);F(e)},z=t=>{const e=Array.from(t.target.files);F(e)},F=t=>{const e=t.filter(l=>l.type==="application/pdf");o.value=[...o.value,...e]},N=t=>{if(t===0)return"0 B";const e=1024,l=["B","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,a)*100)/100+" "+l[a]},S=t=>{o.value.splice(t,1)},V=()=>{o.value=[],h.value=!1},$=t=>{if(t>0){const e=o.value[t];o.value[t]=o.value[t-1],o.value[t-1]=e}},A=t=>{if(t<o.value.length-1){const e=o.value[t];o.value[t]=o.value[t+1],o.value[t+1]=e}},T=(t,e)=>{c.value=t,e.dataTransfer.effectAllowed="move"},U=t=>{if(c.value!==null&&c.value!==t){const e=o.value[c.value];o.value.splice(c.value,1),o.value.splice(t,0,e),c.value=t}},E=t=>{c.value=null},L=()=>{c.value=null},g=(t,e="success")=>{const l=document.createElement("div");l.className=`toast toast-${e}`,l.textContent=t,document.body.appendChild(l),setTimeout(()=>{l.remove()},3e3)},O=async()=>{if(o.value.length<2){g("è¯·è‡³å°‘ä¸Šä¼  2 ä¸ª PDF æ–‡ä»¶","error");return}p.value=!0;try{await new Promise(t=>setTimeout(t,2e3)),h.value=!0,g("PDF åˆå¹¶å®Œæˆï¼")}catch{g("åˆå¹¶å¤±è´¥ï¼Œè¯·é‡è¯•","error")}finally{p.value=!1}},j=()=>{g("ä¸‹è½½åŠŸèƒ½æ¼”ç¤º")};return(t,e)=>(i(),n("div",J,[s("div",Q,[e[10]||(e[10]=s("div",{class:"header"},[s("h1",{class:"title"},"PDF åˆå¹¶å·¥å…·"),s("p",{class:"subtitle"},"å°†å¤šä¸ª PDF æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ”¯æŒæ‹–æ‹½æ’åº")],-1)),s("div",R,[s("div",{class:C(["upload-area",{"drag-over":v.value}]),onDragover:f(B,["prevent"]),onDragleave:f(P,["prevent"]),onDrop:f(I,["prevent"]),onClick:w},[s("input",{type:"file",ref_key:"fileInput",ref:k,accept:".pdf",multiple:"",onChange:z,style:{display:"none"}},null,544),e[3]||(e[3]=G('<div class="upload-content" data-v-73b674d2><svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-73b674d2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-73b674d2></path></svg><div class="upload-text" data-v-73b674d2><p class="upload-title" data-v-73b674d2>ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å¤šä¸ª PDF æ–‡ä»¶</p><p class="upload-hint" data-v-73b674d2>æ”¯æŒæœ€å¤§ 100MB çš„ PDF æ–‡ä»¶</p></div></div>',1))],34)]),o.value.length>0?(i(),n("div",W,[s("div",X,[s("h2",Y,"å·²ä¸Šä¼ æ–‡ä»¶ ("+b(o.value.length)+")",1),s("button",{class:"btn-clear",onClick:V},"æ¸…ç©ºå…¨éƒ¨")]),s("div",Z,[(i(!0),n(K,null,q(o.value,(l,a)=>(i(),n("div",{key:a,class:C(["file-item",{dragging:c.value===a}]),draggable:"true",onDragstart:d=>T(a,d),onDragover:f(d=>U(a),["prevent"]),onDrop:d=>E(),onDragend:L},[e[4]||(e[4]=s("div",{class:"file-icon"},"ğŸ“„",-1)),s("div",te,[s("h3",se,b(l.name),1),s("p",oe,b(N(l.size)),1)]),s("div",le,[s("button",{class:"action-btn",disabled:a===0,onClick:d=>$(a),title:"ä¸Šç§»"}," â†‘ ",8,ae),s("button",{class:"action-btn",disabled:a===o.value.length-1,onClick:d=>A(a),title:"ä¸‹ç§»"}," â†“ ",8,ne),s("button",{class:"action-btn remove",onClick:d=>S(a),title:"åˆ é™¤"}," âœ• ",8,ie)])],42,ee))),128))])])):u("",!0),o.value.length>0?(i(),n("div",ce,[e[9]||(e[9]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"åˆå¹¶é€‰é¡¹")],-1)),s("div",re,[s("div",de,[s("label",ue,[_(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=l=>D.value=l),class:"checkbox-input"},null,512),[[M,D.value]]),e[5]||(e[5]=s("span",{class:"checkbox-text"},"ä¿ç•™ä¹¦ç­¾",-1))])]),s("div",ve,[s("label",pe,[_(s("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=l=>m.value=l),class:"checkbox-input"},null,512),[[M,m.value]]),e[6]||(e[6]=s("span",{class:"checkbox-text"},"æ·»åŠ é¡µç ",-1))])]),m.value?(i(),n("div",ge,[e[8]||(e[8]=s("label",{class:"form-label"},"é¡µç ä½ç½®",-1)),_(s("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>y.value=l),class:"form-select"},[...e[7]||(e[7]=[s("option",{value:"bottom-right"},"å³ä¸‹è§’",-1),s("option",{value:"bottom-center"},"åº•éƒ¨å±…ä¸­",-1),s("option",{value:"bottom-left"},"å·¦ä¸‹è§’",-1),s("option",{value:"top-right"},"å³ä¸Šè§’",-1)])],512),[[H,y.value]])])):u("",!0)])])):u("",!0),o.value.length>0?(i(),n("div",fe,[s("button",{class:"btn btn-primary",disabled:p.value,onClick:O},[p.value?(i(),n("span",me)):(i(),n("span",be,"å¼€å§‹åˆå¹¶"))],8,he),h.value?(i(),n("button",{key:0,class:"btn btn-success",onClick:j}," ä¸‹è½½åˆå¹¶æ–‡ä»¶ ")):u("",!0)])):u("",!0)])]))}},ye=x(_e,[["__scopeId","data-v-73b674d2"]]);export{ye as default};
