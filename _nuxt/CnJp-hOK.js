import{_ as $,r as i,D as E,c as o,a as t,m,n as r,B as j,A as y,t as D,F,l as W,o as d}from"./CXV6dDrr.js";const N={class:"workday-calculator-page"},P={class:"tool-container"},R={class:"calculator-section"},T={class:"calc-mode"},A={class:"mode-options"},L={class:"radio-option"},O={class:"radio-option"},Y={key:0,class:"date-range-section"},q={class:"date-inputs"},z={class:"date-input-group"},G={class:"date-input-group"},J={key:0,class:"result-display"},K={class:"result-item"},Q={class:"result-value highlight"},X={class:"result-item"},Z={class:"result-value"},tt={class:"result-item"},et={class:"result-value"},st={key:0,class:"result-item"},lt={class:"result-value"},at={key:1,class:"project-section"},nt={class:"project-inputs"},ot={class:"date-input-group"},dt={class:"date-input-group"},ut={key:0,class:"result-display"},it={class:"result-item"},rt={class:"result-value highlight"},pt={class:"holiday-section"},vt={class:"holiday-list"},ct=["onUpdate:modelValue"],mt=["onUpdate:modelValue"],yt=["onClick"],_t={key:0,class:"empty-holidays"},gt={__name:"workday-calculator",setup(kt){const a=i("count"),_=i(""),g=i(""),u=i(null),k=i(""),p=i(0),w=i(""),v=i([]),H=[{date:"2026-01-01",name:"元旦"},{date:"2026-01-28",name:"春节"},{date:"2026-01-29",name:"春节"},{date:"2026-01-30",name:"春节"},{date:"2026-01-31",name:"春节"},{date:"2026-02-01",name:"春节"},{date:"2026-02-02",name:"春节"},{date:"2026-04-05",name:"清明节"},{date:"2026-05-01",name:"劳动节"},{date:"2026-05-02",name:"劳动节"},{date:"2026-05-03",name:"劳动节"},{date:"2026-06-10",name:"端午节"},{date:"2026-09-15",name:"中秋节"},{date:"2026-09-16",name:"中秋节"},{date:"2026-09-17",name:"中秋节"},{date:"2026-10-01",name:"国庆节"},{date:"2026-10-02",name:"国庆节"},{date:"2026-10-03",name:"国庆节"},{date:"2026-10-04",name:"国庆节"},{date:"2026-10-05",name:"国庆节"},{date:"2026-10-06",name:"国庆节"},{date:"2026-10-07",name:"国庆节"}],U=l=>{const e=l.getDay();return e===0||e===6},S=l=>{const e=l.toISOString().split("T")[0];return v.value.some(s=>s.date===e)},f=()=>{if(!_.value||!g.value){u.value=null;return}const l=new Date(_.value),e=new Date(g.value);if(l>e){alert("开始日期不能晚于结束日期");return}let s=0,c=0,n=0;const V=Math.ceil((e-l)/(1e3*60*60*24))+1,h=new Date(l);for(;h<=e;)S(h)?n++:U(h)?c++:s++,h.setDate(h.getDate()+1);u.value={workdays:s,totalDays:V,weekends:c,holidays:n}},C=()=>{if(!k.value||!p.value||p.value<=0){w.value="";return}const l=new Date(k.value);let e=0;const s=new Date(l);for(;e<p.value;)!U(s)&&!S(s)&&e++,e<p.value&&s.setDate(s.getDate()+1);const c=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),V=String(s.getDate()).padStart(2,"0");w.value=`${c}-${n}-${V}`},x=()=>{v.value.push({date:"",name:""})},M=l=>{v.value.splice(l,1),b()},b=()=>{a.value==="count"?f():C()},B=()=>{v.value=[...H],b()},I=()=>{v.value=[],b()};return E([a,_,g,k,p],()=>{a.value==="count"?f():C()}),(l,e)=>(d(),o("div",N,[e[22]||(e[22]=t("h1",{class:"page-title"},"工作日/节假日计算器",-1)),t("div",P,[t("div",R,[t("div",T,[e[8]||(e[8]=t("h3",null,"计算模式",-1)),t("div",A,[t("label",L,[r(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),value:"count"},null,512),[[j,a.value]]),e[6]||(e[6]=t("span",null,"计算工作日天数",-1))]),t("label",O,[r(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s),value:"project"},null,512),[[j,a.value]]),e[7]||(e[7]=t("span",null,"推算项目截止日期",-1))])])]),a.value==="count"?(d(),o("div",Y,[e[15]||(e[15]=t("h3",null,"日期范围",-1)),t("div",q,[t("div",z,[e[9]||(e[9]=t("label",null,"开始日期：",-1)),r(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>_.value=s),type:"date",class:"date-input",onChange:f},null,544),[[y,_.value]])]),t("div",G,[e[10]||(e[10]=t("label",null,"结束日期：",-1)),r(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),type:"date",class:"date-input",onChange:f},null,544),[[y,g.value]])])]),u.value?(d(),o("div",J,[t("div",K,[e[11]||(e[11]=t("span",{class:"result-label"},"工作日天数：",-1)),t("span",Q,D(u.value.workdays)+" 天",1)]),t("div",X,[e[12]||(e[12]=t("span",{class:"result-label"},"总天数：",-1)),t("span",Z,D(u.value.totalDays)+" 天",1)]),t("div",tt,[e[13]||(e[13]=t("span",{class:"result-label"},"周末天数：",-1)),t("span",et,D(u.value.weekends)+" 天",1)]),u.value.holidays>0?(d(),o("div",st,[e[14]||(e[14]=t("span",{class:"result-label"},"节假日天数：",-1)),t("span",lt,D(u.value.holidays)+" 天",1)])):m("",!0)])):m("",!0)])):m("",!0),a.value==="project"?(d(),o("div",at,[e[19]||(e[19]=t("h3",null,"项目信息",-1)),t("div",nt,[t("div",ot,[e[16]||(e[16]=t("label",null,"开始日期：",-1)),r(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>k.value=s),type:"date",class:"date-input",onChange:C},null,544),[[y,k.value]])]),t("div",dt,[e[17]||(e[17]=t("label",null,"工作日数：",-1)),r(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>p.value=s),type:"number",class:"number-input",min:"1",onInput:C},null,544),[[y,p.value,void 0,{number:!0}]])])]),w.value?(d(),o("div",ut,[t("div",it,[e[18]||(e[18]=t("span",{class:"result-label"},"预计截止日期：",-1)),t("span",rt,D(w.value),1)])])):m("",!0)])):m("",!0)]),t("div",pt,[t("div",{class:"section-header"},[e[20]||(e[20]=t("h3",null,"节假日设置",-1)),t("button",{class:"btn-secondary",onClick:x},"添加节假日")]),t("div",vt,[(d(!0),o(F,null,W(v.value,(s,c)=>(d(),o("div",{key:c,class:"holiday-item"},[r(t("input",{"onUpdate:modelValue":n=>s.date=n,type:"date",class:"date-input-small",onChange:b},null,40,ct),[[y,s.date]]),r(t("input",{"onUpdate:modelValue":n=>s.name=n,type:"text",class:"text-input-small",placeholder:"节假日名称",onInput:b},null,40,mt),[[y,s.name]]),t("button",{class:"remove-btn",onClick:n=>M(c)},"删除",8,yt)]))),128)),v.value.length===0?(d(),o("div",_t,' 暂无节假日，点击"添加节假日"添加 ')):m("",!0)]),t("div",{class:"preset-holidays"},[e[21]||(e[21]=t("h4",null,"预设节假日（2026年）",-1)),t("div",{class:"preset-buttons"},[t("button",{class:"preset-btn",onClick:B},"加载2026年法定节假日"),t("button",{class:"preset-btn",onClick:I},"清空所有")])])])]),e[23]||(e[23]=t("div",{class:"tool-info"},[t("h2",null,"功能说明"),t("ul",null,[t("li",null,"工作日计算：输入起止日期，自动计算工作日天数"),t("li",null,"自定义节假日：手动标记补班日/放假日"),t("li",null,"工期推算：输入总工作日数，自动推算项目截止日期"),t("li",null,"自动排除周末：自动排除周六和周日"),t("li",null,"支持预设节假日：快速加载法定节假日")])],-1))]))}},ht=$(gt,[["__scopeId","data-v-aeedf2c7"]]);export{ht as default};
