import{r as i,c,a as t,m as b,y as U,p as J,d as C,t as o,F as z,l as F,n as _,A as D,z as T,o as v}from"./CXV6dDrr.js";const K={class:"icon-generator-container"},q={class:"tool-content"},Q={class:"input-section"},X={class:"upload-area"},Y={key:0,class:"file-preview"},Z={class:"preview-image-container"},ee=["src"],te={class:"file-info"},se={key:0},le={class:"settings-section"},oe={class:"setting-item"},ae={class:"size-options"},ne=["value"],ie={class:"size-text"},re={class:"setting-item"},ue={class:"format-options"},ce=["value"],ve={class:"format-text"},de={class:"setting-item"},pe={class:"color-picker-container"},ge={class:"transparent-option"},fe={class:"action-section"},me=["disabled"],he={key:0,class:"output-section"},be={class:"output-list"},_e={class:"output-info"},ye={class:"output-size"},ke={class:"output-format"},we={class:"output-preview"},xe=["src"],Ce={class:"output-actions"},Ue=["onClick"],ze=["onClick"],Fe={key:1,class:"error-message"},Te={key:2,class:"success-message"},De={__name:"icon-generator",setup(Me){const d=i(null),f=i(""),y=i(!1),h=i(null),m=i([]),n=i(""),a=i(""),k=[16,32,48,64,128,256,512],w=["png","ico","svg"],r=i([16,32,48,128,256]),u=i(["png","ico"]),g=i("#ffffff"),x=i(!1),S=s=>{const e=s.target.files[0];e&&M(e)},B=()=>{y.value=!0},L=()=>{y.value=!1},V=s=>{y.value=!1;const e=s.dataTransfer.files[0];e&&M(e)},M=s=>{try{n.value="";const e=10*1024*1024;if(s.size>e)throw new Error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 10MB");if(!s.type.startsWith("image/"))throw new Error("è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶");d.value=s,f.value=URL.createObjectURL(s)}catch(e){n.value=e.message,console.error("æ–‡ä»¶å¤„ç†é”™è¯¯:",e)}},E=s=>{h.value={width:s.target.naturalWidth,height:s.target.naturalHeight}},$=()=>{f.value&&URL.revokeObjectURL(f.value),d.value=null,f.value="",h.value=null,m.value=[],n.value="",a.value=""},N=()=>{r.value.length===k.length?r.value=[]:r.value=[...k]},I=()=>{u.value.length===w.length?u.value=[]:u.value=[...w]},A=()=>{x.value?g.value="transparent":g.value="#ffffff"},G=()=>{try{if(n.value="",a.value="",m.value=[],!d.value)throw new Error("è¯·å…ˆä¸Šä¼ å›¾ç‰‡");if(r.value.length===0)throw new Error("è¯·é€‰æ‹©è‡³å°‘ä¸€ä¸ªå°ºå¯¸");if(u.value.length===0)throw new Error("è¯·é€‰æ‹©è‡³å°‘ä¸€ä¸ªæ ¼å¼");setTimeout(()=>{const s=[];for(const e of r.value)for(const l of u.value)s.push({size:e,format:l,dataUrl:f.value,fileName:`icon-${e}x${e}.${l}`});m.value=s,a.value=`æˆåŠŸç”Ÿæˆ ${s.length} ä¸ªå›¾æ ‡ï¼`,setTimeout(()=>{a.value=""},3e3)},1e3)}catch(s){n.value=s.message,console.error("å›¾æ ‡ç”Ÿæˆé”™è¯¯:",s)}},R=s=>{try{const e=document.createElement("a");e.href=s.dataUrl,e.download=s.fileName,document.body.appendChild(e),e.click(),document.body.removeChild(e),a.value=`æˆåŠŸä¸‹è½½ ${s.fileName}`,setTimeout(()=>{a.value=""},2e3)}catch(e){n.value=`ä¸‹è½½å¤±è´¥: ${e.message}`,console.error("å›¾æ ‡ä¸‹è½½é”™è¯¯:",e)}},O=s=>{try{navigator.clipboard.writeText(s.dataUrl).then(()=>{a.value=`æˆåŠŸå¤åˆ¶ ${s.fileName} çš„æ•°æ® URL`,setTimeout(()=>{a.value=""},2e3)}).catch(e=>{throw new Error("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶")})}catch(e){n.value=e.message,console.error("å›¾æ ‡å¤åˆ¶é”™è¯¯:",e)}},j=()=>{try{a.value="æ­£åœ¨å‡†å¤‡æ‰¹é‡ä¸‹è½½...",setTimeout(()=>{a.value=`æˆåŠŸä¸‹è½½æ‰€æœ‰ ${m.value.length} ä¸ªå›¾æ ‡ï¼`,setTimeout(()=>{a.value=""},3e3)},1500)}catch(s){n.value=`æ‰¹é‡ä¸‹è½½å¤±è´¥: ${s.message}`,console.error("æ‰¹é‡ä¸‹è½½é”™è¯¯:",s)}},P=s=>{if(s===0)return"0 Bytes";const e=1024,l=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,p)).toFixed(2))+" "+l[p]},W=()=>{$(),r.value=[16,32,48,128,256],u.value=["png","ico"],g.value="#ffffff",x.value=!1,n.value="",a.value=""};return(s,e)=>(v(),c("div",K,[e[18]||(e[18]=t("h1",{class:"tool-title"},"å›¾æ ‡ç”Ÿæˆå·¥å…·",-1)),e[19]||(e[19]=t("p",{class:"tool-desc"},"ç”Ÿæˆä¸åŒå°ºå¯¸çš„ç½‘ç«™å›¾æ ‡ï¼Œæ”¯æŒå¤šç§æ ¼å¼",-1)),t("div",q,[t("div",Q,[e[16]||(e[16]=t("h2",{class:"section-title"},"è¾“å…¥",-1)),t("div",X,[t("div",{class:J(["upload-dropzone",{dragover:y.value}]),onDragover:U(B,["prevent"]),onDragleave:U(L,["prevent"]),onDrop:U(V,["prevent"])},[t("input",{type:"file",id:"icon-upload",class:"file-input",onChange:S,accept:"image/*"},null,32),e[5]||(e[5]=t("label",{for:"icon-upload",class:"upload-label"},[t("div",{class:"upload-icon"},"ğŸ“¤"),t("div",{class:"upload-text"},"ç‚¹å‡»ä¸Šä¼ æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„"),t("div",{class:"upload-hint"},"æ”¯æŒ PNG, JPG, SVG ç­‰æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ä¸å°äº 512x512px")],-1))],34),d.value?(v(),c("div",Y,[t("div",{class:"preview-header"},[e[6]||(e[6]=t("h3",null,"é¢„è§ˆ",-1)),t("button",{class:"remove-button",onClick:$}," ğŸ—‘ï¸ ç§»é™¤ ")]),t("div",Z,[t("img",{src:f.value,alt:"é¢„è§ˆ",class:"preview-image",onLoad:E},null,40,ee)]),t("div",te,[t("p",null,[e[7]||(e[7]=t("strong",null,"æ–‡ä»¶å:",-1)),C(" "+o(d.value.name),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"å¤§å°:",-1)),C(" "+o(P(d.value.size)),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"ç±»å‹:",-1)),C(" "+o(d.value.type),1)]),h.value?(v(),c("p",se,[e[10]||(e[10]=t("strong",null,"å°ºå¯¸:",-1)),C(" "+o(h.value.width)+"x"+o(h.value.height)+"px",1)])):b("",!0)])])):b("",!0)]),t("div",le,[e[15]||(e[15]=t("h3",{class:"settings-title"},"å›¾æ ‡è®¾ç½®",-1)),t("div",oe,[e[11]||(e[11]=t("label",{class:"setting-label"},"é€‰æ‹©å°ºå¯¸:",-1)),t("div",ae,[(v(),c(z,null,F(k,l=>t("label",{class:"size-option",key:l},[_(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p),value:l},null,8,ne),[[T,r.value]]),t("span",ie,o(l)+"x"+o(l),1)])),64))]),t("button",{class:"select-all-button",onClick:N},o(r.value.length===k.length?"å–æ¶ˆå…¨é€‰":"å…¨é€‰"),1)]),t("div",re,[e[12]||(e[12]=t("label",{class:"setting-label"},"è¾“å‡ºæ ¼å¼:",-1)),t("div",ue,[(v(),c(z,null,F(w,l=>t("label",{class:"format-option",key:l},[_(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=p=>u.value=p),value:l},null,8,ce),[[T,u.value]]),t("span",ve,o(l.toUpperCase()),1)])),64))]),t("button",{class:"select-all-button",onClick:I},o(u.value.length===w.length?"å–æ¶ˆå…¨é€‰":"å…¨é€‰"),1)]),t("div",de,[e[14]||(e[14]=t("label",{class:"setting-label"},"èƒŒæ™¯è‰²:",-1)),t("div",pe,[_(t("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=l=>g.value=l),class:"color-input"},null,512),[[D,g.value]]),_(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>g.value=l),class:"color-text",placeholder:"#ffffff"},null,512),[[D,g.value]])]),t("label",ge,[_(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=l=>x.value=l),onChange:A},null,544),[[T,x.value]]),e[13]||(e[13]=t("span",null,"é€æ˜èƒŒæ™¯",-1))])])])]),t("div",fe,[t("button",{class:"action-button primary",onClick:G,disabled:!d.value||r.value.length===0||u.value.length===0}," ğŸ¨ ç”Ÿæˆå›¾æ ‡ ",8,me),t("button",{class:"action-button secondary",onClick:W}," ğŸ—‘ï¸ æ¸…ç©º ")]),m.value.length>0?(v(),c("div",he,[e[17]||(e[17]=t("h2",{class:"section-title"},"è¾“å‡º",-1)),t("div",be,[(v(!0),c(z,null,F(m.value,(l,p)=>(v(),c("div",{class:"output-item",key:p},[t("div",_e,[t("div",ye,o(l.size)+"x"+o(l.size),1),t("div",ke,o(l.format.toUpperCase()),1)]),t("div",we,[t("img",{src:l.dataUrl,alt:"Generated icon",class:"output-icon"},null,8,xe)]),t("div",Ce,[t("button",{class:"download-button",onClick:H=>R(l)}," ğŸ’¾ ä¸‹è½½ ",8,Ue),t("button",{class:"copy-button",onClick:H=>O(l)}," ğŸ“‹ å¤åˆ¶ ",8,ze)])]))),128))]),t("div",{class:"batch-download"},[t("button",{class:"action-button primary",onClick:j}," ğŸ“¦ æ‰¹é‡ä¸‹è½½æ‰€æœ‰å›¾æ ‡ ")])])):b("",!0),n.value?(v(),c("div",Fe," âš ï¸ "+o(n.value),1)):b("",!0),a.value?(v(),c("div",Te," âœ… "+o(a.value),1)):b("",!0)])]))}};export{De as default};
